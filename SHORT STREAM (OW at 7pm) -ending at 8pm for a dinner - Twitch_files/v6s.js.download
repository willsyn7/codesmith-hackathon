/*!
 * Amazon Video Ads SDK
 * Version : 1.1.7
 * Build Time (UTC) : Sat, 06 Jul 2024 05:22:57 GMT
 */(function(e){var t={};function r(n){if(t[n]){return t[n].exports}var i=t[n]={i:n,l:false,exports:{}};e[n].call(i.exports,i,i.exports,r);i.l=true;return i.exports}r.m=e;r.c=t;r.d=function(e,t,n){if(!r.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:n})}};r.r=function(e){Object.defineProperty(e,"__esModule",{value:true})};r.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=19)})([function(e,t,r){"use strict";if(true){e.exports=r(189)}else{}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t){function r(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}e.exports=r},function(e,t,r){var n=r(70);function i(e,t,r){var i=e==null?undefined:n(e,t);return i===undefined?r:i}e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e["AD_REQUEST_NETWORK_ERROR"]="AD_REQUEST_NETWORK_ERROR";e["AD_REQUEST_TIMEOUT_ERROR"]="AD_REQUEST_TIMEOUT_ERROR";e["AD_REQUEST_EMPTY_VAST_ERROR"]="AD_REQUEST_EMPTY_VAST_ERROR";e["AD_REQUEST_MISSING_REQUIRED_FIELD_ERROR"]="AD_REQUEST_MISSING_REQUIRED_FIELD_ERROR";e["AD_REQUEST_INVALID_FIELD_ERROR"]="AD_REQUEST_INVALID_FIELD_ERROR";e["AD_REQUEST_MIXED_CONTENT_ERROR"]="AD_REQUEST_MIXED_CONTENT_ERROR";e["SCHEMA_VALIDATION_ERROR"]="SCHEMA_VALIDATION_ERROR";e["UNSUPPORTED_VAST_VERSION_ERROR"]="UNSUPPORTED_VAST_VERSION_ERROR";e["XML_PARSING_ERROR"]="XML_PARSING_ERROR";e["UNEXPECTED_AD_LINEARITY"]="UNEXPECTED_AD_LINEARITY";e["VIDEO_PLAYER_EXPECTING_DIFFERENT_DURATION"]="VIDEO_PLAYER_EXPECTING_DIFFERENT_DURATION";e["WRAPPER_DUPLICATE_URI"]="WRAPPER_DUPLICATE_URL";e["WRAPPER_LIMIT_REACHED"]="WRAPPER_LIMIT_REACHED";e["WRAPPER_MISSING_RESPONSE"]="WRAPPER_MISSING_RESPONSE";e["WRAPPER_URI_TIMEOUT"]="WRAPPER_URI_TIMEOUT";e["XML_WRAPPER_PARSING_ERROR"]="XML_WRAPPER_PARSING_ERROR";e["MEDIA_FILE_BUFFERING_TIMEOUT"]="MEDIA_FILE_BUFFERING_TIMEOUT";e["MEDIA_FILE_LOAD_TIMEOUT"]="MEDIA_FILE_LOAD_TIMEOUT";e["MEDIA_FILE_NOT_FOUND"]="MEDIA_FILE_NOT_FOUND";e["MEDIA_FILE_NOT_SUPPORTED"]="MEDIA_FILE_NOT_SUPPORTED";e["MEDIA_PLAYBACK_ERROR"]="MEDIA_PLAYBACK_ERROR";e["MEDIA_FILE_UNPLAYABLE"]="MEDIA_FILE_UNPLAYABLE";e["AD_BREAK_TIMEOUT"]="AD_BREAK_TIMEOUT";e["COMPANION_ADS_GENERAL_ERROR"]="COMPANION_ADS_GENERAL_ERROR";e["COMPANION_ADS_CREATIVE_DIMENSIONS_ERROR"]="COMPANION_ADS_CREATIVE_DIMENSIONS_ERROR";e["COMPANION_ADS_REQUIRED_ERROR"]="COMPANION_ADS_REQUIRED_ERROR";e["COMPANION_ADS_FETCH_ERROR"]="COMPANION_ADS_FETCH_ERROR";e["COMPANION_ADS_TYPE_ERROR"]="COMPANION_ADS_TYPE_ERROR"})(n=t.AmazonErrorCode||(t.AmazonErrorCode={}));var i;(function(e){e[e["PARSING_GENERAL_ERROR"]=100]="PARSING_GENERAL_ERROR";e[e["PARSING_VALIDATION_ERROR"]=101]="PARSING_VALIDATION_ERROR";e[e["PARSING_UNSUPPORTED_VERSION_ERROR"]=102]="PARSING_UNSUPPORTED_VERSION_ERROR";e[e["VIDEO_PLAYER_LINEARITY_ERROR"]=201]="VIDEO_PLAYER_LINEARITY_ERROR";e[e["VIDEO_PLAYER_DURATION_ERROR"]=202]="VIDEO_PLAYER_DURATION_ERROR";e[e["UNWRAP_GENERAL_ERROR"]=300]="UNWRAP_GENERAL_ERROR";e[e["UNWRAP_URI_UNAVAILABLE_ERROR"]=301]="UNWRAP_URI_UNAVAILABLE_ERROR";e[e["UNWRAP_LIMIT_REACHED_ERROR"]=302]="UNWRAP_LIMIT_REACHED_ERROR";e[e["UNWRAP_NO_ADS_ERROR"]=303]="UNWRAP_NO_ADS_ERROR";e[e["LINEAR_GENERAL_ERROR"]=400]="LINEAR_GENERAL_ERROR";e[e["LINEAR_NOT_FOUND_ERROR"]=401]="LINEAR_NOT_FOUND_ERROR";e[e["LINEAR_TIMEOUT_ERROR"]=402]="LINEAR_TIMEOUT_ERROR";e[e["LINEAR_NOT_SUPPORTED_ERROR"]=403]="LINEAR_NOT_SUPPORTED_ERROR";e[e["LINEAR_DISPLAY_ERROR"]=405]="LINEAR_DISPLAY_ERROR";e[e["COMPANION_ADS_GENERAL_ERROR"]=600]="COMPANION_ADS_GENERAL_ERROR";e[e["COMPANION_ADS_CREATIVE_DIMENSIONS_ERROR"]=601]="COMPANION_ADS_CREATIVE_DIMENSIONS_ERROR";e[e["COMPANION_ADS_REQUIRED_ERROR"]=602]="COMPANION_ADS_REQUIRED_ERROR";e[e["COMPANION_ADS_FETCH_ERROR"]=603]="COMPANION_ADS_FETCH_ERROR";e[e["COMPANION_ADS_TYPE_ERROR"]=604]="COMPANION_ADS_TYPE_ERROR";e[e["UNDEFINED_ERROR"]=900]="UNDEFINED_ERROR"})(i=t.VastErrorCode||(t.VastErrorCode={}));var o;(function(e){e["AD_LOAD"]="AD_LOAD";e["AD_PLAY"]="PLAYBACK_ERROR"})(o=t.ErrorType||(t.ErrorType={}));class a{constructor(e,t,r){this.errorType=e;this.errorCode=t;this.message=r}withHttpError(e){this.httpErrorCode=e;return this}getVastErrorCode(){switch(this.errorCode){case n.XML_PARSING_ERROR:return i.PARSING_GENERAL_ERROR;case n.SCHEMA_VALIDATION_ERROR:return i.PARSING_VALIDATION_ERROR;case n.UNSUPPORTED_VAST_VERSION_ERROR:return i.PARSING_UNSUPPORTED_VERSION_ERROR;case n.UNEXPECTED_AD_LINEARITY:return i.VIDEO_PLAYER_LINEARITY_ERROR;case n.VIDEO_PLAYER_EXPECTING_DIFFERENT_DURATION:return i.VIDEO_PLAYER_DURATION_ERROR;case n.XML_WRAPPER_PARSING_ERROR:return i.UNWRAP_GENERAL_ERROR;case n.WRAPPER_URI_TIMEOUT:return i.UNWRAP_URI_UNAVAILABLE_ERROR;case n.WRAPPER_DUPLICATE_URI:return i.UNWRAP_GENERAL_ERROR;case n.WRAPPER_LIMIT_REACHED:return i.UNWRAP_LIMIT_REACHED_ERROR;case n.WRAPPER_MISSING_RESPONSE:return i.UNWRAP_NO_ADS_ERROR;case n.MEDIA_PLAYBACK_ERROR:return i.LINEAR_GENERAL_ERROR;case n.MEDIA_FILE_NOT_FOUND:return i.LINEAR_NOT_FOUND_ERROR;case n.MEDIA_FILE_LOAD_TIMEOUT:return i.LINEAR_TIMEOUT_ERROR;case n.MEDIA_FILE_BUFFERING_TIMEOUT:return i.LINEAR_TIMEOUT_ERROR;case n.MEDIA_FILE_NOT_SUPPORTED:return i.LINEAR_NOT_SUPPORTED_ERROR;case n.MEDIA_FILE_UNPLAYABLE:return i.LINEAR_DISPLAY_ERROR;case n.AD_BREAK_TIMEOUT:return i.UNDEFINED_ERROR;case n.COMPANION_ADS_GENERAL_ERROR:return i.COMPANION_ADS_GENERAL_ERROR;case n.COMPANION_ADS_CREATIVE_DIMENSIONS_ERROR:return i.COMPANION_ADS_CREATIVE_DIMENSIONS_ERROR;case n.COMPANION_ADS_REQUIRED_ERROR:return i.COMPANION_ADS_REQUIRED_ERROR;case n.COMPANION_ADS_FETCH_ERROR:return i.COMPANION_ADS_FETCH_ERROR;case n.COMPANION_ADS_TYPE_ERROR:return i.COMPANION_ADS_TYPE_ERROR;default:return i.UNDEFINED_ERROR}}}t.AmazonVideoAdsError=a},function(e,t,r){var n=r(43);var i=typeof self=="object"&&self&&self.Object===Object&&self;var o=n||i||Function("return this")();e.exports=o},function(e,t,r){if(false){var n,i}else{e.exports=r(201)()}},function(e,t,r){var n=r(45),i=r(109),o=r(69),a=r(10),s=r(25),u=r(48);function l(e){var t=u(e);if(!(t||a(e))){return i(e)}var r=o(e),l=!!r,c=r||[],d=c.length;for(var f in e){if(n(e,f)&&!(l&&(f=="length"||s(f,d)))&&!(t&&f=="constructor")){c.push(f)}}return c}e.exports=l},function(e,t){function r(e){return!!e&&typeof e=="object"}e.exports=r},function(e,t,r){var n=r(99),i=r(102);function o(e,t){var r=i(e,t);return n(r)?r:undefined}e.exports=o},function(e,t,r){var n=r(107),i=r(13),o=r(23);function a(e){return e!=null&&o(n(e))&&!i(e)}e.exports=a},function(e,t,r){e.exports=r(163)},function(e,t,r){var n=r(42),i=r(22),o=r(1),a=r(10),s=r(67),u=r(13),l=r(8),c=r(24),d=r(7);var f="[object Map]",p="[object Set]";var h=Object.prototype;var m=h.hasOwnProperty;var v=h.propertyIsEnumerable;var E=!v.call({valueOf:1},"valueOf");function y(e){if(a(e)&&(o(e)||c(e)||u(e.splice)||i(e)||s(e))){return!e.length}if(l(e)){var t=n(e);if(t==f||t==p){return!e.size}}for(var r in e){if(m.call(e,r)){return false}}return!(E&&d(e).length)}e.exports=y},function(e,t,r){var n=r(2);var i="[object Function]",o="[object GeneratorFunction]";var a=Object.prototype;var s=a.toString;function u(e){var t=n(e)?s.call(e):"";return t==i||t==o}e.exports=u},function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},function(e,t,r){var n=r(52),i=r(72),o=r(33),a=r(161),s=r(1);function u(e,t,r){var u=s(e)?n:a,l=arguments.length<3;return u(e,o(t,4),r,l,i)}e.exports=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(35);var i;(function(e){e["PLAY_NEXT_AD"]="PLAY_NEXT_AD";e["PREPARE_FOR_AD_BREAK"]="PREPARE_FOR_AD_BREAK";e["SET_AD_DURATION"]="SET_AD_DURATION"})(i=t.AdActionTypes||(t.AdActionTypes={}));t.playNextAd=((e,t)=>{return{payload:{bitrate:t,vastBody:e},type:i.PLAY_NEXT_AD}});t.prepareForAdBreak=(()=>{return{type:i.PREPARE_FOR_AD_BREAK}});t.setAdDuration=(e=>{return{type:i.SET_AD_DURATION,payload:{duration:e}}});t.selectNextAd=(()=>{return(e,r)=>{e(n.resetPlayerLifecycle());e(t.playNextAd(r().vast.vastBody,r().networkStatistics.bitrate))}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e["AUDIO_MP3"]="audio/mp3";e["VIDEO_MP4"]="video/mp4";e["VIDEO_WEBM"]="video/webm"})(n=t.MediaType||(t.MediaType={}))},function(e,t,r){"use strict";r.r(t);r.d(t,"createStore",function(){return u});r.d(t,"combineReducers",function(){return p});r.d(t,"bindActionCreators",function(){return m});r.d(t,"applyMiddleware",function(){return E});r.d(t,"compose",function(){return v});r.d(t,"__DO_NOT_USE__ActionTypes",function(){return i});var n=r(63);var i={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")};var o=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};function s(e){if((typeof e==="undefined"?"undefined":o(e))!=="object"||e===null)return false;var t=e;while(Object.getPrototypeOf(t)!==null){t=Object.getPrototypeOf(t)}return Object.getPrototypeOf(e)===t}function u(e,t,r){var a;if(typeof t==="function"&&typeof r==="undefined"){r=t;t=undefined}if(typeof r!=="undefined"){if(typeof r!=="function"){throw new Error("Expected the enhancer to be a function.")}return r(u)(e,t)}if(typeof e!=="function"){throw new Error("Expected the reducer to be a function.")}var l=e;var c=t;var d=[];var f=d;var p=false;function h(){if(f===d){f=d.slice()}}function m(){if(p){throw new Error("You may not call store.getState() while the reducer is executing. "+"The reducer has already received the state as an argument. "+"Pass it down from the top reducer instead of reading it from the store.")}return c}function v(e){if(typeof e!=="function"){throw new Error("Expected the listener to be a function.")}if(p){throw new Error("You may not call store.subscribe() while the reducer is executing. "+"If you would like to be notified after the store has been updated, subscribe from a "+"component and invoke store.getState() in the callback to access the latest state. "+"See https://redux.js.org/api-reference/store#subscribe(listener) for more details.")}var t=true;h();f.push(e);return function r(){if(!t){return}if(p){throw new Error("You may not unsubscribe from a store listener while the reducer is executing. "+"See https://redux.js.org/api-reference/store#subscribe(listener) for more details.")}t=false;h();var n=f.indexOf(e);f.splice(n,1)}}function E(e){if(!s(e)){throw new Error("Actions must be plain objects. "+"Use custom middleware for async actions.")}if(typeof e.type==="undefined"){throw new Error('Actions may not have an undefined "type" property. '+"Have you misspelled a constant?")}if(p){throw new Error("Reducers may not dispatch actions.")}try{p=true;c=l(c,e)}finally{p=false}var t=d=f;for(var r=0;r<t.length;r++){var n=t[r];n()}return e}function y(e){if(typeof e!=="function"){throw new Error("Expected the nextReducer to be a function.")}l=e;E({type:i.REPLACE})}function g(){var e;var t=v;return e={subscribe:function e(r){if((typeof r==="undefined"?"undefined":o(r))!=="object"||r===null){throw new TypeError("Expected the observer to be an object.")}function n(){if(r.next){r.next(m())}}n();var i=t(n);return{unsubscribe:i}}},e[n["a"]]=function(){return this},e}E({type:i.INIT});return a={dispatch:E,subscribe:v,getState:m,replaceReducer:y},a[n["a"]]=g,a}function l(e){if(typeof console!=="undefined"&&typeof console.error==="function"){}try{throw new Error(e)}catch(e){}}function c(e,t){var r=t&&t.type;var n=r&&'action "'+String(r)+'"'||"an action";return"Given "+n+', reducer "'+e+'" returned undefined. '+"To ignore an action, you must explicitly return the previous state. "+"If you want this reducer to hold no value, you can return null instead of undefined."}function d(e,t,r,n){var o=Object.keys(t);var a=r&&r.type===i.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(o.length===0){return"Store does not have a valid reducer. Make sure the argument passed "+"to combineReducers is an object whose values are reducers."}if(!s(e)){return"The "+a+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+o.join('", "')+'"')}var u=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)&&!n[e]});u.forEach(function(e){n[e]=true});if(r&&r.type===i.REPLACE)return;if(u.length>0){return"Unexpected "+(u.length>1?"keys":"key")+" "+('"'+u.join('", "')+'" found in '+a+". ")+"Expected to find one of the known reducer keys instead: "+('"'+o.join('", "')+'". Unexpected keys will be ignored.')}}function f(e){Object.keys(e).forEach(function(t){var r=e[t];var n=r(undefined,{type:i.INIT});if(typeof n==="undefined"){throw new Error('Reducer "'+t+'" returned undefined during initialization. '+"If the state passed to the reducer is undefined, you must "+"explicitly return the initial state. The initial state may "+"not be undefined. If you don't want to set a value for this reducer, "+"you can use null instead of undefined.")}var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(typeof r(undefined,{type:o})==="undefined"){throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+i.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the "+"current state for any unknown actions, unless it is undefined, "+"in which case you must return the initial state, regardless of the "+"action type. The initial state may not be undefined, but can be null.")}})}function p(e){var t=Object.keys(e);var r={};for(var n=0;n<t.length;n++){var i=t[n];if(false){}if(typeof e[i]==="function"){r[i]=e[i]}}var o=Object.keys(r);var a=void 0;if(false){}var s=void 0;try{f(r)}catch(e){s=e}return function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments[1];if(s){throw s}if(false){var i}var a=false;var u={};for(var l=0;l<o.length;l++){var d=o[l];var f=r[d];var p=t[d];var h=f(p,n);if(typeof h==="undefined"){var m=c(d,n);throw new Error(m)}u[d]=h;a=a||h!==p}return a?u:t}}function h(e,t){return function(){return t(e.apply(this,arguments))}}function m(e,t){if(typeof e==="function"){return h(e,t)}if((typeof e==="undefined"?"undefined":o(e))!=="object"||e===null){throw new Error("bindActionCreators expected an object or a function, instead received "+(e===null?"null":typeof e==="undefined"?"undefined":o(e))+". "+'Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?')}var r=Object.keys(e);var n={};for(var i=0;i<r.length;i++){var a=r[i];var s=e[a];if(typeof s==="function"){n[a]=h(s,t)}}return n}function v(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}if(t.length===0){return function(e){return e}}if(t.length===1){return t[0]}return t.reduce(function(e,t){return function(){return e(t.apply(undefined,arguments))}})}function E(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}return function(e){return function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var o=e.apply(undefined,n);var s=function e(){throw new Error("Dispatching while constructing your middleware is not allowed. "+"Other middleware would not be applied to this dispatch.")};var u={getState:o.getState,dispatch:function e(){return s.apply(undefined,arguments)}};var l=t.map(function(e){return e(u)});s=v.apply(undefined,l)(o.dispatch);return a({},o,{dispatch:s})}}}function y(){}if(false){}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});r(96).polyfill();const i=n(r(12));const o=n(r(49));const a=n(r(24));const s=r(111);const u=r(40);const l=r(88);const c=r(4);const d=r(259);const f=r(260);const p=r(56);t.AMAZON_VIDEO_ADS_IFRAME_NODE_ID="amazon-video-ads-iframe";t.AMAZON_COMPANION_AD_DIV_ID="amazon-companion-ad-div";t.DEFAULT_INITIAL_AD_REQUEST_TIMEOUT=5e3;t.DEFAULT_WRAPPER_AD_REQUEST_TIMEOUT=5e3;t.DEFAULT_START_VIDEO_PLAY_TIMEOUT=8e3;t.DEFAULT_VIDEO_PLAY_STALL_TIMEOUT=1e4;t.DEFAULT_AD_BREAK_BUFFER_TIMEOUT=3e4;t.DEFAULT_MAX_WRAPPER_DEPTH=5;t.DEFAULT_BUFFERING_SPINNER_COLOR="#00A8E1";t.SECONDS_TO_MILLISECONDS=1e3;class h{constructor(e){this.adsContainerNode=e;this.iframeNode=null;this.companionContainerNode=null;this.companionDivNode=null;this.adBreakBufferTimeout=t.DEFAULT_AD_BREAK_BUFFER_TIMEOUT;this.startVideoPlayTimeout=t.DEFAULT_START_VIDEO_PLAY_TIMEOUT;this.videoPlayStallTimeout=t.DEFAULT_VIDEO_PLAY_STALL_TIMEOUT;this.initialAdRequestTimeout=t.DEFAULT_INITIAL_AD_REQUEST_TIMEOUT;this.wrapperAdRequestTimeout=t.DEFAULT_WRAPPER_AD_REQUEST_TIMEOUT;this.maxWrapperDepth=t.DEFAULT_MAX_WRAPPER_DEPTH;this.bufferingSpinnerColor=t.DEFAULT_BUFFERING_SPINNER_COLOR;this.eventNames=this.getEventNames();this.mountAmazonVideoAdsIframe();this.adsController=new s.AdsController;this.playerController=new l.PlayerController}newRequestBuilder(){return new d.RequestBuilder}newSlotBuilder(){return new f.SlotBuilder}fetchAds(e){if(i.default(e)){throw new c.AmazonVideoAdsError(c.ErrorType.AD_LOAD,c.AmazonErrorCode.AD_REQUEST_MISSING_REQUIRED_FIELD_ERROR,"Ad Request URL can not be empty.")}return this.adsController.fetchAds(e,{adBreakBufferTimeout:this.adBreakBufferTimeout,parsingLimits:{initialAdRequestTimeout:this.initialAdRequestTimeout,wrapperAdRequestTimeout:this.wrapperAdRequestTimeout,maxWrapperDepth:this.maxWrapperDepth}}).then(e=>{return new u.AdsManager(this.iframeNode,{adBreakBufferTimeout:e,videoPlayStallTimeout:this.videoPlayStallTimeout,startVideoPlayTimeout:this.startVideoPlayTimeout,bufferingSpinnerColor:this.bufferingSpinnerColor},()=>{this.resetFrame()})}).catch(e=>{throw e})}fireTrackingPixel(e){if(e){p.fireUserIdentityTrackingPixel()}}setCompanion(e){this.companionContainerNode=e;this.mountCompanionDiv();this.playerController.setCompanion();return this}setAdBreakBufferTimeout(e){if(o.default(e)&&e>=0){this.adBreakBufferTimeout=e}return this}setBufferingSpinnerColor(e){if(a.default(e)){this.bufferingSpinnerColor=e}else{}return this}setVideoPlayStallTimeout(e){if(o.default(e)&&e>=0){this.videoPlayStallTimeout=e}else{}return this}setStartVideoPlayTimeout(e){if(o.default(e)&&e>=0){this.startVideoPlayTimeout=e}else{}return this}setTrackingPrefix(e){if(a.default(e)){window.V6S_TRACKING_PREFIX=e}else{}return this}setInitialAdRequestTimeout(e){if(o.default(e)&&e>=0){this.initialAdRequestTimeout=e}else{}return this}setWrapperAdRequestTimeout(e){if(o.default(e)&&e>=0){this.wrapperAdRequestTimeout=e}else{}return this}setMaxWrapperDepth(e){if(o.default(e)&&e>=0){this.maxWrapperDepth=e}else{}return this}sanitizeValue(e){if(!e){return""}return e}getEventNames(){return{AdVideoPlayerEvents:u.AdVideoPlayerEvents}}mountStyleSheets(){const e=`\n      @keyframes spin {\n        0% { transform: rotate(0deg) }\n        100% { transform: rotate(360deg) }\n      }\n    `;const t=this.iframeNode.contentDocument.createElement("style");this.iframeNode.contentDocument.head.appendChild(t);const r=t.sheet;r.insertRule(e,r.cssRules.length)}mountAmazonVideoAdsIframe(){this.iframeNode=document.createElement("iframe");this.iframeNode.id=t.AMAZON_VIDEO_ADS_IFRAME_NODE_ID;this.iframeNode.style.width="100%";this.iframeNode.style.height="100%";this.iframeNode.style.border="0";this.iframeNode.style.display="none";this.iframeNode.onload=(()=>{if(!this.iframeNode.contentDocument){return}this.mountStyleSheets();this.iframeNode.contentDocument.body.style.margin="0"});this.adsContainerNode.appendChild(this.iframeNode)}mountCompanionDiv(){if(!this.companionContainerNode){return}if(this.companionDivNode){this.companionDivNode.remove()}this.companionDivNode=document.createElement("div");this.companionDivNode.id=t.AMAZON_COMPANION_AD_DIV_ID;this.companionDivNode.style.width="100%";this.companionDivNode.style.height="100%";this.companionDivNode.style.border="0";this.companionDivNode.style.display="none";this.companionDivNode.style.overflow="hidden";this.companionDivNode.onload=(()=>{if(!this.companionDivNode){return}this.companionDivNode.style.margin="0"});this.companionContainerNode.appendChild(this.companionDivNode)}resetFrame(){this.iframeNode.remove();if(this.companionDivNode){this.companionDivNode.remove()}this.mountAmazonVideoAdsIframe();this.mountCompanionDiv();this.playerController.reset()}}t.AmazonVideoAds=h;window.AmazonVideoAds=window.AmazonVideoAds||h},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")r=window}e.exports=r},function(e,t){function r(e){var t=false;if(e!=null&&typeof e.toString!="function"){try{t=!!(e+"")}catch(e){}}return t}e.exports=r},function(e,t,r){var n=r(65);var i="[object Arguments]";var o=Object.prototype;var a=o.hasOwnProperty;var s=o.toString;var u=o.propertyIsEnumerable;function l(e){return n(e)&&a.call(e,"callee")&&(!u.call(e,"callee")||s.call(e)==i)}e.exports=l},function(e,t){var r=9007199254740991;function n(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r}e.exports=n},function(e,t,r){var n=r(1),i=r(8);var o="[object String]";var a=Object.prototype;var s=a.toString;function u(e){return typeof e=="string"||!n(e)&&i(e)&&s.call(e)==o}e.exports=u},function(e,t){var r=9007199254740991;var n=/^(?:0|[1-9]\d*)$/;function i(e,t){t=t==null?r:t;return!!t&&(typeof e=="number"||n.test(e))&&(e>-1&&e%1==0&&e<t)}e.exports=i},function(e,t,r){var n=r(9);var i=n(Object,"create");e.exports=i},function(e,t,r){var n=r(121),i=r(122),o=r(123),a=r(124),s=r(125);function u(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n;u.prototype["delete"]=i;u.prototype.get=o;u.prototype.has=a;u.prototype.set=s;e.exports=u},function(e,t,r){var n=r(14);function i(e,t){var r=e.length;while(r--){if(n(e[r][0],t)){return r}}return-1}e.exports=i},function(e,t,r){var n=r(127);function i(e,t){var r=e.__data__;return n(t)?r[typeof t=="string"?"string":"hash"]:r.map}e.exports=i},function(e,t,r){var n=r(8);var i="[object Symbol]";var o=Object.prototype;var a=o.toString;function s(e){return typeof e=="symbol"||n(e)&&a.call(e)==i}e.exports=s},function(e,t,r){var n=r(1),i=r(30);var o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(e,t){if(n(e)){return false}var r=typeof e;if(r=="number"||r=="symbol"||r=="boolean"||e==null||i(e)){return true}return a.test(e)||!o.test(e)||t!=null&&e in Object(t)}e.exports=s},function(e,t,r){var n=r(30);var i=1/0;function o(e){if(typeof e=="string"||n(e)){return e}var t=e+"";return t=="0"&&1/e==-i?"-0":t}e.exports=o},function(e,t,r){var n=r(137),i=r(155),o=r(158),a=r(1),s=r(159);function u(e){if(typeof e=="function"){return e}if(e==null){return o}if(typeof e=="object"){return a(e)?i(e[0],e[1]):n(e)}return s(e)}e.exports=u},function(e,t,r){var n=r(27),i=r(139),o=r(140),a=r(141),s=r(142),u=r(143);function l(e){this.__data__=new n(e)}l.prototype.clear=i;l.prototype["delete"]=o;l.prototype.get=a;l.prototype.has=s;l.prototype.set=u;e.exports=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e["MIRROR_PUBLISHER_PLAYER_STATE"]="MIRROR_PUBLISHER_PLAYER_STATE";e["RESET_PLAYER_LIFECYCLE"]="RESET_PLAYER_LIFECYCLE";e["SET_BUFFERING"]="SET_BUFFERING";e["SET_MUTED"]="SET_MUTED";e["SET_VOLUME"]="SET_VOLUME";e["SET_PAUSED"]="SET_PAUSED";e["SET_PLAY_STARTED"]="SET_PLAY_STARTED";e["SET_PLAY_REQUESTED"]="SET_PLAY_REQUESTED";e["SET_PROGRESS"]="SET_PROGRESS";e["SET_DURATION_AUDIBLE"]="SET_DURATION_AUDIBLE";e["SET_FULLSCREEN"]="SET_FULLSCREEN";e["SET_LOADED_DATA"]="SET_LOADED_DATA";e["SET_INITIALIZED"]="SET_INITIALIZED"})(n=t.PlayerActionTypes||(t.PlayerActionTypes={}));t.resetPlayerLifecycle=(()=>{return{type:n.RESET_PLAYER_LIFECYCLE}});t.setBuffering=(e=>{return{payload:{buffering:e},type:n.SET_BUFFERING}});t.setMuted=(e=>{return{payload:{muted:e},type:n.SET_MUTED}});t.setVolume=(e=>{return{payload:{volume:e},type:n.SET_VOLUME}});t.setPaused=(e=>{return{payload:{paused:e},type:n.SET_PAUSED}});t.setFullscreen=(e=>{return{payload:{fullscreen:e},type:n.SET_FULLSCREEN}});t.setPlayStarted=(e=>{return{payload:{playStarted:e},type:n.SET_PLAY_STARTED}});t.setProgress=(e=>{return{payload:{progress:e},type:n.SET_PROGRESS}});t.setDurationAudible=(e=>{return{payload:{duration:e},type:n.SET_DURATION_AUDIBLE}});t.setPlayRequested=(e=>{return{payload:{playRequested:e},type:n.SET_PLAY_REQUESTED}});t.mirrorPublisherPlayerState=(e=>{return{payload:e,type:n.MIRROR_PUBLISHER_PLAYER_STATE}});t.setLoadedData=(e=>{return{payload:{loadedData:e},type:n.SET_LOADED_DATA}});t.setInitialized=(e=>{return{payload:{initialized:e},type:n.SET_INITIALIZED}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e["LINE_ITEM_ID"]="LineItemId";e["ADVERTISER_ID"]="AdvertiserId";e["ORDER_ID"]="OrderId";e["CREATIVE_ID"]="CreativeId"})(n=t.ViewabilityExtensions||(t.ViewabilityExtensions={}));class i{constructor(e={}){this.id=e.id||null;this.adId=e.adId||null;this.sequence=e.sequence||null;this.apiFramework=e.apiFramework||null;this.extensions=[]}}t.Creative=i},function(e,t,r){var n=r(177),i=r(178);var o=n(i);e.exports=o},function(e,t){function r(e){return e==null}e.exports=r},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const o=n(r(0));const a=n(r(190));const s=r(62);const u=r(18);const l=i(r(204));const c=r(19);r(19);const d=r(205);const f=r(213);const p=r(216);t.AMAZON_CLIENT_SIDE_AD_UI_NODE_ID="amazon-video-ads-ui";t.AMAZON_COMPANION_AD_UI_NODE_ID="amazon-companion-ad-ui";let h=u.compose;if(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&"production"==="development"){h=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__}t.getAdIframeNode=(()=>{return document.querySelector(`#${c.AMAZON_VIDEO_ADS_IFRAME_NODE_ID}`)});t.getAdUINode=(()=>{const e=t.getAdIframeNode();const r=e.contentDocument.querySelector(`#${t.AMAZON_CLIENT_SIDE_AD_UI_NODE_ID}`);return r});t.getCompanionDivNode=(()=>{return document.querySelector(`#${c.AMAZON_COMPANION_AD_DIV_ID}`)});t.getCompanionUINode=(()=>{const e=document.querySelector(`#${t.AMAZON_COMPANION_AD_UI_NODE_ID}`);return e});t.mountAdUINode=(()=>{let e;const r=t.getAdIframeNode();const n=r.contentDocument.body;e=t.getAdUINode();if(!e){e=r.contentDocument.createElement("main");e.id=t.AMAZON_CLIENT_SIDE_AD_UI_NODE_ID}n.appendChild(e);return e});t.mountCompanionUINode=(()=>{let e;const r=t.getCompanionDivNode();if(!r){return null}e=t.getCompanionUINode();if(!e){e=document.createElement("main");e.id=t.AMAZON_COMPANION_AD_UI_NODE_ID}r.appendChild(e);return e});t.initializeStore=(e=>u.createStore(p.reducers,e,h(u.applyMiddleware(l.default))));t.store=t.initializeStore();t.unmountPlayer=(()=>{const e=t.getAdUINode();a.unmountComponentAtNode(e)});t.unmountCompanion=(()=>{const e=t.getCompanionUINode();if(e){a.unmountComponentAtNode(e)}});t.mountPlayer=(e=>{const r=t.mountAdUINode();return a.render(o.createElement(s.Provider,{store:t.store},o.createElement(d.App,Object.assign({},e))),r)});t.mountCompanion=(e=>{const r=t.mountCompanionUINode();if(r){return a.render(o.createElement(s.Provider,{store:t.store},o.createElement(f.CompanionApp,Object.assign({},e))),r)}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(39);const i=r(87);const o=r(88);var a;(function(e){e["CLICKED"]="AD_VIDEO_PLAYER_CLICKED";e["CREATIVE_ERROR"]="AD_VIDEO_PLAYER_CREATIVE_ERROR";e["COMPLETED"]="AD_VIDEO_PLAYER_COMPLETED";e["CREATIVE_VIEWED"]="AD_VIDEO_PLAYER_CREATIVE_VIEWED";e["ERRORED"]="AD_VIDEO_PLAYER_ERRORED";e["EXIT_FULLSCREEN"]="AD_VIDEO_PLAYER_EXIT_FULLSCREEN";e["FIRST_QUARTILE"]="AD_VIDEO_PLAYER_FIRST_QUARTILE";e["FULLSCREEN"]="AD_VIDEO_PLAYER_FULLSCREEN";e["IMPRESSION"]="AD_VIDEO_PLAYER_IMPRESSION";e["LOADED"]="AD_VIDEO_PLAYER_LOADED";e["MIDPOINT"]="AD_VIDEO_PLAYER_MIDPOINT";e["MUTED"]="AD_VIDEO_PLAYER_MUTED";e["PAUSED"]="AD_VIDEO_PLAYER_PAUSED";e["PROGRESS"]="AD_VIDEO_PLAYER_PROGRESS";e["REQUEST_PAUSE"]="REQUEST_CONTENT_VIDEO_PLAYER_PAUSE";e["REQUEST_RESUME"]="REQUEST_CONTENT_VIDEO_PLAYER_RESUME";e["RESUMED"]="AD_VIDEO_PLAYER_RESUMED";e["STARTED"]="AD_VIDEO_PLAYER_STARTED";e["THIRD_QUARTILE"]="AD_VIDEO_PLAYER_THIRD_QUARTILE";e["UNMUTED"]="AD_VIDEO_PLAYER_UNMUTED";e["VOLUME_CHANGE"]="AD_VIDEO_PLAYER_VOLUME_CHANGE"})(a=t.AdVideoPlayerEvents||(t.AdVideoPlayerEvents={}));class s{constructor(e,t,r){this.onRequestResume=(()=>{clearInterval(this.detectRemoval);this.messageBridge.destroy()});this.iframeNode=e;this.videoPlayStallTimeout=t.videoPlayStallTimeout;this.startVideoPlayTimeout=t.startVideoPlayTimeout;this.adBreakBufferTimeout=t.adBreakBufferTimeout;this.bufferingSpinnerColor=t.bufferingSpinnerColor;this.messageBridge=new i.IframeBridge(this.iframeNode.contentWindow,window);this.resetIframe=r;this.detectRemoval=window.setInterval(()=>{if(!this.iframeNode.contentDocument){clearInterval(this.detectRemoval);this.cancelAdBreak();this.errorCallback({errorCode:"User agent intervention"});this.resetIframe()}},50);this.addListeners()}startAds(e){const t={bitrate:e,videoPlayStallTimeout:this.videoPlayStallTimeout,startVideoPlayTimeout:this.startVideoPlayTimeout,adBreakBufferTimeout:this.adBreakBufferTimeout,bufferingSpinnerColor:this.bufferingSpinnerColor};this.messageBridge.postMessage({eventName:o.PublisherVideoPlayerEvents.START_ADS,values:t})}init(e){this.messageBridge.postMessage({eventName:o.PublisherVideoPlayerEvents.INIT,values:e})}pause(){this.messageBridge.postMessage({eventName:o.PublisherVideoPlayerEvents.PAUSE})}play(){this.messageBridge.postMessage({eventName:o.PublisherVideoPlayerEvents.PLAY})}setVolume(e){const t={volume:e};this.messageBridge.postMessage({eventName:o.PublisherVideoPlayerEvents.SET_VOLUME,values:t})}mute(e){const t={muted:e};this.messageBridge.postMessage({eventName:o.PublisherVideoPlayerEvents.MUTE,values:t})}fullscreen(e){const t={fullscreen:e};this.messageBridge.postMessage({eventName:o.PublisherVideoPlayerEvents.FULLSCREEN,values:t})}destroy(){this.messageBridge.destroy();n.unmountPlayer();n.unmountCompanion()}cancelAdBreak(){this.messageBridge.postMessage({eventName:o.PublisherVideoPlayerEvents.DESTROY})}addListener(e,t){this.messageBridge.addListener(e,t);if(e===a.ERRORED){this.errorCallback=t}}addListeners(){this.messageBridge.addListener(a.REQUEST_RESUME,this.onRequestResume)}}t.AdsManager=s},function(e,t,r){"use strict";var n=function(e,t,r,n,i,o,a,s){if(false){}if(!e){var u;if(t===undefined){u=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var l=[r,n,i,o,a,s];var c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]}));u.name="Invariant Violation"}u.framesToPop=1;throw u}};e.exports=n},function(e,t,r){var n=r(98),i=r(44),o=r(103),a=r(104),s=r(105),u=r(106),l=r(64);var c="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",h="[object WeakMap]";var m="[object DataView]";var v=Object.prototype;var E=v.toString;var y=l(n),g=l(i),_=l(o),A=l(a),R=l(s);var b=u;if(n&&b(new n(new ArrayBuffer(1)))!=m||i&&b(new i)!=c||o&&b(o.resolve())!=f||a&&b(new a)!=p||s&&b(new s)!=h){b=function(e){var t=E.call(e),r=t==d?e.constructor:undefined,n=r?l(r):undefined;if(n){switch(n){case y:return m;case g:return c;case _:return f;case A:return p;case R:return h}}return t}}e.exports=b},function(e,t,r){(function(t){var r=typeof t=="object"&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(20))},function(e,t,r){var n=r(9),i=r(5);var o=n(i,"Map");e.exports=o},function(e,t,r){var n=r(46);var i=Object.prototype;var o=i.hasOwnProperty;function a(e,t){return e!=null&&(o.call(e,t)||typeof e=="object"&&t in e&&n(e)===null)}e.exports=a},function(e,t,r){var n=r(47);var i=Object.getPrototypeOf;var o=n(i,Object);e.exports=o},function(e,t){function r(e,t){return function(r){return e(t(r))}}e.exports=r},function(e,t){var r=Object.prototype;function n(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||r;return e===n}e.exports=n},function(e,t,r){var n=r(8);var i="[object Number]";var o=Object.prototype;var a=o.toString;function s(e){return typeof e=="number"||n(e)&&a.call(e)==i}e.exports=s},function(e,t,r){var n=r(114),i=r(126),o=r(128),a=r(129),s=r(130);function u(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n;u.prototype["delete"]=i;u.prototype.get=o;u.prototype.has=a;u.prototype.set=s;e.exports=u},function(e,t,r){var n=r(5);var i=n.Symbol;e.exports=i},function(e,t){function r(e,t,r,n){var i=-1,o=e?e.length:0;if(n&&o){r=e[++i]}while(++i<o){r=t(r,e[i],i,e)}return r}e.exports=r},function(e,t,r){var n=r(151),i=r(152),o=r(153);var a=o&&o.isTypedArray;var s=a?i(a):n;e.exports=s},function(e,t){function r(e,t){var r=-1,n=e?e.length:0;while(++r<n){if(t(e[r],r,e)===false){break}}return e}e.exports=r},function(e,t,r){var n=r(45),i=r(80);function o(e,t){return e!=null&&i(e,t,n)}e.exports=o},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(11));const o=r(166);const a=r(57);const s="amznidpxl";const u="https://s.amazon-adsystem.com/iui3?pid=a30f442a-e833-4300-a302-987199caf562";const l="{{timestamp}}";const c="{{eventtype}}";const d="&timestamp=";const f="&eventtype=";const p=(e,t)=>{setTimeout(()=>{let r=document.getElementById(t);if(r){r.src=e}else{r=document.createElement("iframe");r.src=e;r.height="1";r.width="1";r.scrolling="no";r.frameBorder="0";r.id=t;document.body.appendChild(r)}},0)};const h=(e,t)=>{if("loading"===document.readyState){document.addEventListener("DOMContentLoaded",()=>p(e,t),false)}else{p(e,t)}};t.fireUserIdentityTrackingPixel=(()=>{h(u,s)});t.track=((e,r,n={})=>{const i=t.resolveURLTemplates(e,r);let a="";const s=window.V6S_TRACKING_PREFIX;i.forEach(e=>{if(typeof window!=="undefined"&&window!==null){if(!o.validateUrl(e)){return}if(window.location.protocol==="https:"&&e.indexOf("http://")===0){return}if(s){a=t.populateTrackingPrefix(s,n)}const r=a+e;const i=new Image;i.addEventListener("error",()=>{});i.src=r}})});t.encodeURIComponentRFC3986=(e=>{return encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16)}`)});t.resolveURLTemplates=((e,r={})=>{const n=[];if(r.ASSETURI){r.ASSETURI=t.encodeURIComponentRFC3986(r.ASSETURI)}if(r.CONTENTPLAYHEAD){r.CONTENTPLAYHEAD=t.encodeURIComponentRFC3986(r.CONTENTPLAYHEAD)}if(r.ERRORCODE&&!/^[0-9]{3}$/.test(r.ERRORCODE+"")){r.ERRORCODE=900}r.CACHEBUSTING=Math.round(Math.random()*1e8).toString();r.TIMESTAMP=t.encodeURIComponentRFC3986((new Date).toISOString());i.default(e,e=>{if(!e){return}i.default(r,(t,r)=>{const n=`\\[${r}\\]`;const i=`%%${r}%%`;e=e.replace(new RegExp(n),t+"");e=e.replace(new RegExp(i),t+"")});n.push(e)});return n});t.populateTrackingPrefix=((e,t)=>{const{eventName:r}=t;const n=a.timestamp();return e.replace(l,d+n).replace(c,f+r)})},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(55));t.timestamp=(()=>{const e=i.default(window,"V6S_TIMER_FN");if(e){return window.V6S_TIMER_FN()}return window.performance.now()});t.difference=((e,t)=>{return t-e});t.formatSeconds=(e=>{if(!e){return""}const t=new Date(null);t.setSeconds(e);const r=t.toISOString();const n=r.indexOf("T")+1;const i=r.indexOf("Z");return r.substring(n,i)})},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(11));const o=r(176);const a=r(59);class s{constructor(){this.parserUtils=new a.ParserUtils}parseCreativeExtensions(e,t){i.default(t.childNodes,t=>{if(t.nodeName==="CreativeExtension"){const r=this.parserUtils.childByName(t,"Name");const n=this.parserUtils.childByName(t,"Value");const i=this.parserUtils.parseNodeText(r);const a=this.parserUtils.parseNodeText(n);const s=new o.CreativeExtension(i,a);e.extensions.push(s)}})}}t.CreativeParser=s},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(11));const o=n(r(37));const a=n(r(49));class s{childByName(e,t){const r=e.childNodes;const n=o.default(r,e=>e.nodeName===t);return n}childrenByName(e,t){const r=[];const n=e.childNodes;i.default(n,e=>{if(e.nodeName===t){r.push(e)}});return r}resolveVastAdTagURI(e,t){if(!t){return e}if(e.indexOf("//")===0){const{protocol:t}=location;return`${t}${e}`}if(e.indexOf("://")===-1){const r=t.slice(0,t.lastIndexOf("/"));return`${r}/${e}`}return e}parseBoolean(e){return["true","TRUE","1"].indexOf(e)!==-1}parseNodeText(e){return e&&(e.textContent||"").trim()}parseDuration(e){if(!e){return-1}if(a.default(e)){return parseInt(e,10)}const t=e.split(":");if(t.length!==3){return-1}const r=t[2].split(".");let n=parseInt(r[0],10);if(r.length===2){n+=parseFloat(`0.${r[1]}`)}const i=parseInt(t[1],10)*60;const o=parseInt(t[0],10)*60*60;if(isNaN(o)||isNaN(i)||isNaN(n)||i>60*60||n>60){return-1}return o+i+n}}t.ParserUtils=s},function(e,t,r){var n=r(90);function i(e,t,r,i){r||(r={});var o=-1,a=t.length;while(++o<a){var s=t[o];var u=i?i(r[s],e[s],s,r,e):undefined;n(r,s,u===undefined?e[s]:u)}return r}e.exports=i},function(e,t,r){var n=r(75);function i(e){var t=new e.constructor(e.byteLength);new n(t).set(new n(e));return t}e.exports=i},function(e,t,r){"use strict";r.r(t);var n=r(0);var i=r(6);var o=r.n(i);var a=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired});var s=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired});function u(e){if(typeof console!=="undefined"&&typeof console.error==="function"){}try{throw new Error(e)}catch(e){}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=false;function p(){if(f){return}f=true;u("<Provider> does not support changing `store` on the fly. "+"It is most likely that you see this error because you updated to "+"Redux 2.x and React Redux 2.x which no longer hot reload reducers "+"automatically. See https://github.com/reactjs/react-redux/releases/"+"tag/v2.0.0 for the migration instructions.")}function h(){var e;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"store";var r=arguments[1];var i=r||t+"Subscription";var u=function(e){d(r,e);r.prototype.getChildContext=function e(){var r;return r={},r[t]=this[t],r[i]=null,r};function r(n,i){l(this,r);var o=c(this,e.call(this,n,i));o[t]=n.store;return o}r.prototype.render=function e(){return n["Children"].only(this.props.children)};return r}(n["Component"]);if(false){}u.propTypes={store:s.isRequired,children:o.a.element.isRequired};u.childContextTypes=(e={},e[t]=s.isRequired,e[i]=a,e);return u}var m=h();var v=r(94);var E=r.n(v);var y=r(41);var g=r.n(y);function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var A=null;var R={notify:function e(){}};function b(){var e=[];var t=[];return{clear:function r(){t=A;e=A},notify:function r(){var n=e=t;for(var i=0;i<n.length;i++){n[i]()}},get:function e(){return t},subscribe:function r(n){var i=true;if(t===e)t=e.slice();t.push(n);return function r(){if(!i||e===A)return;i=false;if(t===e)t=e.slice();t.splice(t.indexOf(n),1)}}}}var T=function(){function e(t,r,n){_(this,e);this.store=t;this.parentSub=r;this.onStateChange=n;this.unsubscribe=null;this.listeners=R}e.prototype.addNestedSub=function e(t){this.trySubscribe();return this.listeners.subscribe(t)};e.prototype.notifyNestedSubs=function e(){this.listeners.notify()};e.prototype.isSubscribed=function e(){return Boolean(this.unsubscribe)};e.prototype.trySubscribe=function e(){if(!this.unsubscribe){this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange);this.listeners=b()}};e.prototype.tryUnsubscribe=function e(){if(this.unsubscribe){this.unsubscribe();this.unsubscribe=null;this.listeners.clear();this.listeners=R}};return e}();var P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};function w(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function O(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function S(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function I(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}var C=0;var N={};function D(){}function k(e,t){var r={run:function n(i){try{var o=e(t.getState(),i);if(o!==r.props||r.error){r.shouldComponentUpdate=true;r.props=o;r.error=null}}catch(e){r.shouldComponentUpdate=true;r.error=e}}};return r}function U(e){var t,r;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},o=i.getDisplayName,u=o===undefined?function(e){return"ConnectAdvanced("+e+")"}:o,l=i.methodName,c=l===undefined?"connectAdvanced":l,d=i.renderCountProp,f=d===undefined?undefined:d,p=i.shouldHandleStateChanges,h=p===undefined?true:p,m=i.storeKey,v=m===undefined?"store":m,y=i.withRef,_=y===undefined?false:y,A=I(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]);var R=v+"Subscription";var b=C++;var U=(t={},t[v]=s,t[R]=a,t);var x=(r={},r[R]=a,r);return function t(r){g()(typeof r=="function","You must pass a component to the function returned by "+(c+". Instead received "+JSON.stringify(r)));var i=r.displayName||r.name||"Component";var o=u(i);var a=P({},A,{getDisplayName:u,methodName:c,renderCountProp:f,shouldHandleStateChanges:h,storeKey:v,withRef:_,displayName:o,wrappedComponentName:i,WrappedComponent:r});var s=function(t){S(i,t);function i(e,r){w(this,i);var n=O(this,t.call(this,e,r));n.version=b;n.state={};n.renderCount=0;n.store=e[v]||r[v];n.propsMode=Boolean(e[v]);n.setWrappedInstance=n.setWrappedInstance.bind(n);g()(n.store,'Could not find "'+v+'" in either the context or props of '+('"'+o+'". Either wrap the root component in a <Provider>, ')+('or explicitly pass "'+v+'" as a prop to "'+o+'".'));n.initSelector();n.initSubscription();return n}i.prototype.getChildContext=function e(){var t;var r=this.propsMode?null:this.subscription;return t={},t[R]=r||this.context[R],t};i.prototype.componentDidMount=function e(){if(!h)return;this.subscription.trySubscribe();this.selector.run(this.props);if(this.selector.shouldComponentUpdate)this.forceUpdate()};i.prototype.componentWillReceiveProps=function e(t){this.selector.run(t)};i.prototype.shouldComponentUpdate=function e(){return this.selector.shouldComponentUpdate};i.prototype.componentWillUnmount=function e(){if(this.subscription)this.subscription.tryUnsubscribe();this.subscription=null;this.notifyNestedSubs=D;this.store=null;this.selector.run=D;this.selector.shouldComponentUpdate=false};i.prototype.getWrappedInstance=function e(){g()(_,"To access the wrapped instance, you need to specify "+("{ withRef: true } in the options argument of the "+c+"() call."));return this.wrappedInstance};i.prototype.setWrappedInstance=function e(t){this.wrappedInstance=t};i.prototype.initSelector=function t(){var r=e(this.store.dispatch,a);this.selector=k(r,this.store);this.selector.run(this.props)};i.prototype.initSubscription=function e(){if(!h)return;var t=(this.propsMode?this.props:this.context)[R];this.subscription=new T(this.store,t,this.onStateChange.bind(this));this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)};i.prototype.onStateChange=function e(){this.selector.run(this.props);if(!this.selector.shouldComponentUpdate){this.notifyNestedSubs()}else{this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate;this.setState(N)}};i.prototype.notifyNestedSubsOnComponentDidUpdate=function e(){this.componentDidUpdate=undefined;this.notifyNestedSubs()};i.prototype.isSubscribed=function e(){return Boolean(this.subscription)&&this.subscription.isSubscribed()};i.prototype.addExtraProps=function e(t){if(!_&&!f&&!(this.propsMode&&this.subscription))return t;var r=P({},t);if(_)r.ref=this.setWrappedInstance;if(f)r[f]=this.renderCount++;if(this.propsMode&&this.subscription)r[R]=this.subscription;return r};i.prototype.render=function e(){var t=this.selector;t.shouldComponentUpdate=false;if(t.error){throw t.error}else{return Object(n["createElement"])(r,this.addExtraProps(t.props))}};return i}(n["Component"]);s.WrappedComponent=r;s.displayName=o;s.childContextTypes=x;s.contextTypes=U;s.propTypes=U;if(false){}return E()(s,r)}}var x=Object.prototype.hasOwnProperty;function L(e,t){if(e===t){return e!==0||t!==0||1/e===1/t}else{return e!==e&&t!==t}}function M(e,t){if(L(e,t))return true;if(typeof e!=="object"||e===null||typeof t!=="object"||t===null){return false}var r=Object.keys(e);var n=Object.keys(t);if(r.length!==n.length)return false;for(var i=0;i<r.length;i++){if(!x.call(t,r[i])||!L(e[r[i]],t[r[i]])){return false}}return true}var V=r(18);var F=r(261);var j=typeof self=="object"&&self&&self.Object===Object&&self;var B=F["a"]||j||Function("return this")();var z=B;var W=z.Symbol;var H=W;var q=Object.prototype;var Y=q.hasOwnProperty;var Q=q.toString;var $=H?H.toStringTag:undefined;function G(e){var t=Y.call(e,$),r=e[$];try{e[$]=undefined;var n=true}catch(e){}var i=Q.call(e);if(n){if(t){e[$]=r}else{delete e[$]}}return i}var K=G;var X=Object.prototype;var Z=X.toString;function J(e){return Z.call(e)}var ee=J;var te="[object Null]",re="[object Undefined]";var ne=H?H.toStringTag:undefined;function ie(e){if(e==null){return e===undefined?re:te}return ne&&ne in Object(e)?K(e):ee(e)}var oe=ie;function ae(e,t){return function(r){return e(t(r))}}var se=ae;var ue=se(Object.getPrototypeOf,Object);var le=ue;function ce(e){return e!=null&&typeof e=="object"}var de=ce;var fe="[object Object]";var pe=Function.prototype,he=Object.prototype;var me=pe.toString;var ve=he.hasOwnProperty;var Ee=me.call(Object);function ye(e){if(!de(e)||oe(e)!=fe){return false}var t=le(e);if(t===null){return true}var r=ve.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&me.call(r)==Ee}var ge=ye;function _e(e,t,r){if(!ge(e)){u(r+"() in "+t+" must return a plain object. Instead received "+e+".")}}function Ae(e){return function t(r,n){var i=e(r,n);function o(){return i}o.dependsOnOwnProps=false;return o}}function Re(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==undefined?Boolean(e.dependsOnOwnProps):e.length!==1}function be(e,t){return function t(r,n){var i=n.displayName;var o=function e(t,r){return o.dependsOnOwnProps?o.mapToProps(t,r):o.mapToProps(t)};o.dependsOnOwnProps=true;o.mapToProps=function t(r,n){o.mapToProps=e;o.dependsOnOwnProps=Re(e);var i=o(r,n);if(typeof i==="function"){o.mapToProps=i;o.dependsOnOwnProps=Re(i);i=o(r,n)}if(false){}return i};return o}}function Te(e){return typeof e==="function"?be(e,"mapDispatchToProps"):undefined}function Pe(e){return!e?Ae(function(e){return{dispatch:e}}):undefined}function we(e){return e&&typeof e==="object"?Ae(function(t){return Object(V["bindActionCreators"])(e,t)}):undefined}var Oe=[Te,Pe,we];function Se(e){return typeof e==="function"?be(e,"mapStateToProps"):undefined}function Ie(e){return!e?Ae(function(){return{}}):undefined}var Ce=[Se,Ie];var Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};function De(e,t,r){return Ne({},r,e,t)}function ke(e){return function t(r,n){var i=n.displayName,o=n.pure,a=n.areMergedPropsEqual;var s=false;var u=void 0;return function t(r,n,i){var l=e(r,n,i);if(s){if(!o||!a(l,u))u=l}else{s=true;u=l;if(false){}}return u}}}function Ue(e){return typeof e==="function"?ke(e):undefined}function xe(e){return!e?function(){return De}:undefined}var Le=[Ue,xe];function Me(e,t,r){if(!e){throw new Error("Unexpected value for "+t+" in "+r+".")}else if(t==="mapStateToProps"||t==="mapDispatchToProps"){if(!e.hasOwnProperty("dependsOnOwnProps")){u("The selector for "+t+" of "+r+" did not specify a value for dependsOnOwnProps.")}}}function Ve(e,t,r,n){Me(e,"mapStateToProps",n);Me(t,"mapDispatchToProps",n);Me(r,"mergeProps",n)}function Fe(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function je(e,t,r,n){return function i(o,a){return r(e(o,a),t(n,a),a)}}function Be(e,t,r,n,i){var o=i.areStatesEqual,a=i.areOwnPropsEqual,s=i.areStatePropsEqual;var u=false;var l=void 0;var c=void 0;var d=void 0;var f=void 0;var p=void 0;function h(i,o){l=i;c=o;d=e(l,c);f=t(n,c);p=r(d,f,c);u=true;return p}function m(){d=e(l,c);if(t.dependsOnOwnProps)f=t(n,c);p=r(d,f,c);return p}function v(){if(e.dependsOnOwnProps)d=e(l,c);if(t.dependsOnOwnProps)f=t(n,c);p=r(d,f,c);return p}function E(){var t=e(l,c);var n=!s(t,d);d=t;if(n)p=r(d,f,c);return p}function y(e,t){var r=!a(t,c);var n=!o(e,l);l=e;c=t;if(r&&n)return m();if(r)return v();if(n)return E();return p}return function e(t,r){return u?y(t,r):h(t,r)}}function ze(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,o=Fe(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);var a=r(e,o);var s=n(e,o);var u=i(e,o);if(false){}var l=o.pure?Be:je;return l(a,s,u,e,o)}var We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};function He(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function qe(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function Ye(e,t){return e===t}function Qe(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.connectHOC,r=t===undefined?U:t,n=e.mapStateToPropsFactories,i=n===undefined?Ce:n,o=e.mapDispatchToPropsFactories,a=o===undefined?Oe:o,s=e.mergePropsFactories,u=s===undefined?Le:s,l=e.selectorFactory,c=l===undefined?ze:l;return function e(t,n,o){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},l=s.pure,d=l===undefined?true:l,f=s.areStatesEqual,p=f===undefined?Ye:f,h=s.areOwnPropsEqual,m=h===undefined?M:h,v=s.areStatePropsEqual,E=v===undefined?M:v,y=s.areMergedPropsEqual,g=y===undefined?M:y,_=He(s,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]);var A=qe(t,i,"mapStateToProps");var R=qe(n,a,"mapDispatchToProps");var b=qe(o,u,"mergeProps");return r(c,We({methodName:"connect",getDisplayName:function e(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:A,initMapDispatchToProps:R,initMergeProps:b,pure:d,areStatesEqual:p,areOwnPropsEqual:m,areStatePropsEqual:E,areMergedPropsEqual:g},_))}}var $e=Qe();r.d(t,"Provider",function(){return m});r.d(t,"createProvider",function(){return h});r.d(t,"connectAdvanced",function(){return U});r.d(t,"connect",function(){return $e})},function(e,t,r){"use strict";(function(e,n){var i=r(95);var o;if(typeof self!=="undefined"){o=self}else if(typeof window!=="undefined"){o=window}else if(typeof e!=="undefined"){o=e}else if(true){o=n}else{}var a=Object(i["a"])(o);t["a"]=a}).call(this,r(20),r(203)(e))},function(e,t){var r=Function.prototype.toString;function n(e){if(e!=null){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}e.exports=n},function(e,t,r){var n=r(10),i=r(8);function o(e){return i(e)&&n(e)}e.exports=o},function(e,t){function r(e){return function(t){return t==null?undefined:t[e]}}e.exports=r},function(e,t,r){(function(e){var n=r(43),i=r(5),o=r(108);var a=n&&typeof t=="object"&&t;var s=a&&typeof e=="object"&&e;var u=s&&s.exports===a;var l=u?i.Buffer:undefined;var c=l?l.isBuffer:undefined;var d=c||o;e.exports=d}).call(this,r(68)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t,r){var n=r(110),i=r(22),o=r(1),a=r(23),s=r(24);function u(e){var t=e?e.length:undefined;if(a(t)&&(o(e)||s(e)||i(e))){return n(t,String)}return null}e.exports=u},function(e,t,r){var n=r(71),i=r(31),o=r(32);function a(e,t){t=i(t,e)?[t]:n(t);var r=0,a=t.length;while(e!=null&&r<a){e=e[o(t[r++])]}return r&&r==a?e:undefined}e.exports=a},function(e,t,r){var n=r(1),i=r(112);function o(e){return n(e)?e:i(e)}e.exports=o},function(e,t,r){var n=r(133),i=r(136);var o=i(n);e.exports=o},function(e,t,r){var n=r(144),i=r(2),o=r(8);function a(e,t,r,s,u){if(e===t){return true}if(e==null||t==null||!i(e)&&!o(t)){return e!==e&&t!==t}return n(e,t,a,r,s,u)}e.exports=a},function(e,t,r){var n=r(145),i=r(148);var o=1,a=2;function s(e,t,r,s,u,l){var c=u&a,d=e.length,f=t.length;if(d!=f&&!(c&&f>d)){return false}var p=l.get(e);if(p&&l.get(t)){return p==t}var h=-1,m=true,v=u&o?new n:undefined;l.set(e,t);l.set(t,e);while(++h<d){var E=e[h],y=t[h];if(s){var g=c?s(y,E,h,t,e,l):s(E,y,h,e,t,l)}if(g!==undefined){if(g){continue}m=false;break}if(v){if(!i(t,function(e,t){if(!v.has(t)&&(E===e||r(E,e,s,u,l))){return v.add(t)}})){m=false;break}}else if(!(E===y||r(E,y,s,u,l))){m=false;break}}l["delete"](e);return m}e.exports=s},function(e,t,r){var n=r(5);var i=n.Uint8Array;e.exports=i},function(e,t){function r(e){var t=-1,r=Array(e.size);e.forEach(function(e,n){r[++t]=[n,e]});return r}e.exports=r},function(e,t){function r(e){var t=-1,r=Array(e.size);e.forEach(function(e){r[++t]=e});return r}e.exports=r},function(e,t,r){var n=r(2);function i(e){return e===e&&!n(e)}e.exports=i},function(e,t){function r(e,t){return function(r){if(r==null){return false}return r[e]===t&&(t!==undefined||e in Object(r))}}e.exports=r},function(e,t,r){var n=r(71),i=r(22),o=r(1),a=r(25),s=r(31),u=r(23),l=r(24),c=r(32);function d(e,t,r){t=s(t,e)?[t]:n(t);var d,f=-1,p=t.length;while(++f<p){var h=c(t[f]);if(!(d=e!=null&&r(e,h))){break}e=e[h]}if(d){return d}var p=e?e.length:0;return!!p&&u(p)&&a(h,p)&&(o(e)||l(e)||i(e))}e.exports=d},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(3));const o=r(162);const a=r(4);const s=r(57);var u;(function(e){e["FETCH_VAST_REQUEST"]="FETCH_VAST_REQUEST";e["FETCH_VAST_FAILURE"]="FETCH_VAST_FAILURE";e["FETCH_VAST_SUCCESS"]="FETCH_VAST_SUCCESS"})(u=t.VASTActionTypes||(t.VASTActionTypes={}));t.fetchVASTRequest=(()=>{return{type:u.FETCH_VAST_REQUEST}});t.fetchVASTFailure=((e,t)=>{return{error:e,payload:{adRequestDuration:t},type:u.FETCH_VAST_FAILURE}});t.fetchVASTSuccess=((e,t)=>{return{payload:{vast:e,adRequestDuration:t},type:u.FETCH_VAST_SUCCESS}});t.fetchVAST=((e,r)=>{return n=>{const u=new o.VASTParser(r);const l=s.timestamp();n(t.fetchVASTRequest());return u.getAndParseVAST(e).then(e=>{const r=s.timestamp();const o=s.difference(l,r);const u=i.default(e,"ads.length");if(u<=0){throw new a.AmazonVideoAdsError(a.ErrorType.AD_LOAD,a.AmazonErrorCode.AD_REQUEST_EMPTY_VAST_ERROR,"Unable to create an AdsManager, VAES returned empty VAST.")}n(t.fetchVASTSuccess(e,o));return o}).catch(e=>{const r=s.timestamp();const i=s.difference(l,r);n(t.fetchVASTFailure(e,i));throw e})}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e["CREATIVE_VIEW"]="creativeView";e["START"]="start";e["FIRST_QUARTILE"]="firstQuartile";e["MIDPOINT"]="midpoint";e["THIRD_QUARTILE"]="thirdQuartile";e["COMPLETE"]="complete";e["RESUME"]="resume";e["PAUSE"]="pause";e["REWIND"]="rewind";e["SKIP"]="skip";e["CLOSE"]="close";e["UNMUTE"]="unmute";e["MUTE"]="mute";e["FULLSCREEN"]="fullscreen";e["EXIT_FULLSCREEN"]="exitFullscreen";e["PROGRESS"]="progress-";e["EXPAND"]="expand";e["COLLAPSE"]="collapse";e["CLICK_THROUGH"]="clickThrough";e["IMPRESSION"]="impression";e["ERROR"]="error";e["CREATIVE_ERROR"]="creativeError"})(n=t.TrackingEvent||(t.TrackingEvent={}))},function(e,t,r){var n=r(13),i=r(2),o=r(30);var a=0/0;var s=/^\s+|\s+$/g;var u=/^[-+]0x[0-9a-f]+$/i;var l=/^0b[01]+$/i;var c=/^0o[0-7]+$/i;var d=parseInt;function f(e){if(typeof e=="number"){return e}if(o(e)){return a}if(i(e)){var t=n(e.valueOf)?e.valueOf():e;e=i(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=e.replace(s,"");var r=l.test(e);return r||c.test(e)?d(e.slice(2),r?2:8):u.test(e)?a:+e}e.exports=f},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty;var o=Object.prototype.propertyIsEnumerable;function a(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function s(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var t={};for(var r=0;r<10;r++){t["_"+String.fromCharCode(r)]=r}var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(n.join("")!=="0123456789"){return false}var i={};"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e});if(Object.keys(Object.assign({},i)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}e.exports=s()?Object.assign:function(e,t){var r;var s=a(e);var u;for(var l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var c in r){if(i.call(r,c)){s[c]=r[c]}}if(n){u=n(r);for(var d=0;d<u.length;d++){if(o.call(r,u[d])){s[u[d]]=r[u[d]]}}}}return s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e["NOT_ALLOWED_ERROR"]="NotAllowedError"})(n=t.BrowserError||(t.BrowserError={}));var i;(function(e){e[e["MEDIA_ERR_ABORTED"]=1]="MEDIA_ERR_ABORTED";e[e["MEDIA_ERR_NETWORK"]=2]="MEDIA_ERR_NETWORK";e[e["MEDIA_ERR_DECODE"]=3]="MEDIA_ERR_DECODE";e[e["MEDIA_ERR_SRC_NOT_SUPPORTED"]=4]="MEDIA_ERR_SRC_NOT_SUPPORTED"})(i=t.MediaErrorCode||(t.MediaErrorCode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e["UPDATE_BITRATE"]="UPDATE_BITRATE"})(n=t.NetworkStatisticsActionTypes||(t.NetworkStatisticsActionTypes={}));t.updateBitrate=(e=>{return{payload:{bitrate:e},type:n.UPDATE_BITRATE}})},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(11));const o=n(r(3));const a=n(r(55));const s=r(40);class u{constructor(e,t){this.postMessageHandler=(e=>{const t=o.default(e,"data");const{eventName:r,values:n}=t;const s=a.default(this.events,r);if(s){const e=this.events[r];i.default(e,e=>{e(n)})}});this.emitWindow=e;this.listenWindow=t;this.events={};this.listenWindow.addEventListener("message",this.postMessageHandler)}addListener(e,t){const r=a.default(this.events,e);if(r){this.events[e].push(t)}else{this.events[e]=[t]}}postMessage(e){this.emitWindow.postMessage(e,"*")}destroy(){this.listenWindow.removeEventListener("message",this.postMessageHandler)}directResume(){const e=this.events[s.AdVideoPlayerEvents.REQUEST_RESUME];i.default(e,e=>{e()})}}t.IframeBridge=u},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(3));const o=n(r(12));const a=r(16);const s=r(86);const u=r(35);const l=r(17);const c=r(225);const d=r(4);const f=r(85);const p=r(39);const h=r(40);const m=r(87);var v;(function(e){e["INIT"]="PUBLISHER_VIDEO_PLAYER_INIT";e["START_ADS"]="PUBLISHER_VIDEO_PLAYER_START_ADS";e["PAUSE"]="PUBLISHER_VIDEO_PLAYER_PAUSE";e["PLAY"]="PUBLISHER_VIDEO_PLAYER_PLAY";e["SET_VOLUME"]="PUBLISHER_VIDEO_PLAYER_SET_VOLUME";e["MUTE"]="PUBLISHER_VIDEO_PLAYER_MUTE";e["FULLSCREEN"]="PUBLISHER_VIDEO_PLAYER_FULLSCREEN";e["DESTROY"]="PUBLISHER_VIDEO_PLAYER_DESTROY"})(v=t.PublisherVideoPlayerEvents||(t.PublisherVideoPlayerEvents={}));const E=2;class y{constructor(){this.reset=(()=>{this.iframeNode=p.getAdIframeNode();this.companionNode=p.getCompanionDivNode();this.messageBridge=new m.IframeBridge(this.iframeNode.contentWindow.parent,this.iframeNode.contentWindow);this.addListeners()});this.onStartAds=(({bitrate:e,videoPlayStallTimeout:t,startVideoPlayTimeout:r,adBreakBufferTimeout:n,bufferingSpinnerColor:i})=>{this.impressionTracker=new c.VASTTracker(this.messageBridge);this.store.dispatch(s.updateBitrate(e));this.videoPlayStallTimeout=t;this.startVideoPlayTimeout=r;this.adBreakBufferTimeout=n;this.createAdBreakBufferTimeout();this.transitionPlayerState();p.mountPlayer({bufferingSpinnerColor:i,trackingHandler:this});p.mountCompanion({trackingHandler:this});this.store.dispatch(u.setInitialized(true))});this.onDestroy=(()=>{this.clearAllTimeouts();p.unmountPlayer();p.unmountCompanion();this.store.dispatch(a.prepareForAdBreak());this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.REQUEST_RESUME});this.iframeNode.style.display="none";if(this.companionNode){this.companionNode.style.display="none"}});this.onInit=(e=>{this.store.dispatch(u.mirrorPublisherPlayerState(e))});this.onPause=(()=>{this.store.dispatch(u.setPaused(true))});this.onPlay=(()=>{this.store.dispatch(u.setPaused(false))});this.onSetVolume=(({volume:e})=>{this.store.dispatch(u.setVolume(e))});this.onMute=(({muted:e})=>{this.store.dispatch(u.setMuted(e))});this.onFullscreen=(({fullscreen:e})=>{this.store.dispatch(u.setFullscreen(e))});this.iframeNode=p.getAdIframeNode();this.companionNode=null;this.store=p.store;this.messageBridge=new m.IframeBridge(this.iframeNode.contentWindow.parent,this.iframeNode.contentWindow);this.addListeners()}setStore(e){this.store=e}setCompanion(){this.companionNode=p.getCompanionDivNode();this.remountCompanionMaybe()}trackFullscreenChange(e){if(e){this.impressionTracker.reportFullscreen()}else{this.impressionTracker.reportExitFullscreen()}}trackProgress(e){const t=this.store.getState();const r=i.default(t,"player.progress");const n=e!==r;const o=i.default(t,"player.muted");const a=i.default(t,"player.durationAudible");const s=!o&&e>r?e-r:0;const c=a+s;if(s>0){this.store.dispatch(u.setDurationAudible(c))}if(n){this.clearAdTimeouts();this.store.dispatch(u.setProgress(e));const r=i.default(t,"ads.currentMediaFile.mimeType");const n=r===l.MediaType.AUDIO_MP3;this.impressionTracker.reportProgress(e,c,n);const o=i.default(t,"player.buffering");if(o){this.store.dispatch(u.setBuffering(false))}}}trackPause(){const e=this.store.getState();const t=i.default(e,"player.progress");const r=i.default(e,"ads.currentLinearCreative.duration");const n=t!==0;const o=Math.round(t)<r;if(n&&o){this.clearAllTimeouts();this.impressionTracker.reportPause()}}trackLoadedData(e){const{ads:t}=this.store.getState();const r=i.default(t,"nextAdIndex")===1;this.clearAdTimeouts();this.impressionTracker.reportLoad();if(r){this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.REQUEST_PAUSE});this.iframeNode.style.display="block";if(this.companionNode){this.companionNode.style.display="block";p.mountCompanion({trackingHandler:this})}}this.store.dispatch(u.setLoadedData(true));const n=this.store.getState();const o=i.default(n,"ads.currentLinearCreative.duration");const s=o+E;const l=o-E;if(e<l||e>s){const t=`Media file had a duration of ${e}, but expected duration of ${o}`;const r=new d.AmazonVideoAdsError(d.ErrorType.AD_PLAY,d.AmazonErrorCode.VIDEO_PLAYER_EXPECTING_DIFFERENT_DURATION,t);this.impressionTracker.reportError(r)}this.store.dispatch(a.setAdDuration(e))}trackPlay(){const e=this.store.getState();const t=i.default(e,"player.playStarted");const r=i.default(e,"player.playRequested");const n=i.default(e,"ads.nextAdIndex")-1;if(t){this.impressionTracker.reportResume()}else if(r||n>0){this.impressionTracker.reportStart()}}trackVolumeChange(){const e=this.store.getState();const t=i.default(e,"player.muted");const r=i.default(e,"player.volume");const n=!t&&r>0;this.impressionTracker.reportVolumeChange(r,t);if(n){this.impressionTracker.reportUnmute()}else{this.impressionTracker.reportMute()}}trackWaiting(){this.store.dispatch(u.setBuffering(true));this.videoPlayStallTimeoutId=this.iframeNode.contentWindow.setTimeout(()=>{const e=`Failed to see video progress after ${this.videoPlayStallTimeout} milliseconds.`;const t=new d.AmazonVideoAdsError(d.ErrorType.AD_PLAY,d.AmazonErrorCode.MEDIA_FILE_BUFFERING_TIMEOUT,e);this.handleFatalError(t)},this.videoPlayStallTimeout)}trackClick(){const e=this.store.getState();const t=i.default(e,"ads.currentLinearCreative.videoClickThroughURLTemplate");if(t){window.open(t,"AmazonAdsClickThroughURLWindow","noopener");this.impressionTracker.reportClick(c.CreativeType.LinearCreative)}}trackCompanionClick(){const e=this.store.getState();const t=i.default(e,"ads.currentStaticResource.companionClickThroughURLTemplate");if(t){window.open(t,"AmazonAdsClickThroughURLWindow","noopener");this.impressionTracker.reportClick(c.CreativeType.CompanionCreative)}else{}}trackCompanionView(){const e=this.store.getState();const t=i.default(e,"ads.currentStaticResource");if(t){this.impressionTracker.reportCreativeView(c.CreativeType.CompanionCreative)}else{}}trackCompanionLoadedData(){this.remountCompanionMaybe()}trackCompanionError(e){this.impressionTracker.reportCreativeError(e,c.CreativeType.CompanionCreative)}trackEnded(){this.clearAdTimeouts();this.store.dispatch(u.setPaused(true));this.impressionTracker.reportComplete();this.transitionPlayerState()}trackError(e){const t=this.store.getState();const r=i.default(t,"player.loadedData");const n=this.getMediaFileErrorMessage(e);const[o]=r?[d.AmazonErrorCode.MEDIA_PLAYBACK_ERROR]:[d.AmazonErrorCode.MEDIA_FILE_UNPLAYABLE];const a=new d.AmazonVideoAdsError(d.ErrorType.AD_PLAY,o,n);this.handleFatalError(a)}remountCompanionMaybe(){const e=this.store.getState();const t=i.default(e,"player.initialized");const r=i.default(e,"player.loadedData");if(this.companionNode){if(t){p.mountCompanion({trackingHandler:this})}if(r){this.companionNode.style.display="block";p.mountCompanion({trackingHandler:this})}}}getMediaFileErrorMessage(e){let t="";const r=i.default(e,"code");const n=i.default(e,"message");switch(r){case f.MediaErrorCode.MEDIA_ERR_ABORTED:t="Media file retrieval aborted by user.";break;case f.MediaErrorCode.MEDIA_ERR_NETWORK:t="Network Error occurered while retrieving media file.";break;case f.MediaErrorCode.MEDIA_ERR_DECODE:t="Error occurred while decoding media file.";break;case f.MediaErrorCode.MEDIA_ERR_SRC_NOT_SUPPORTED:t="Media file not supported.";break;default:t="Unknown Error occurred."}if(!o.default(n)){t+=" "+n}return t}handleFatalError(e){this.clearAdTimeouts();this.impressionTracker.reportError(e);this.transitionPlayerState(e)}prepareNextAd(){this.createStartVideoPlayTimeout();this.store.dispatch(u.setPlayRequested(false));const e=this.store.dispatch;e(a.selectNextAd())}transitionPlayerState(e){const t=this.store.getState();const r=i.default(t,"ads.nextAdIndex");const n=i.default(t,"vast.vastBody.ads",[]).length;const o=r>=n;const a=i.default(e,"errorCode")===d.AmazonErrorCode.AD_BREAK_TIMEOUT;if(o||a){this.onDestroy();return}this.impressionTracker.resetState();this.prepareNextAd()}clearAllTimeouts(){this.clearAdTimeouts();this.clearAdBreakBufferTimeout()}clearAdBreakBufferTimeout(){this.iframeNode.contentWindow.clearTimeout(this.adBreakBufferTimeoutId)}clearAdTimeouts(){this.iframeNode.contentWindow.clearTimeout(this.startVideoPlayTimeoutId);this.iframeNode.contentWindow.clearTimeout(this.videoPlayStallTimeoutId)}createAdBreakBufferTimeout(){this.adBreakBufferTimeoutId=this.iframeNode.contentWindow.setTimeout(()=>{const e=`Failed to complete the ad break in ${this.adBreakBufferTimeout} milliseconds.`;const t=new d.AmazonVideoAdsError(d.ErrorType.AD_PLAY,d.AmazonErrorCode.AD_BREAK_TIMEOUT,e);this.handleFatalError(t)},this.adBreakBufferTimeout)}createStartVideoPlayTimeout(){this.startVideoPlayTimeoutId=this.iframeNode.contentWindow.setTimeout(()=>{this.store.dispatch(u.setLoadedData(false));const e=`Failed to load media file after ${this.startVideoPlayTimeout} milliseconds.`;const t=new d.AmazonVideoAdsError(d.ErrorType.AD_PLAY,d.AmazonErrorCode.MEDIA_FILE_LOAD_TIMEOUT,e);this.handleFatalError(t)},this.startVideoPlayTimeout)}addListeners(){this.messageBridge.addListener(v.START_ADS,this.onStartAds);this.messageBridge.addListener(v.INIT,this.onInit);this.messageBridge.addListener(v.PAUSE,this.onPause);this.messageBridge.addListener(v.PLAY,this.onPlay);this.messageBridge.addListener(v.SET_VOLUME,this.onSetVolume);this.messageBridge.addListener(v.MUTE,this.onMute);this.messageBridge.addListener(v.FULLSCREEN,this.onFullscreen);this.messageBridge.addListener(v.DESTROY,this.onDestroy)}}t.PlayerController=y},function(e,t,r){var n=r(14);function i(e,t,r){if(r!==undefined&&!n(e[t],r)||typeof t=="number"&&r===undefined&&!(t in e)){e[t]=r}}e.exports=i},function(e,t,r){var n=r(14);var i=Object.prototype;var o=i.hasOwnProperty;function a(e,t,r){var i=e[t];if(!(o.call(e,t)&&n(i,r))||r===undefined&&!(t in e)){e[t]=r}}e.exports=a},function(e,t){function r(e,t){var r=-1,n=e.length;t||(t=Array(n));while(++r<n){t[r]=e[r]}return t}e.exports=r},function(e,t,r){var n=r(47),i=r(233);var o=Object.getOwnPropertySymbols;var a=o?n(o,Object):i;e.exports=a},function(e,t,r){var n=r(251),i=r(69),o=r(25),a=r(48);var s=Object.prototype;var u=s.hasOwnProperty;function l(e){var t=-1,r=a(e),s=n(e),l=s.length,c=i(e),d=!!c,f=c||[],p=f.length;while(++t<l){var h=s[t];if(!(d&&(h=="length"||o(h,p)))&&!(h=="constructor"&&(r||!u.call(e,h)))){f.push(h)}}return f}e.exports=l},function(e,t,r){"use strict";var n={childContextTypes:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,getDerivedStateFromProps:true,mixins:true,propTypes:true,type:true};var i={name:true,length:true,prototype:true,caller:true,callee:true,arguments:true,arity:true};var o=Object.defineProperty;var a=Object.getOwnPropertyNames;var s=Object.getOwnPropertySymbols;var u=Object.getOwnPropertyDescriptor;var l=Object.getPrototypeOf;var c=l&&l(Object);function d(e,t,r){if(typeof t!=="string"){if(c){var f=l(t);if(f&&f!==c){d(e,f,r)}}var p=a(t);if(s){p=p.concat(s(t))}for(var h=0;h<p.length;++h){var m=p[h];if(!n[m]&&!i[m]&&(!r||!r[m])){var v=u(t,m);try{o(e,m,v)}catch(e){}}}return e}return e}e.exports=d},function(e,t,r){"use strict";r.d(t,"a",function(){return n});function n(e){var t;var r=e.Symbol;if(typeof r==="function"){if(r.observable){t=r.observable}else{t=r("observable");r.observable=t}}else{t="@@observable"}return t}},function(e,t,r){(function(t,r){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */
(function(t,r){true?e.exports=r():undefined})(this,function(){"use strict";function e(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function n(e){return typeof e==="function"}var i=void 0;if(Array.isArray){i=Array.isArray}else{i=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}var o=i;var a=0;var s=void 0;var u=void 0;var l=function e(t,r){R[a]=t;R[a+1]=r;a+=2;if(a===2){if(u){u(b)}else{P()}}};function c(e){u=e}function d(e){l=e}var f=typeof window!=="undefined"?window:undefined;var p=f||{};var h=p.MutationObserver||p.WebKitMutationObserver;var m=typeof self==="undefined"&&typeof t!=="undefined"&&{}.toString.call(t)==="[object process]";var v=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function E(){return function(){return t.nextTick(b)}}function y(){if(typeof s!=="undefined"){return function(){s(b)}}return A()}function g(){var e=0;var t=new h(b);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=e=++e%2}}function _(){var e=new MessageChannel;e.port1.onmessage=b;return function(){return e.port2.postMessage(0)}}function A(){var e=setTimeout;return function(){return e(b,1)}}var R=new Array(1e3);function b(){for(var e=0;e<a;e+=2){var t=R[e];var r=R[e+1];t(r);R[e]=undefined;R[e+1]=undefined}a=0}function T(){try{var e=Function("return this")().require("vertx");s=e.runOnLoop||e.runOnContext;return y()}catch(e){return A()}}var P=void 0;if(m){P=E()}else if(h){P=g()}else if(v){P=_()}else if(f===undefined&&"function"==="function"){P=T()}else{P=A()}function w(e,t){var r=this;var n=new this.constructor(I);if(n[S]===undefined){Z(n)}var i=r._state;if(i){var o=arguments[i-1];l(function(){return $(i,n,o,r._result)})}else{q(r,n,e,t)}return n}function O(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var r=new t(I);B(r,e);return r}var S=Math.random().toString(36).substring(2);function I(){}var C=void 0;var N=1;var D=2;var k={error:null};function U(){return new TypeError("You cannot resolve a promise with itself")}function x(){return new TypeError("A promises callback cannot return that same promise.")}function L(e){try{return e.then}catch(e){k.error=e;return k}}function M(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function V(e,t,r){l(function(e){var n=false;var i=M(r,t,function(r){if(n){return}n=true;if(t!==r){B(e,r)}else{W(e,r)}},function(t){if(n){return}n=true;H(e,t)},"Settle: "+(e._label||" unknown promise"));if(!n&&i){n=true;H(e,i)}},e)}function F(e,t){if(t._state===N){W(e,t._result)}else if(t._state===D){H(e,t._result)}else{q(t,undefined,function(t){return B(e,t)},function(t){return H(e,t)})}}function j(e,t,r){if(t.constructor===e.constructor&&r===w&&t.constructor.resolve===O){F(e,t)}else{if(r===k){H(e,k.error);k.error=null}else if(r===undefined){W(e,t)}else if(n(r)){V(e,t,r)}else{W(e,t)}}}function B(t,r){if(t===r){H(t,U())}else if(e(r)){j(t,r,L(r))}else{W(t,r)}}function z(e){if(e._onerror){e._onerror(e._result)}Y(e)}function W(e,t){if(e._state!==C){return}e._result=t;e._state=N;if(e._subscribers.length!==0){l(Y,e)}}function H(e,t){if(e._state!==C){return}e._state=D;e._result=t;l(z,e)}function q(e,t,r,n){var i=e._subscribers;var o=i.length;e._onerror=null;i[o]=t;i[o+N]=r;i[o+D]=n;if(o===0&&e._state){l(Y,e)}}function Y(e){var t=e._subscribers;var r=e._state;if(t.length===0){return}var n=void 0,i=void 0,o=e._result;for(var a=0;a<t.length;a+=3){n=t[a];i=t[a+r];if(n){$(r,n,i,o)}else{i(o)}}e._subscribers.length=0}function Q(e,t){try{return e(t)}catch(e){k.error=e;return k}}function $(e,t,r,i){var o=n(r),a=void 0,s=void 0,u=void 0,l=void 0;if(o){a=Q(r,i);if(a===k){l=true;s=a.error;a.error=null}else{u=true}if(t===a){H(t,x());return}}else{a=i;u=true}if(t._state!==C){}else if(o&&u){B(t,a)}else if(l){H(t,s)}else if(e===N){W(t,a)}else if(e===D){H(t,a)}}function G(e,t){try{t(function t(r){B(e,r)},function t(r){H(e,r)})}catch(t){H(e,t)}}var K=0;function X(){return K++}function Z(e){e[S]=K++;e._state=undefined;e._result=undefined;e._subscribers=[]}function J(){return new Error("Array Methods must be provided an Array")}var ee=function(){function e(e,t){this._instanceConstructor=e;this.promise=new e(I);if(!this.promise[S]){Z(this.promise)}if(o(t)){this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0){W(this.promise,this._result)}else{this.length=this.length||0;this._enumerate(t);if(this._remaining===0){W(this.promise,this._result)}}}else{H(this.promise,J())}}e.prototype._enumerate=function e(t){for(var r=0;this._state===C&&r<t.length;r++){this._eachEntry(t[r],r)}};e.prototype._eachEntry=function e(t,r){var n=this._instanceConstructor;var i=n.resolve;if(i===O){var o=L(t);if(o===w&&t._state!==C){this._settledAt(t._state,r,t._result)}else if(typeof o!=="function"){this._remaining--;this._result[r]=t}else if(n===ae){var a=new n(I);j(a,t,o);this._willSettleAt(a,r)}else{this._willSettleAt(new n(function(e){return e(t)}),r)}}else{this._willSettleAt(i(t),r)}};e.prototype._settledAt=function e(t,r,n){var i=this.promise;if(i._state===C){this._remaining--;if(t===D){H(i,n)}else{this._result[r]=n}}if(this._remaining===0){W(i,this._result)}};e.prototype._willSettleAt=function e(t,r){var n=this;q(t,undefined,function(e){return n._settledAt(N,r,e)},function(e){return n._settledAt(D,r,e)})};return e}();function te(e){return new ee(this,e).promise}function re(e){var t=this;if(!o(e)){return new t(function(e,t){return t(new TypeError("You must pass an array to race."))})}else{return new t(function(r,n){var i=e.length;for(var o=0;o<i;o++){t.resolve(e[o]).then(r,n)}})}}function ne(e){var t=this;var r=new t(I);H(r,e);return r}function ie(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function oe(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ae=function(){function e(t){this[S]=X();this._result=this._state=undefined;this._subscribers=[];if(I!==t){typeof t!=="function"&&ie();this instanceof e?G(this,t):oe()}}e.prototype.catch=function e(t){return this.then(null,t)};e.prototype.finally=function e(t){var r=this;var n=r.constructor;return r.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})})};return e}();ae.prototype.then=w;ae.all=te;ae.race=re;ae.resolve=O;ae.reject=ne;ae._setScheduler=c;ae._setAsap=d;ae._asap=l;function se(){var e=void 0;if(typeof r!=="undefined"){e=r}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if(n==="[object Promise]"&&!t.cast){return}}e.Promise=ae}ae.polyfill=se;ae.Promise=ae;return ae})}).call(this,r(97),r(20))},function(e,t){var r=e.exports={};var n;var i;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=o}}catch(e){n=o}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=a}}catch(e){i=a}})();function s(e){if(n===setTimeout){return setTimeout(e,0)}if((n===o||!n)&&setTimeout){n=setTimeout;return setTimeout(e,0)}try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function u(e){if(i===clearTimeout){return clearTimeout(e)}if((i===a||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var l=[];var c=false;var d;var f=-1;function p(){if(!c||!d){return}c=false;if(d.length){l=d.concat(l)}else{f=-1}if(l.length){h()}}function h(){if(c){return}var e=s(p);c=true;var t=l.length;while(t){d=l;l=[];while(++f<t){if(d){d[f].run()}}f=-1;t=l.length}d=null;c=false;u(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}l.push(new m(e,t));if(l.length===1&&!c){s(h)}};function m(e,t){this.fun=e;this.array=t}m.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function v(){}r.on=v;r.addListener=v;r.once=v;r.off=v;r.removeListener=v;r.removeAllListeners=v;r.emit=v;r.prependListener=v;r.prependOnceListener=v;r.listeners=function(e){return[]};r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},function(e,t,r){var n=r(9),i=r(5);var o=n(i,"DataView");e.exports=o},function(e,t,r){var n=r(13),i=r(21),o=r(100),a=r(2),s=r(64);var u=/[\\^$.*+?()[\]{}|]/g;var l=/^\[object .+?Constructor\]$/;var c=Object.prototype;var d=Function.prototype.toString;var f=c.hasOwnProperty;var p=RegExp("^"+d.call(f).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(e){if(!a(e)||o(e)){return false}var t=n(e)||i(e)?p:l;return t.test(s(e))}e.exports=h},function(e,t,r){var n=r(101);var i=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function o(e){return!!i&&i in e}e.exports=o},function(e,t,r){var n=r(5);var i=n["__core-js_shared__"];e.exports=i},function(e,t){function r(e,t){return e==null?undefined:e[t]}e.exports=r},function(e,t,r){var n=r(9),i=r(5);var o=n(i,"Promise");e.exports=o},function(e,t,r){var n=r(9),i=r(5);var o=n(i,"Set");e.exports=o},function(e,t,r){var n=r(9),i=r(5);var o=n(i,"WeakMap");e.exports=o},function(e,t){var r=Object.prototype;var n=r.toString;function i(e){return n.call(e)}e.exports=i},function(e,t,r){var n=r(66);var i=n("length");e.exports=i},function(e,t){function r(){return false}e.exports=r},function(e,t,r){var n=r(47);var i=Object.keys;var o=n(i,Object);e.exports=o},function(e,t){function r(e,t){var r=-1,n=Array(e);while(++r<e){n[r]=t(r)}return n}e.exports=r},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(3));const o=n(r(15));const a=r(16);const s=r(81);const u=r(19);const l=r(39);class c{fetchAds(e,t){const{adBreakBufferTimeout:r,parsingLimits:n}=t;l.store.dispatch(a.prepareForAdBreak());return l.store.dispatch(s.fetchVAST(e,n)).then(()=>{const e=this.getVastDuration();const t=e+r;return t})}getVastDuration(){const e=i.default(l.store.getState(),"vast.vastBody.ads");const t=o.default(e,(e,t)=>{const r=i.default(t,`creatives[${0}].duration`,0);e+=r;return e},0);return t*u.SECONDS_TO_MILLISECONDS}}t.AdsController=c},function(e,t,r){var n=r(113),i=r(131);var o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g;var a=/\\(\\)?/g;var s=n(function(e){var t=[];i(e).replace(o,function(e,r,n,i){t.push(n?i.replace(a,"$1"):r||e)});return t});e.exports=s},function(e,t,r){var n=r(50);var i="Expected a function";function o(e,t){if(typeof e!="function"||t&&typeof t!="function"){throw new TypeError(i)}var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i)){return o.get(i)}var a=e.apply(this,n);r.cache=o.set(i,a);return a};r.cache=new(o.Cache||n);return r}o.Cache=n;e.exports=o},function(e,t,r){var n=r(115),i=r(27),o=r(44);function a(){this.__data__={hash:new n,map:new(o||i),string:new n}}e.exports=a},function(e,t,r){var n=r(116),i=r(117),o=r(118),a=r(119),s=r(120);function u(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n;u.prototype["delete"]=i;u.prototype.get=o;u.prototype.has=a;u.prototype.set=s;e.exports=u},function(e,t,r){var n=r(26);function i(){this.__data__=n?n(null):{}}e.exports=i},function(e,t){function r(e){return this.has(e)&&delete this.__data__[e]}e.exports=r},function(e,t,r){var n=r(26);var i="__lodash_hash_undefined__";var o=Object.prototype;var a=o.hasOwnProperty;function s(e){var t=this.__data__;if(n){var r=t[e];return r===i?undefined:r}return a.call(t,e)?t[e]:undefined}e.exports=s},function(e,t,r){var n=r(26);var i=Object.prototype;var o=i.hasOwnProperty;function a(e){var t=this.__data__;return n?t[e]!==undefined:o.call(t,e)}e.exports=a},function(e,t,r){var n=r(26);var i="__lodash_hash_undefined__";function o(e,t){var r=this.__data__;r[e]=n&&t===undefined?i:t;return this}e.exports=o},function(e,t){function r(){this.__data__=[]}e.exports=r},function(e,t,r){var n=r(28);var i=Array.prototype;var o=i.splice;function a(e){var t=this.__data__,r=n(t,e);if(r<0){return false}var i=t.length-1;if(r==i){t.pop()}else{o.call(t,r,1)}return true}e.exports=a},function(e,t,r){var n=r(28);function i(e){var t=this.__data__,r=n(t,e);return r<0?undefined:t[r][1]}e.exports=i},function(e,t,r){var n=r(28);function i(e){return n(this.__data__,e)>-1}e.exports=i},function(e,t,r){var n=r(28);function i(e,t){var r=this.__data__,i=n(r,e);if(i<0){r.push([e,t])}else{r[i][1]=t}return this}e.exports=i},function(e,t,r){var n=r(29);function i(e){return n(this,e)["delete"](e)}e.exports=i},function(e,t){function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}e.exports=r},function(e,t,r){var n=r(29);function i(e){return n(this,e).get(e)}e.exports=i},function(e,t,r){var n=r(29);function i(e){return n(this,e).has(e)}e.exports=i},function(e,t,r){var n=r(29);function i(e,t){n(this,e).set(e,t);return this}e.exports=i},function(e,t,r){var n=r(132);function i(e){return e==null?"":n(e)}e.exports=i},function(e,t,r){var n=r(51),i=r(30);var o=1/0;var a=n?n.prototype:undefined,s=a?a.toString:undefined;function u(e){if(typeof e=="string"){return e}if(i(e)){return s?s.call(e):""}var t=e+"";return t=="0"&&1/e==-o?"-0":t}e.exports=u},function(e,t,r){var n=r(134),i=r(7);function o(e,t){return e&&n(e,t,i)}e.exports=o},function(e,t,r){var n=r(135);var i=n();e.exports=i},function(e,t){function r(e){return function(t,r,n){var i=-1,o=Object(t),a=n(t),s=a.length;while(s--){var u=a[e?s:++i];if(r(o[u],u,o)===false){break}}return t}}e.exports=r},function(e,t,r){var n=r(10);function i(e,t){return function(r,i){if(r==null){return r}if(!n(r)){return e(r,i)}var o=r.length,a=t?o:-1,s=Object(r);while(t?a--:++a<o){if(i(s[a],a,s)===false){break}}return r}}e.exports=i},function(e,t,r){var n=r(138),i=r(154),o=r(79);function a(e){var t=i(e);if(t.length==1&&t[0][2]){return o(t[0][0],t[0][1])}return function(r){return r===e||n(r,e,t)}}e.exports=a},function(e,t,r){var n=r(34),i=r(73);var o=1,a=2;function s(e,t,r,s){var u=r.length,l=u,c=!s;if(e==null){return!l}e=Object(e);while(u--){var d=r[u];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e)){return false}}while(++u<l){d=r[u];var f=d[0],p=e[f],h=d[1];if(c&&d[2]){if(p===undefined&&!(f in e)){return false}}else{var m=new n;if(s){var v=s(p,h,f,e,t,m)}if(!(v===undefined?i(h,p,s,o|a,m):v)){return false}}}return true}e.exports=s},function(e,t,r){var n=r(27);function i(){this.__data__=new n}e.exports=i},function(e,t){function r(e){return this.__data__["delete"](e)}e.exports=r},function(e,t){function r(e){return this.__data__.get(e)}e.exports=r},function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},function(e,t,r){var n=r(27),i=r(44),o=r(50);var a=200;function s(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<a-1){s.push([e,t]);return this}r=this.__data__=new o(s)}r.set(e,t);return this}e.exports=s},function(e,t,r){var n=r(34),i=r(74),o=r(149),a=r(150),s=r(42),u=r(1),l=r(21),c=r(53);var d=2;var f="[object Arguments]",p="[object Array]",h="[object Object]";var m=Object.prototype;var v=m.hasOwnProperty;function E(e,t,r,m,E,y){var g=u(e),_=u(t),A=p,R=p;if(!g){A=s(e);A=A==f?h:A}if(!_){R=s(t);R=R==f?h:R}var b=A==h&&!l(e),T=R==h&&!l(t),P=A==R;if(P&&!b){y||(y=new n);return g||c(e)?i(e,t,r,m,E,y):o(e,t,A,r,m,E,y)}if(!(E&d)){var w=b&&v.call(e,"__wrapped__"),O=T&&v.call(t,"__wrapped__");if(w||O){var S=w?e.value():e,I=O?t.value():t;y||(y=new n);return r(S,I,m,E,y)}}if(!P){return false}y||(y=new n);return a(e,t,r,m,E,y)}e.exports=E},function(e,t,r){var n=r(50),i=r(146),o=r(147);function a(e){var t=-1,r=e?e.length:0;this.__data__=new n;while(++t<r){this.add(e[t])}}a.prototype.add=a.prototype.push=i;a.prototype.has=o;e.exports=a},function(e,t){var r="__lodash_hash_undefined__";function n(e){this.__data__.set(e,r);return this}e.exports=n},function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},function(e,t){function r(e,t){var r=-1,n=e?e.length:0;while(++r<n){if(t(e[r],r,e)){return true}}return false}e.exports=r},function(e,t,r){var n=r(51),i=r(75),o=r(14),a=r(74),s=r(76),u=r(77);var l=1,c=2;var d="[object Boolean]",f="[object Date]",p="[object Error]",h="[object Map]",m="[object Number]",v="[object RegExp]",E="[object Set]",y="[object String]",g="[object Symbol]";var _="[object ArrayBuffer]",A="[object DataView]";var R=n?n.prototype:undefined,b=R?R.valueOf:undefined;function T(e,t,r,n,R,T,P){switch(r){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset){return false}e=e.buffer;t=t.buffer;case _:if(e.byteLength!=t.byteLength||!n(new i(e),new i(t))){return false}return true;case d:case f:case m:return o(+e,+t);case p:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case h:var w=s;case E:var O=T&c;w||(w=u);if(e.size!=t.size&&!O){return false}var S=P.get(e);if(S){return S==t}T|=l;P.set(e,t);var I=a(w(e),w(t),n,R,T,P);P["delete"](e);return I;case g:if(b){return b.call(e)==b.call(t)}}return false}e.exports=T},function(e,t,r){var n=r(45),i=r(7);var o=2;function a(e,t,r,a,s,u){var l=s&o,c=i(e),d=c.length,f=i(t),p=f.length;if(d!=p&&!l){return false}var h=d;while(h--){var m=c[h];if(!(l?m in t:n(t,m))){return false}}var v=u.get(e);if(v&&u.get(t)){return v==t}var E=true;u.set(e,t);u.set(t,e);var y=l;while(++h<d){m=c[h];var g=e[m],_=t[m];if(a){var A=l?a(_,g,m,t,e,u):a(g,_,m,e,t,u)}if(!(A===undefined?g===_||r(g,_,a,s,u):A)){E=false;break}y||(y=m=="constructor")}if(E&&!y){var R=e.constructor,b=t.constructor;if(R!=b&&("constructor"in e&&"constructor"in t)&&!(typeof R=="function"&&R instanceof R&&typeof b=="function"&&b instanceof b)){E=false}}u["delete"](e);return E}e.exports=a},function(e,t,r){var n=r(23),i=r(8);var o="[object Arguments]",a="[object Array]",s="[object Boolean]",u="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",h="[object RegExp]",m="[object Set]",v="[object String]",E="[object WeakMap]";var y="[object ArrayBuffer]",g="[object DataView]",_="[object Float32Array]",A="[object Float64Array]",R="[object Int8Array]",b="[object Int16Array]",T="[object Int32Array]",P="[object Uint8Array]",w="[object Uint8ClampedArray]",O="[object Uint16Array]",S="[object Uint32Array]";var I={};I[_]=I[A]=I[R]=I[b]=I[T]=I[P]=I[w]=I[O]=I[S]=true;I[o]=I[a]=I[y]=I[s]=I[g]=I[u]=I[l]=I[c]=I[d]=I[f]=I[p]=I[h]=I[m]=I[v]=I[E]=false;var C=Object.prototype;var N=C.toString;function D(e){return i(e)&&n(e.length)&&!!I[N.call(e)]}e.exports=D},function(e,t){function r(e){return function(t){return e(t)}}e.exports=r},function(e,t,r){(function(e){var n=r(43);var i=n&&typeof t=="object"&&t;var o=i&&typeof e=="object"&&e;var a=o&&o.exports===i;var s=a&&n.process;var u=function(){try{return s&&s.binding("util")}catch(e){}}();e.exports=u}).call(this,r(68)(e))},function(e,t,r){var n=r(78),i=r(7);function o(e){var t=i(e),r=t.length;while(r--){var o=t[r],a=e[o];t[r]=[o,a,n(a)]}return t}e.exports=o},function(e,t,r){var n=r(73),i=r(3),o=r(156),a=r(31),s=r(78),u=r(79),l=r(32);var c=1,d=2;function f(e,t){if(a(e)&&s(t)){return u(l(e),t)}return function(r){var a=i(r,e);return a===undefined&&a===t?o(r,e):n(t,a,undefined,c|d)}}e.exports=f},function(e,t,r){var n=r(157),i=r(80);function o(e,t){return e!=null&&i(e,t,n)}e.exports=o},function(e,t){function r(e,t){return e!=null&&t in Object(e)}e.exports=r},function(e,t){function r(e){return e}e.exports=r},function(e,t,r){var n=r(66),i=r(160),o=r(31),a=r(32);function s(e){return o(e)?n(a(e)):i(e)}e.exports=s},function(e,t,r){var n=r(70);function i(e){return function(t){return n(t,e)}}e.exports=i},function(e,t){function r(e,t,r,n,i){i(e,function(e,i,o){r=n?(n=false,e):t(r,e,i,o)});return r}e.exports=r},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(11));const o=n(r(55));const a=r(82);const s=r(4);const u=r(164);const l=r(165);const c=r(56);const d=r(167);const f=r(168);const p=r(59);const h="x-amzn-RequestId";const m="x-amzn-Region";const v=2;const E=4;class y{constructor(e){this.wrapperCount=0;this.parentURLs=[];this.parsingLimits=e;this.urlHandler=new d.URLHandler;this.parserUtils=new p.ParserUtils;this.adParser=new f.AdParser}getAdRequestTimeout(){return this.parsingLimits.initialAdRequestTimeout+this.wrapperCount*this.parsingLimits.wrapperAdRequestTimeout}getAndParseVAST(e){const t={headersToExtract:[h,m]};const r=this.fetchVAST(e,t).then(t=>{const r={originalUrl:e};return this.parse(t.xml,r)}).then(e=>{const t=this.buildVASTResponse(e);return t}).catch(e=>{throw e});const n=this.getAdRequestTimeout();return Promise.race([r,this.requestTimeout(n,n)])}requestTimeout(e,t){return new Promise((r,n)=>{setTimeout(()=>{const t=this.getAdRequestTimeout();if(t<=e){return n(new s.AmazonVideoAdsError(s.ErrorType.AD_LOAD,s.AmazonErrorCode.AD_REQUEST_TIMEOUT_ERROR,`Ad request timed out after ${e} milliseconds.`))}return this.requestTimeout(t,t-e).catch(e=>n(e))},t)})}fetchVAST(e,t){return this.urlHandler.get(e,t)}buildVASTResponse(e){const t=this.removeInvalidAds(e);return new l.VASTResponse(t)}parse(e,{wrapperId:t,wrapperSequence:r,originalUrl:n,wrapperDepth:o}){return new Promise((a,l)=>{r=r||null;n=n||null;o=o||0;const c=e&&e.documentElement&&e.documentElement.nodeName==="VAST";if(!c){return l(new s.AmazonVideoAdsError(s.ErrorType.AD_LOAD,s.AmazonErrorCode.XML_PARSING_ERROR,"Invalid VAST Document"))}const d=e.documentElement;const f=d.getAttribute("version");const p=this.checkSupportedVastVersion(f);if(!p){return l(new s.AmazonVideoAdsError(s.ErrorType.AD_LOAD,s.AmazonErrorCode.UNSUPPORTED_VAST_VERSION_ERROR,`VAST version ${f} is not supported`))}const h=[];i.default(d.childNodes,e=>{if(e.nodeName==="Ad"){const n=new u.Ad;n.id=t||e.getAttribute("id");n.sequence=r||parseInt(e.getAttribute("sequence"),10);try{this.adParser.parse(n,e)}catch(e){n.error=e}h.push(n)}});this.resolveAds(h,{wrapperDepth:o,originalUrl:n}).then(e=>a(e)).catch(e=>l(e))})}resolveAds(e=[],{wrapperDepth:t,originalUrl:r}){const n=[];e.forEach(e=>{const i=this.resolveWrapper(e,t,r);n.push(i)});return Promise.all(n).then(e=>{return this.flatten(e)})}resolveWrapper(e,t,r){return new Promise((n,i)=>{t++;if(!e.nextWrapperURL){delete e.nextWrapperURL;return n(e)}const o=this.parsingLimits.maxWrapperDepth;if(t>=o){e.error=new s.AmazonVideoAdsError(s.ErrorType.AD_LOAD,s.AmazonErrorCode.WRAPPER_LIMIT_REACHED,`Wrapper limit of ${o} reached`)}if(this.parentURLs.indexOf(e.nextWrapperURL)!==-1){const t=`Cycle detected while unwrapping VAST. ${e.nextWrapperURL} was already unwrapped`;e.error=new s.AmazonVideoAdsError(s.ErrorType.AD_LOAD,s.AmazonErrorCode.WRAPPER_DUPLICATE_URI,t)}if(e.error){delete e.nextWrapperURL;return n(e)}this.parentURLs.push(e.nextWrapperURL);e.nextWrapperURL=this.parserUtils.resolveVastAdTagURI(e.nextWrapperURL,r);const a=e.sequence;const u=e.id;r=e.nextWrapperURL;this.wrapperCount++;this.fetchVAST(e.nextWrapperURL).catch(e=>{e.errorCode=s.AmazonErrorCode.WRAPPER_URI_TIMEOUT;throw e}).then(e=>{if(!e.xml){throw new s.AmazonVideoAdsError(s.ErrorType.AD_LOAD,s.AmazonErrorCode.WRAPPER_MISSING_RESPONSE,`Wrapper http response was empty`)}return e}).then(e=>{return this.parse(e.xml,{originalUrl:r,wrapperId:u,wrapperSequence:a,wrapperDepth:t})}).then(t=>{if(t.length<1){throw new s.AmazonVideoAdsError(s.ErrorType.AD_LOAD,s.AmazonErrorCode.WRAPPER_MISSING_RESPONSE,"Wrapper resolved to no ads")}delete e.nextWrapperURL;const r=e.creatives.filter(e=>e.type==="linear");const i=e.creatives.filter(e=>e.type==="nonlinear");const o=e.creatives.filter(e=>e.type==="companion");t.forEach(t=>{if(t){this.mergeWrapperAdData(t,e,r,i,o)}});n(t)}).catch(t=>{t.errorCode=t.errorCode||s.AmazonErrorCode.XML_WRAPPER_PARSING_ERROR;e.error=t;n(e)})})}removeInvalidAds(e){const t=e.filter(e=>{const t=!o.default(e,"error");if(!t){const t=e.error.getVastErrorCode();this.trackVastError(e.errorURLTemplates,t)}return t});return t}mergeTrackingEvents(e,t){i.default(e.trackingEvents,(e,r)=>{t.trackingEvents[r]=(t.trackingEvents[r]||[]).concat(e)})}mergeWrapperAdData(e,t,r,n,o){e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates);e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates);e.adVerifications=t.adVerifications.concat(e.adVerifications);if(t.transparencyInfo!==null){e.transparencyInfo=t.transparencyInfo}i.default(e.creatives,e=>{switch(e.type){case"nonlinear":i.default(n,t=>{this.mergeTrackingEvents(t,e);i.default(t.variations,t=>{i.default(e.variations,e=>{e.nonlinearClickTrackingURLTemplates=e.nonlinearClickTrackingURLTemplates.concat(t.nonlinearClickTrackingURLTemplates)})})});break;case"linear":i.default(r,t=>{e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates);e.videoCustomClickURLTemplates=e.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates);e.extensions.unshift(...t.extensions);this.mergeTrackingEvents(t,e)});break;case"companion":i.default(o,t=>{i.default(t.variations,t=>{i.default(e.variations,e=>{this.mergeTrackingEvents(t,e);e.companionClickTrackingURLTemplates=e.companionClickTrackingURLTemplates.concat(t.companionClickTrackingURLTemplates)})})});break}})}flatten(e){return e.reduce((e,t)=>{return e.concat(Array.isArray(t)?this.flatten(t):t)},[])}checkSupportedVastVersion(e){const t=parseInt(e,10);return t&&t>=v&&t<=E}trackVastError(e,t){const r={ERRORCODE:t};c.track(e,r,{eventName:a.TrackingEvent.ERROR})}}t.VASTParser=y},function(e,t,r){var n=r(54),i=r(72),o=r(33),a=r(1);function s(e,t){var r=a(e)?n:i;return r(e,o(t,3))}e.exports=s},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(12));class o{constructor(){this.id=null;this.sequence=null;this.system=null;this.title=null;this.description=null;this.advertiser=null;this.pricing=null;this.survey=null;this.errorURLTemplates=[];this.impressionURLTemplates=[];this.creatives=[];this.linearCreativesCount=0;this.adVerifications=[];this.transparencyInfo=null;this.adFeedbackInfo=[]}hasCreative(){return!i.default(this.creatives)}hasLinearCreative(){return this.linearCreativesCount>0}hasMultipleLinearCreatives(){return this.linearCreativesCount>1}}t.Ad=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});class n{constructor(e){this.ads=e;this.sortAdsBySequence()}sortAdsBySequence(){this.ads=this.ads.sort((e,t)=>{if(!e.sequence){if(!t.sequence){return 0}return 1}if(!t.sequence){return-1}return e.sequence-t.sequence})}}t.VASTResponse=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateUrl=(e=>{if(encodeURI(e)!==e){}if(window.location.protocol==="https:"&&e.indexOf("http://")===0){}const t=/^((http(s?)?):\/\/)/g;const r=e.match(t);return r!==null})},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(15));const o=r(4);class a{get(e,t={}){return new Promise((r,n)=>{if(window.location.protocol==="https:"&&e.indexOf("http://")===0){n(new o.AmazonVideoAdsError(o.ErrorType.AD_LOAD,o.AmazonErrorCode.AD_REQUEST_MIXED_CONTENT_ERROR,"Attempted to request an insecure resouce."))}const i=new XMLHttpRequest;i.open("GET",e);i.withCredentials=true;i.overrideMimeType("text/xml");i.onreadystatechange=(()=>{if(i.readyState===4){if(i.status===200){const e=this.extractReponseHeaders(i,t.headersToExtract);r({xml:i.responseXML,extractedHeaders:e})}else{let e="Unable to fetch VAST XML";e+=i.responseText?`: ${i.responseText}`:"";n(new o.AmazonVideoAdsError(o.ErrorType.AD_LOAD,o.AmazonErrorCode.AD_REQUEST_NETWORK_ERROR,e).withHttpError(i.status))}}});i.send()})}extractReponseHeaders(e,t){return i.default(t,(t,r)=>{t[r]=e.getResponseHeader(r);return t},{})}}t.URLHandler=a},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(11));const o=n(r(3));const a=n(r(12));const s=n(r(15));const u=r(4);const l=r(169);const c=r(170);const d=r(171);const f=r(172);const p=r(173);const h=r(182);const m=r(186);const v=r(59);class E{constructor(){this.creativeCompanionParser=new p.CreativeCompanionParser;this.creativeNonLinearParser=new m.CreativeNonLinearParser;this.creativeLinearParser=new h.CreativeLinearParser;this.parserUtils=new v.ParserUtils}parse(e,t){const r=s.default(t.childNodes,(e,t)=>{const r=t.nodeType===1?[t]:[];e.push(...r);return e},[]);const n=r[0];const i=o.default(n,"nodeName");this.validateAdElement(r,i);this.parseAd(e,n);if(i==="Wrapper"){this.validateWrapperAd(e)}else if(i==="InLine"){this.validateInLineAd(e)}return e}validateInLineAd(e){const t=["system","title","impressionURLTemplates","creatives"];const r=["nextWrapperURL"];i.default(t,t=>{const r=o.default(e,t);if(a.default(r)){throw new u.AmazonVideoAdsError(u.ErrorType.AD_LOAD,u.AmazonErrorCode.SCHEMA_VALIDATION_ERROR,`InLine element missing required field ${t}`)}});i.default(r,t=>{const r=o.default(e,t);if(!a.default(r)){throw new u.AmazonVideoAdsError(u.ErrorType.AD_LOAD,u.AmazonErrorCode.SCHEMA_VALIDATION_ERROR,`InLine element must not have field ${t}`)}});if(!e.hasCreative()){throw new u.AmazonVideoAdsError(u.ErrorType.AD_LOAD,u.AmazonErrorCode.SCHEMA_VALIDATION_ERROR,`InLine element missing creatives element`)}if(!e.hasLinearCreative()){throw new u.AmazonVideoAdsError(u.ErrorType.AD_LOAD,u.AmazonErrorCode.UNEXPECTED_AD_LINEARITY,`InLine element missing a linear creative element`)}if(e.hasMultipleLinearCreatives()){throw new u.AmazonVideoAdsError(u.ErrorType.AD_LOAD,u.AmazonErrorCode.UNEXPECTED_AD_LINEARITY,`InLine element cannot have more than one linear creative element`)}}validateWrapperAd(e){const t=["system","impressionURLTemplates","nextWrapperURL"];i.default(t,t=>{const r=o.default(e,t);if(a.default(r)){throw new u.AmazonVideoAdsError(u.ErrorType.AD_LOAD,u.AmazonErrorCode.XML_WRAPPER_PARSING_ERROR,`Wrapper element missing required field ${t}`)}});if(e.hasMultipleLinearCreatives()){throw new u.AmazonVideoAdsError(u.ErrorType.AD_LOAD,u.AmazonErrorCode.UNEXPECTED_AD_LINEARITY,`Wrapper element cannot have more than one linear creative element`)}}validateAdElement(e,t){const r=t==="Wrapper"||t==="InLine";let n;if(e.length<1){n="Ad element must have at least 1 child"}else if(e.length>1){n="Ad element must not have more than 1 child"}else if(!r){n=`Ad element type '${t}' is not supported. Element type must be Wrapper or InLine`}if(n){throw new u.AmazonVideoAdsError(u.ErrorType.AD_LOAD,u.AmazonErrorCode.SCHEMA_VALIDATION_ERROR,n)}}parseAd(e,t){let r;const n=t.childNodes;const o=t.nodeName==="InLine";i.default(n,t=>{switch(t.nodeName){case"Error":e.errorURLTemplates.push(this.parserUtils.parseNodeText(t));break;case"Impression":e.impressionURLTemplates.push(this.parserUtils.parseNodeText(t));break;case"Creatives":this.parserUtils.childrenByName(t,"Creative").forEach(t=>{const n={id:t.getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(t),sequence:parseInt(t.getAttribute("sequence"),10)||null,apiFramework:t.getAttribute("apiFramework")||null};i.default(t.childNodes,t=>{switch(t.nodeName){case"Linear":try{const i=this.creativeLinearParser.parse(t,o,n);if(i){e.linearCreativesCount++;e.creatives.push(i);this.parseAdFeedbackInfoLinear(e,i)}}catch(e){r=e}break;case"NonLinearAds":const i=this.creativeNonLinearParser.parse(t,n);if(i){e.creatives.push(i);this.parseAdFeedbackInfo(e,i)}break;case"CompanionAds":const a=this.creativeCompanionParser.parse(t,n);if(a){e.creatives.push(a);this.parseAdFeedbackInfo(e,a)}break}})});break;case"AdSystem":e.system={value:this.parserUtils.parseNodeText(t),version:t.getAttribute("version")||null};break;case"AdTitle":e.title=this.parserUtils.parseNodeText(t);break;case"Description":e.description=this.parserUtils.parseNodeText(t);break;case"Advertiser":e.advertiser=this.parserUtils.parseNodeText(t);break;case"Pricing":e.pricing={value:this.parserUtils.parseNodeText(t),model:t.getAttribute("model")||null,currency:t.getAttribute("currency")||null};break;case"Survey":e.survey=this.parserUtils.parseNodeText(t);break;case"VASTAdTagURI":e.nextWrapperURL=this.parserUtils.parseNodeText(t);break;case"AdVerifications":this.parseAdVerificationAttribute(e,t);case"Extensions":this.parserUtils.childrenByName(t,"Extension").forEach(t=>{i.default(t.childNodes,t=>{switch(t.nodeName){case"AdVerifications":this.parseAdVerificationAttribute(e,t);break;case"TransparencyInfoV1":this.parseTransparencyInfo(e,t);break}})})}});if(r){throw r}return e}parseCreativeAdIdAttribute(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null}parseAdVerificationAttribute(e,t){this.parserUtils.childrenByName(t,"Verification").forEach(t=>{const r=new c.AdVerification;r.vendor=t.getAttribute("vendor")||null;i.default(t.childNodes,e=>{switch(e.nodeName){case"JavaScriptResource":r.jsResource.push({uri:this.parserUtils.parseNodeText(e),apiFramework:e.getAttribute("apiFramework")});break;case"VerificationParameters":r.parameters=this.parserUtils.parseNodeText(e);break}});e.adVerifications.push(r)})}parseTransparencyInfo(e,t){try{const r=this.parserUtils.childByName(t,"Version");const n=this.parserUtils.childByName(t,"AdvertiserIdNS");const i=this.parserUtils.childByName(t,"CampaignIdNS");const o=this.parserUtils.childByName(t,"SelectionSignals");const a=this.parserUtils.childByName(o,"Context");const s=this.parserUtils.childByName(o,"Location");const u=this.parserUtils.childByName(o,"PastActivity");const l=new d.SelectionSignals(this.parserUtils.parseBoolean(this.parserUtils.parseNodeText(a)),this.parserUtils.parseBoolean(this.parserUtils.parseNodeText(s)),this.parserUtils.parseNodeText(u));e.transparencyInfo=new f.TransparencyInfo(+this.parserUtils.parseNodeText(r),this.parserUtils.parseNodeText(n),this.parserUtils.parseNodeText(i),l)}catch(e){return}}parseAdFeedbackInfo(e,t){try{const r=t.adId;const n=t.id;e.adFeedbackInfo.push(new l.AdFeedbackInfo(n,r,0))}catch(e){return}}parseAdFeedbackInfoLinear(e,t){try{const r=t.adId;const n=t.id;const i=t.duration;e.adFeedbackInfo.push(new l.AdFeedbackInfo(n,r,i))}catch(e){return}}}t.AdParser=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});class n{constructor(e,t,r){this.creativeId=e||null;this.adId=t||null;this.mediaDuration=r||0}}t.AdFeedbackInfo=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});class n{constructor(e={}){this.vendor=e.vendor||null;this.jsResource=[];this.parameters=e.parameters||null}}t.AdVerification=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});class n{constructor(e,t,r){this.context=!!e;this.location=!!t;this.pastActivity=r||null}}t.SelectionSignals=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});class n{constructor(e,t,r,n){this.version=e||0;this.advertiserId=t||null;this.campaignId=r||null;this.selectionSignals=n||null}}t.TransparencyInfo=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(4);const i=r(174);const o=r(175);const a=r(58);class s extends a.CreativeParser{constructor(){super()}parse(e,t){const r=new o.CreativeCompanion(t);const a=["image/gif","image/jpeg","image/png"];this.parserUtils.childrenByName(e,"Companion").forEach(e=>{const t=new i.CompanionAd;t.id=e.getAttribute("id")||null;t.width=parseInt(e.getAttribute("width"),10);t.height=parseInt(e.getAttribute("height"),10);t.companionClickTrackingURLTemplates=[];this.parserUtils.childrenByName(e,"HTMLResource").forEach(e=>{t.type=e.getAttribute("creativeType")||"text/html";t.htmlResource=this.parserUtils.parseNodeText(e)});this.parserUtils.childrenByName(e,"IFrameResource").forEach(e=>{t.type=e.getAttribute("creativeType");t.iframeResource=this.parserUtils.parseNodeText(e)});this.parserUtils.childrenByName(e,"StaticResource").forEach(r=>{t.type=r.getAttribute("creativeType");if(a.indexOf(t.type)===-1){throw new n.AmazonVideoAdsError(n.ErrorType.AD_LOAD,n.AmazonErrorCode.COMPANION_ADS_TYPE_ERROR,`Companion ad type is ${t.type}, must be one of the following: ${a}`)}this.parserUtils.childrenByName(e,"AltText").forEach(e=>{t.altText=this.parserUtils.parseNodeText(e)});t.staticResource=this.parserUtils.parseNodeText(r)});this.parserUtils.childrenByName(e,"TrackingEvents").forEach(e=>{this.parserUtils.childrenByName(e,"Tracking").forEach(e=>{const r=e.getAttribute("event");const n=this.parserUtils.parseNodeText(e);if(r&&n){if(!t.trackingEvents[r]){t.trackingEvents[r]=[]}t.trackingEvents[r].push(n)}})});this.parserUtils.childrenByName(e,"CompanionClickTracking").forEach(e=>{t.companionClickTrackingURLTemplates.push(this.parserUtils.parseNodeText(e))});t.companionClickThroughURLTemplate=this.parserUtils.parseNodeText(this.parserUtils.childByName(e,"CompanionClickThrough"));r.variations.push(t)});return r}}t.CreativeCompanionParser=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});class n{constructor(){this.id=null;this.width=0;this.height=0;this.type=null;this.staticResource=null;this.htmlResource=null;this.iframeResource=null;this.altText=null;this.companionClickThroughURLTemplate=null;this.companionClickTrackingURLTemplates=[];this.trackingEvents={}}}t.CompanionAd=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(36);class i extends n.Creative{constructor(e={}){super(e);this.type="companion";this.variations=[]}}t.CreativeCompanion=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});class n{constructor(e,t){this.name=e;this.value=t}}t.CreativeExtension=n},function(e,t,r){var n=r(33),i=r(10),o=r(7);function a(e){return function(t,r,a){var s=Object(t);if(!i(t)){var u=n(r,3);t=o(t);r=function(e){return u(s[e],e,s)}}var l=e(t,r,a);return l>-1?s[u?t[l]:l]:undefined}}e.exports=a},function(e,t,r){var n=r(179),i=r(33),o=r(180);var a=Math.max;function s(e,t,r){var s=e?e.length:0;if(!s){return-1}var u=r==null?0:o(r);if(u<0){u=a(s+u,0)}return n(e,i(t,3),u)}e.exports=s},function(e,t){function r(e,t,r,n){var i=e.length,o=r+(n?1:-1);while(n?o--:++o<i){if(t(e[o],o,e)){return o}}return-1}e.exports=r},function(e,t,r){var n=r(181);function i(e){var t=n(e),r=t%1;return t===t?r?t-r:t:0}e.exports=i},function(e,t,r){var n=r(83);var i=1/0,o=1.7976931348623157e308;function a(e){if(!e){return e===0?e:0}e=n(e);if(e===i||e===-i){var t=e<0?-1:1;return t*o}return e===e?e:0}e.exports=a},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(12));const o=n(r(38));const a=r(17);const s=r(4);const u=r(183);const l=r(184);const c=r(185);const d=r(58);const f=[a.MediaType.AUDIO_MP3,a.MediaType.VIDEO_MP4,a.MediaType.VIDEO_WEBM];const p=f.join(", ");class h extends d.CreativeParser{constructor(){super()}parse(e,t,r){let n;const i=new u.CreativeLinear(r);i.duration=this.parserUtils.parseDuration(this.parserUtils.parseNodeText(this.parserUtils.childByName(e,"Duration")));if(t&&o.default(i.duration)){throw new s.AmazonVideoAdsError(s.ErrorType.AD_LOAD,s.AmazonErrorCode.SCHEMA_VALIDATION_ERROR,"Creative does not have the duration property")}const a=e.getAttribute("skipoffset");if(!a){i.skipDelay=null}else if(a.charAt(a.length-1)==="%"&&i.duration!==-1){const e=parseInt(a,10);i.skipDelay=i.duration*(e/100)}else{i.skipDelay=this.parserUtils.parseDuration(a)}const d=this.parserUtils.childByName(e,"VideoClicks");if(d){i.videoClickThroughURLTemplate=this.parserUtils.parseNodeText(this.parserUtils.childByName(d,"ClickThrough"));this.parserUtils.childrenByName(d,"ClickTracking").forEach(e=>{i.videoClickTrackingURLTemplates.push(this.parserUtils.parseNodeText(e))});this.parserUtils.childrenByName(d,"CustomClick").forEach(e=>{i.videoCustomClickURLTemplates.push(this.parserUtils.parseNodeText(e))})}const f=this.parserUtils.childByName(e,"AdParameters");if(f){i.adParameters=this.parserUtils.parseNodeText(f)}this.parserUtils.childrenByName(e,"TrackingEvents").forEach(e=>{this.parserUtils.childrenByName(e,"Tracking").forEach(e=>{let t=e.getAttribute("event");const r=this.parserUtils.parseNodeText(e);if(t&&r){if(t==="progress"){n=e.getAttribute("offset");if(!n){return}if(n.charAt(n.length-1)==="%"){t=`progress-${n}`}else{t=`progress-${Math.round(this.parserUtils.parseDuration(n))}`}}if(!i.trackingEvents[t]){i.trackingEvents[t]=[]}i.trackingEvents[t].push(r)}})});const p=this.parserUtils.childrenByName(e,"MediaFiles");let h="";p.forEach(e=>{this.parserUtils.childrenByName(e,"MediaFile").forEach(e=>{const t=new c.MediaFile;t.id=e.getAttribute("id");t.fileURL=this.parserUtils.parseNodeText(e);t.deliveryType=e.getAttribute("delivery");t.codec=e.getAttribute("codec");t.apiFramework=e.getAttribute("apiFramework");t.bitrate=parseInt(e.getAttribute("bitrate"),10)||0;t.minBitrate=parseInt(e.getAttribute("minBitrate"),10)||0;t.maxBitrate=parseInt(e.getAttribute("maxBitrate"),10)||0;t.width=parseInt(e.getAttribute("width"),10)||0;t.height=parseInt(e.getAttribute("height"),10)||0;t.mimeType=e.getAttribute("type");h=t.mimeType;let r=e.getAttribute("scalable");if(r&&typeof r==="string"){r=r.toLowerCase();if(r==="true"){t.scalable=true}else if(r==="false"){t.scalable=false}}let n=e.getAttribute("maintainAspectRatio");if(n&&typeof n==="string"){n=n.toLowerCase();if(n==="true"){t.maintainAspectRatio=true}else if(n==="false"){t.maintainAspectRatio=false}}i.mediaFiles.push(t)})});i.mediaFiles=this.pruneAndValidateMediaFiles(i.mediaFiles,t,h);const m=this.parserUtils.childByName(e,"Icons");if(m){this.parserUtils.childrenByName(m,"Icon").forEach(e=>{const t=new l.Icon;t.program=e.getAttribute("program");t.height=parseInt(e.getAttribute("height"),10)||0;t.width=parseInt(e.getAttribute("width"),10)||0;t.xPosition=this.parseXPosition(e.getAttribute("xPosition"));t.yPosition=this.parseYPosition(e.getAttribute("yPosition"));t.apiFramework=e.getAttribute("apiFramework");t.offset=this.parserUtils.parseDuration(e.getAttribute("offset"));t.duration=this.parserUtils.parseDuration(e.getAttribute("duration"));this.parserUtils.childrenByName(e,"HTMLResource").forEach(e=>{t.type=e.getAttribute("creativeType")||"text/html";t.htmlResource=this.parserUtils.parseNodeText(e)});this.parserUtils.childrenByName(e,"IFrameResource").forEach(e=>{t.type=e.getAttribute("creativeType");t.iframeResource=this.parserUtils.parseNodeText(e)});this.parserUtils.childrenByName(e,"StaticResource").forEach(e=>{t.type=e.getAttribute("creativeType");t.staticResource=this.parserUtils.parseNodeText(e)});const r=this.parserUtils.childByName(e,"IconClicks");if(r){t.iconClickThroughURLTemplate=this.parserUtils.parseNodeText(this.parserUtils.childByName(r,"IconClickThrough"));this.parserUtils.childrenByName(r,"IconClickTracking").forEach(e=>{t.iconClickTrackingURLTemplates.push(this.parserUtils.parseNodeText(e))})}t.iconViewTrackingURLTemplate=this.parserUtils.parseNodeText(this.parserUtils.childByName(e,"IconViewTracking"));i.icons.push(t)})}const v=this.parserUtils.childByName(e,"CreativeExtensions");if(v){this.parseCreativeExtensions(i,v)}return i}pruneAndValidateMediaFiles(e,t,r){if(!t&&!i.default(e)){throw new s.AmazonVideoAdsError(s.ErrorType.AD_LOAD,s.AmazonErrorCode.SCHEMA_VALIDATION_ERROR,"Wrapper element can not have media files")}if(t&&i.default(e)){throw new s.AmazonVideoAdsError(s.ErrorType.AD_LOAD,s.AmazonErrorCode.SCHEMA_VALIDATION_ERROR,"Creative does not have any media files")}const n=r===a.MediaType.AUDIO_MP3?document.createElement("audio"):document.createElement("video");const o=e.filter(e=>!i.default(n.canPlayType(e.mimeType)));if(t&&i.default(o)){const e="No creative was found with a supported mime type. "+"Supported mime types are: "+p;throw new s.AmazonVideoAdsError(s.ErrorType.AD_LOAD,s.AmazonErrorCode.MEDIA_FILE_NOT_SUPPORTED,e)}return o}parseXPosition(e){if(["left","right"].indexOf(e)!==-1){return e}return parseInt(e,10)||0}parseYPosition(e){if(["top","bottom"].indexOf(e)!==-1){return e}return parseInt(e,10)||0}}t.CreativeLinearParser=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(36);class i extends n.Creative{constructor(e={}){super(e);this.type="linear";this.duration=0;this.skipDelay=null;this.mediaFiles=[];this.videoClickThroughURLTemplate=null;this.videoClickTrackingURLTemplates=[];this.videoCustomClickURLTemplates=[];this.adParameters=null;this.icons=[];this.trackingEvents={}}}t.CreativeLinear=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});class n{constructor(){this.program=null;this.height=0;this.width=0;this.xPosition=0;this.yPosition=0;this.apiFramework=null;this.offset=null;this.duration=0;this.type=null;this.staticResource=null;this.htmlResource=null;this.iframeResource=null;this.iconClickThroughURLTemplate=null;this.iconClickTrackingURLTemplates=[];this.iconViewTrackingURLTemplate=null}}t.Icon=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});class n{constructor(){this.id=null;this.fileURL=null;this.deliveryType="progressive";this.mimeType=null;this.codec=null;this.bitrate=0;this.minBitrate=0;this.maxBitrate=0;this.width=0;this.height=0;this.apiFramework=null;this.scalable=null;this.maintainAspectRatio=null}}t.MediaFile=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(187);const i=r(188);const o=r(58);class a extends o.CreativeParser{constructor(){super()}parse(e,t){const r=new n.CreativeNonLinear(t);this.parserUtils.childrenByName(e,"TrackingEvents").forEach(e=>{this.parserUtils.childrenByName(e,"Tracking").forEach(e=>{const t=e.getAttribute("event");const n=this.parserUtils.parseNodeText(e);if(t&&n){if(!r.trackingEvents[t]){r.trackingEvents[t]=[]}r.trackingEvents[t].push(n)}})});this.parserUtils.childrenByName(e,"NonLinear").forEach(e=>{const t=new i.NonLinearAd;t.id=e.getAttribute("id")||null;t.width=parseInt(e.getAttribute("width"),10);t.height=parseInt(e.getAttribute("height"),10);t.expandedWidth=parseInt(e.getAttribute("expandedWidth"),10);t.expandedHeight=parseInt(e.getAttribute("expandedHeight"),10);t.scalable=this.parserUtils.parseBoolean(e.getAttribute("scalable"));t.maintainAspectRatio=this.parserUtils.parseBoolean(e.getAttribute("maintainAspectRatio"));t.minSuggestedDuration=this.parserUtils.parseDuration(e.getAttribute("minSuggestedDuration"));t.apiFramework=e.getAttribute("apiFramework");this.parserUtils.childrenByName(e,"HTMLResource").forEach(e=>{t.type=e.getAttribute("creativeType")||"text/html";t.htmlResource=this.parserUtils.parseNodeText(e)});this.parserUtils.childrenByName(e,"IFrameResource").forEach(e=>{t.type=e.getAttribute("creativeType");t.iframeResource=this.parserUtils.parseNodeText(e)});this.parserUtils.childrenByName(e,"StaticResource").forEach(e=>{t.type=e.getAttribute("creativeType");t.staticResource=this.parserUtils.parseNodeText(e)});const n=this.parserUtils.childByName(e,"AdParameters");if(n){t.adParameters=this.parserUtils.parseNodeText(n)}t.nonlinearClickThroughURLTemplate=this.parserUtils.parseNodeText(this.parserUtils.childByName(e,"NonLinearClickThrough"));this.parserUtils.childrenByName(e,"NonLinearClickTracking").forEach(e=>{t.nonlinearClickTrackingURLTemplates.push(this.parserUtils.parseNodeText(e))});r.variations.push(t)});return r}}t.CreativeNonLinearParser=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(36);class i extends n.Creative{constructor(e={}){super(e);this.type="nonlinear";this.variations=[];this.trackingEvents={}}}t.CreativeNonLinear=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});class n{constructor(){this.id=null;this.width=0;this.height=0;this.expandedWidth=0;this.expandedHeight=0;this.scalable=true;this.maintainAspectRatio=true;this.minSuggestedDuration=0;this.apiFramework="static";this.type=null;this.staticResource=null;this.htmlResource=null;this.iframeResource=null;this.nonlinearClickThroughURLTemplate=null;this.nonlinearClickTrackingURLTemplates=[];this.adParameters=null}}t.NonLinearAd=n},function(e,t,r){"use strict";
/** @license React v16.5.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(84),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.async_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112;i&&Symbol.for("react.placeholder");var h="function"===typeof Symbol&&Symbol.iterator;function m(e,t,r,n,i,o,a,s){if(!e){e=void 0;if(void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,o,a,s],l=0;e=Error(t.replace(/%s/g,function(){return u[l++]}));e.name="Invariant Violation"}e.framesToPop=1;throw e}}function v(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);m(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function g(e,t,r){this.props=e;this.context=t;this.refs=y;this.updater=r||E}g.prototype.isReactComponent={};g.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e?v("85"):void 0;this.updater.enqueueSetState(this,e,t,"setState")};g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _(){}_.prototype=g.prototype;function A(e,t,r){this.props=e;this.context=t;this.refs=y;this.updater=r||E}var R=A.prototype=new _;R.constructor=A;n(R,g.prototype);R.isPureReactComponent=!0;var b={current:null,currentDispatcher:null},T=Object.prototype.hasOwnProperty,P={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,r){var n=void 0,i={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)T.call(t,n)&&!P.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)void 0===i[n]&&(i[n]=u[n]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:b.current}}function O(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}function I(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}var C=/\/+/g,N=[];function D(e,t,r,n){if(N.length){var i=N.pop();i.result=e;i.keyPrefix=t;i.func=r;i.context=n;i.count=0;return i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function k(e){e.result=null;e.keyPrefix=null;e.func=null;e.context=null;e.count=0;10>N.length&&N.push(e)}function U(e,t,r,n){var i=typeof e;if("undefined"===i||"boolean"===i)e=null;var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case o:case a:s=!0}}if(s)return r(n,e,""===t?"."+L(e,0):t),1;s=0;t=""===t?".":t+":";if(Array.isArray(e))for(var u=0;u<e.length;u++){i=e[u];var l=t+L(i,u);s+=U(i,l,r,n)}else if(null===e||"object"!==typeof e?l=null:(l=h&&e[h]||e["@@iterator"],l="function"===typeof l?l:null),"function"===typeof l)for(e=l.call(e),u=0;!(i=e.next()).done;)i=i.value,l=t+L(i,u++),s+=U(i,l,r,n);else"object"===i&&(r=""+e,v("31","[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return s}function x(e,t,r){return null==e?0:U(e,"",t,r)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?I(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function V(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++);Array.isArray(e)?F(e,n,r,function(e){return e}):null!=e&&(S(e)&&(e=O(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(C,"$&/")+"/")+r)),n.push(e))}function F(e,t,r,n,i){var o="";null!=r&&(o=(""+r).replace(C,"$&/")+"/");t=D(t,o,n,i);x(e,V,t);k(t)}function j(e,t){var r=b.currentDispatcher;null===r?v("277"):void 0;return r.readContext(e,t)}var B={Children:{map:function(e,t,r){if(null==e)return e;var n=[];F(e,n,null,t,r);return n},forEach:function(e,t,r){if(null==e)return e;t=D(null,null,t,r);x(e,M,t);k(t)},count:function(e){return x(e,function(){return null},null)},toArray:function(e){var t=[];F(e,t,null,function(e){return e});return t},only:function(e){S(e)?void 0:v("143");return e}},createRef:function(){return{current:null}},Component:g,PureComponent:A,createContext:function(e,t){void 0===t&&(t=null);e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,Provider:null,Consumer:null,unstable_read:null};e.Provider={$$typeof:c,_context:e};e.Consumer=e;e.unstable_read=j.bind(null,e);return e},forwardRef:function(e){return{$$typeof:p,render:e}},Fragment:s,StrictMode:u,unstable_AsyncMode:f,unstable_Profiler:l,createElement:w,cloneElement:function(e,t,r){null===e||void 0===e?v("267",e):void 0;var i=void 0,a=n({},e.props),s=e.key,u=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,l=b.current);void 0!==t.key&&(s=""+t.key);var c=void 0;e.type&&e.type.defaultProps&&(c=e.type.defaultProps);for(i in t)T.call(t,i)&&!P.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}i=arguments.length-2;if(1===i)a.children=r;else if(1<i){c=Array(i);for(var d=0;d<i;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:o,type:e.type,key:s,ref:u,props:a,_owner:l}},createFactory:function(e){var t=w.bind(null,e);t.type=e;return t},isValidElement:S,version:"16.5.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:b,assign:n}},z={default:B},W=z&&B||z;e.exports=W.default||W},function(e,t,r){"use strict";function n(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function"){return}if(false){}try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){}}if(true){n();e.exports=r(191)}else{}},function(e,t,r){"use strict";
/** @license React v16.4.0
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(192),i=r(0),o=r(193),a=r(84),s=r(194),u=r(195),l=r(196),c=r(197),d=r(200);function f(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)r+="&args[]="+encodeURIComponent(arguments[i+1]);n(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}i?void 0:f("227");function p(e,t,r,n,i,o,a,s,u){this._hasCaughtError=!1;this._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}var h={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,r,n,i,o,a,s,u){p.apply(h,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,r,n,i,o,a,s,u){h.invokeGuardedCallback.apply(this,arguments);if(h.hasCaughtError()){var l=h.clearCaughtError();h._hasRethrowError||(h._hasRethrowError=!0,h._rethrowError=l)}},rethrowCaughtError:function(){return m.apply(h,arguments)},hasCaughtError:function(){return h._hasCaughtError},clearCaughtError:function(){if(h._hasCaughtError){var e=h._caughtError;h._caughtError=null;h._hasCaughtError=!1;return e}f("198")}};function m(){if(h._hasRethrowError){var e=h._rethrowError;h._rethrowError=null;h._hasRethrowError=!1;throw e}}var v=null,E={};function y(){if(v)for(var e in E){var t=E[e],r=v.indexOf(e);-1<r?void 0:f("96",e);if(!_[r]){t.extractEvents?void 0:f("97",e);_[r]=t;r=t.eventTypes;for(var n in r){var i=void 0;var o=r[n],a=t,s=n;A.hasOwnProperty(s)?f("99",s):void 0;A[s]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&g(u[i],a,s);i=!0}else o.registrationName?(g(o.registrationName,a,s),i=!0):i=!1;i?void 0:f("98",n,e)}}}}function g(e,t,r){R[e]?f("100",e):void 0;R[e]=t;b[e]=t.eventTypes[r].dependencies}var _=[],A={},R={},b={};function T(e){v?f("101"):void 0;v=Array.prototype.slice.call(e);y()}function P(e){var t=!1,r;for(r in e)if(e.hasOwnProperty(r)){var n=e[r];E.hasOwnProperty(r)&&E[r]===n||(E[r]?f("102",r):void 0,E[r]=n,t=!0)}t&&y()}var w={plugins:_,eventNameDispatchConfigs:A,registrationNameModules:R,registrationNameDependencies:b,possibleRegistrationNames:null,injectEventPluginOrder:T,injectEventPluginsByName:P},O=null,S=null,I=null;function C(e,t,r,n){t=e.type||"unknown-event";e.currentTarget=I(n);h.invokeGuardedCallbackAndCatchFirstError(t,r,void 0,e);e.currentTarget=null}function N(e,t){null==t?f("30"):void 0;if(null==e)return t;if(Array.isArray(e)){if(Array.isArray(t))return e.push.apply(e,t),e;e.push(t);return e}return Array.isArray(t)?[e].concat(t):[e,t]}function D(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var k=null;function U(e,t){if(e){var r=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(r))for(var i=0;i<r.length&&!e.isPropagationStopped();i++)C(e,t,r[i],n[i]);else r&&C(e,t,r,n);e._dispatchListeners=null;e._dispatchInstances=null;e.isPersistent()||e.constructor.release(e)}}function x(e){return U(e,!0)}function L(e){return U(e,!1)}var M={injectEventPluginOrder:T,injectEventPluginsByName:P};function V(e,t){var r=e.stateNode;if(!r)return null;var n=O(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(e=e.type,n=!("button"===e||"input"===e||"select"===e||"textarea"===e));e=!n;break e;default:e=!1}if(e)return null;r&&"function"!==typeof r?f("231",t,typeof r):void 0;return r}function F(e,t){null!==e&&(k=N(k,e));e=k;k=null;e&&(t?D(e,x):D(e,L),k?f("95"):void 0,h.rethrowCaughtError())}function j(e,t,r,n){for(var i=null,o=0;o<_.length;o++){var a=_[o];a&&(a=a.extractEvents(e,t,r,n))&&(i=N(i,a))}F(i,!1)}var B={injection:M,getListener:V,runEventsInBatch:F,runExtractedEventsInBatch:j},z=Math.random().toString(36).slice(2),W="__reactInternalInstance$"+z,H="__reactEventHandlers$"+z;function q(e){if(e[W])return e[W];for(;!e[W];)if(e.parentNode)e=e.parentNode;else return null;e=e[W];return 5===e.tag||6===e.tag?e:null}function Y(e){if(5===e.tag||6===e.tag)return e.stateNode;f("33")}function Q(e){return e[H]||null}var $={precacheFiberNode:function(e,t){t[W]=e},getClosestInstanceFromNode:q,getInstanceFromNode:function(e){e=e[W];return!e||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:Y,getFiberCurrentPropsFromNode:Q,updateFiberProps:function(e,t){e[H]=t}};function G(e){do{e=e.return}while(e&&5!==e.tag);return e?e:null}function K(e,t,r){for(var n=[];e;)n.push(e),e=G(e);for(e=n.length;0<e--;)t(n[e],"captured",r);for(e=0;e<n.length;e++)t(n[e],"bubbled",r)}function X(e,t,r){if(t=V(e,r.dispatchConfig.phasedRegistrationNames[t]))r._dispatchListeners=N(r._dispatchListeners,t),r._dispatchInstances=N(r._dispatchInstances,e)}function Z(e){e&&e.dispatchConfig.phasedRegistrationNames&&K(e._targetInst,X,e)}function J(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?G(t):null;K(t,X,e)}}function ee(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=V(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=N(r._dispatchListeners,t),r._dispatchInstances=N(r._dispatchInstances,e))}function te(e){e&&e.dispatchConfig.registrationName&&ee(e._targetInst,null,e)}function re(e){D(e,Z)}function ne(e,t,r,n){if(r&&n)e:{var i=r;for(var o=n,a=0,s=i;s;s=G(s))a++;s=0;for(var u=o;u;u=G(u))s++;for(;0<a-s;)i=G(i),a--;for(;0<s-a;)o=G(o),s--;for(;a--;){if(i===o||i===o.alternate)break e;i=G(i);o=G(o)}i=null}else i=null;o=i;for(i=[];r&&r!==o;){a=r.alternate;if(null!==a&&a===o)break;i.push(r);r=G(r)}for(r=[];n&&n!==o;){a=n.alternate;if(null!==a&&a===o)break;r.push(n);n=G(n)}for(n=0;n<i.length;n++)ee(i[n],"bubbled",e);for(e=r.length;0<e--;)ee(r[e],"captured",t)}var ie={accumulateTwoPhaseDispatches:re,accumulateTwoPhaseDispatchesSkipTarget:function(e){D(e,J)},accumulateEnterLeaveDispatches:ne,accumulateDirectDispatches:function(e){D(e,te)}};function oe(e,t){var r={};r[e.toLowerCase()]=t.toLowerCase();r["Webkit"+e]="webkit"+t;r["Moz"+e]="moz"+t;r["ms"+e]="MS"+t;r["O"+e]="o"+t.toLowerCase();return r}var ae={animationend:oe("Animation","AnimationEnd"),animationiteration:oe("Animation","AnimationIteration"),animationstart:oe("Animation","AnimationStart"),transitionend:oe("Transition","TransitionEnd")},se={},ue={};o.canUseDOM&&(ue=document.createElement("div").style,"AnimationEvent"in window||(delete ae.animationend.animation,delete ae.animationiteration.animation,delete ae.animationstart.animation),"TransitionEvent"in window||delete ae.transitionend.transition);function le(e){if(se[e])return se[e];if(!ae[e])return e;var t=ae[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ue)return se[e]=t[r];return e}var ce=le("animationend"),de=le("animationiteration"),fe=le("animationstart"),pe=le("transitionend"),he="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),me=null;function ve(){!me&&o.canUseDOM&&(me="textContent"in document.documentElement?"textContent":"innerText");return me}var Ee={_root:null,_startText:null,_fallbackText:null};function ye(){if(Ee._fallbackText)return Ee._fallbackText;var e,t=Ee._startText,r=t.length,n,i=ge(),o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);Ee._fallbackText=i.slice(e,1<n?1-n:void 0);return Ee._fallbackText}function ge(){return"value"in Ee._root?Ee._root.value:Ee._root[ve()]}var _e="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),Ae={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function Re(e,t,r,n){this.dispatchConfig=e;this._targetInst=t;this.nativeEvent=r;e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?s.thatReturnsTrue:s.thatReturnsFalse;this.isPropagationStopped=s.thatReturnsFalse;return this}a(Re.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;for(e=0;e<_e.length;e++)this[_e[e]]=null}});Re.Interface=Ae;Re.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var i=new t;a(i,r.prototype);r.prototype=i;r.prototype.constructor=r;r.Interface=a({},n.Interface,e);r.extend=n.extend;Pe(r);return r};Pe(Re);function be(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();this.call(i,e,t,r,n);return i}return new this(e,t,r,n)}function Te(e){e instanceof this?void 0:f("223");e.destructor();10>this.eventPool.length&&this.eventPool.push(e)}function Pe(e){e.eventPool=[];e.getPooled=be;e.release=Te}var we=Re.extend({data:null}),Oe=Re.extend({data:null}),Se=[9,13,27,32],Ie=o.canUseDOM&&"CompositionEvent"in window,Ce=null;o.canUseDOM&&"documentMode"in document&&(Ce=document.documentMode);var Ne=o.canUseDOM&&"TextEvent"in window&&!Ce,De=o.canUseDOM&&(!Ie||Ce&&8<Ce&&11>=Ce),ke=String.fromCharCode(32),Ue={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},xe=!1;function Le(e,t){switch(e){case"keyup":return-1!==Se.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Me(e){e=e.detail;return"object"===typeof e&&"data"in e?e.data:null}var Ve=!1;function Fe(e,t){switch(e){case"compositionend":return Me(t);case"keypress":if(32!==t.which)return null;xe=!0;return ke;case"textInput":return e=t.data,e===ke&&xe?null:e;default:return null}}function je(e,t){if(Ve)return"compositionend"===e||!Ie&&Le(e,t)?(e=ye(),Ee._root=null,Ee._startText=null,Ee._fallbackText=null,Ve=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return De?null:t.data;default:return null}}var Be={eventTypes:Ue,extractEvents:function(e,t,r,n){var i=void 0;var o=void 0;if(Ie)e:{switch(e){case"compositionstart":i=Ue.compositionStart;break e;case"compositionend":i=Ue.compositionEnd;break e;case"compositionupdate":i=Ue.compositionUpdate;break e}i=void 0}else Ve?Le(e,r)&&(i=Ue.compositionEnd):"keydown"===e&&229===r.keyCode&&(i=Ue.compositionStart);i?(De&&(Ve||i!==Ue.compositionStart?i===Ue.compositionEnd&&Ve&&(o=ye()):(Ee._root=n,Ee._startText=ge(),Ve=!0)),i=we.getPooled(i,t,r,n),o?i.data=o:(o=Me(r),null!==o&&(i.data=o)),re(i),o=i):o=null;(e=Ne?Fe(e,r):je(e,r))?(t=Oe.getPooled(Ue.beforeInput,t,r,n),t.data=e,re(t)):t=null;return null===o?t:null===t?o:[o,t]}},ze=null,We={injectFiberControlledHostComponent:function(e){ze=e}},He=null,qe=null;function Ye(e){if(e=S(e)){ze&&"function"===typeof ze.restoreControlledState?void 0:f("194");var t=O(e.stateNode);ze.restoreControlledState(e.stateNode,e.type,t)}}function Qe(e){He?qe?qe.push(e):qe=[e]:He=e}function $e(){return null!==He||null!==qe}function Ge(){if(He){var e=He,t=qe;qe=He=null;Ye(e);if(t)for(e=0;e<t.length;e++)Ye(t[e])}}var Ke={injection:We,enqueueStateRestore:Qe,needsStateRestore:$e,restoreStateIfNeeded:Ge};function Xe(e,t){return e(t)}function Ze(e,t,r){return e(t,r)}function Je(){}var et=!1;function tt(e,t){if(et)return e(t);et=!0;try{return Xe(e,t)}finally{et=!1,$e()&&(Je(),Ge())}}var rt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!rt[e.type]:"textarea"===t?!0:!1}function it(e){e=e.target||window;e.correspondingUseElement&&(e=e.correspondingUseElement);return 3===e.nodeType?e.parentNode:e}function ot(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;e="on"+e;t=e in document;t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"===typeof t[e]);return t}function at(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function st(e){var t=at(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e;o.call(this,e)}});Object.defineProperty(e,t,{enumerable:r.enumerable});return{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null;delete e[t]}}}}function ut(e){e._valueTracker||(e._valueTracker=st(e))}function lt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue();var n="";e&&(n=at(e)?e.checked?"true":"false":e.value);e=n;return e!==r?(t.setValue(e),!0):!1}var ct=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dt="function"===typeof Symbol&&Symbol.for,ft=dt?Symbol.for("react.element"):60103,pt=dt?Symbol.for("react.portal"):60106,ht=dt?Symbol.for("react.fragment"):60107,mt=dt?Symbol.for("react.strict_mode"):60108,vt=dt?Symbol.for("react.profiler"):60114,Et=dt?Symbol.for("react.provider"):60109,yt=dt?Symbol.for("react.context"):60110,gt=dt?Symbol.for("react.async_mode"):60111,_t=dt?Symbol.for("react.forward_ref"):60112,At=dt?Symbol.for("react.timeout"):60113,Rt="function"===typeof Symbol&&Symbol.iterator;function bt(e){if(null===e||"undefined"===typeof e)return null;e=Rt&&e[Rt]||e["@@iterator"];return"function"===typeof e?e:null}function Tt(e){var t=e.type;if("function"===typeof t)return t.displayName||t.name;if("string"===typeof t)return t;switch(t){case gt:return"AsyncMode";case yt:return"Context.Consumer";case ht:return"ReactFragment";case pt:return"ReactPortal";case vt:return"Profiler("+e.pendingProps.id+")";case Et:return"Context.Provider";case mt:return"StrictMode";case At:return"Timeout"}if("object"===typeof t&&null!==t)switch(t.$$typeof){case _t:return e=t.render.displayName||t.render.name||"",""!==e?"ForwardRef("+e+")":"ForwardRef"}return null}function Pt(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var r=e._debugOwner,n=e._debugSource;var i=Tt(e);var o=null;r&&(o=Tt(r));r=n;i="\n    in "+(i||"Unknown")+(r?" (at "+r.fileName.replace(/^.*[\\\/]/,"")+":"+r.lineNumber+")":o?" (created by "+o+")":"");break e;default:i=""}t+=i;e=e.return}while(e);return t}var wt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ot={},St={};function It(e){if(St.hasOwnProperty(e))return!0;if(Ot.hasOwnProperty(e))return!1;if(wt.test(e))return St[e]=!0;Ot[e]=!0;return!1}function Ct(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(n)return!1;if(null!==r)return!r.acceptsBooleans;e=e.toLowerCase().slice(0,5);return"data-"!==e&&"aria-"!==e;default:return!1}}function Nt(e,t,r,n){if(null===t||"undefined"===typeof t||Ct(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dt(e,t,r,n,i){this.acceptsBooleans=2===t||3===t||4===t;this.attributeName=n;this.attributeNamespace=i;this.mustUseProperty=r;this.propertyName=e;this.type=t}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Dt(e,0,!1,e,null)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Dt(t,1,!1,e[1],null)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Dt(e,2,!1,e.toLowerCase(),null)});["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){kt[e]=new Dt(e,2,!1,e,null)});"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Dt(e,3,!1,e.toLowerCase(),null)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Dt(e,3,!0,e.toLowerCase(),null)});["capture","download"].forEach(function(e){kt[e]=new Dt(e,4,!1,e.toLowerCase(),null)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Dt(e,6,!1,e.toLowerCase(),null)});["rowSpan","start"].forEach(function(e){kt[e]=new Dt(e,5,!1,e.toLowerCase(),null)});var Ut=/[\-:]([a-z])/g;function xt(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ut,xt);kt[t]=new Dt(t,1,!1,e,null)});"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ut,xt);kt[t]=new Dt(t,1,!1,e,"http://www.w3.org/1999/xlink")});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ut,xt);kt[t]=new Dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")});kt.tabIndex=new Dt("tabIndex",1,!1,"tabindex",null);function Lt(e,t,r,n){var i=kt.hasOwnProperty(t)?kt[t]:null;var o=null!==i?0===i.type:n?!1:!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1]?!1:!0;o||(Nt(t,r,i,n)&&(r=null),n||null===i?It(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3===i.type?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(i=i.type,r=3===i||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}function Mt(e,t){var r=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Vt(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=Wt(null!=t.value?t.value:r);e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ft(e,t){t=t.checked;null!=t&&Lt(e,"checked",t,!1)}function jt(e,t){Ft(e,t);var r=Wt(t.value);if(null!=r)if("number"===t.type){if(0===r&&""===e.value||e.value!=r)e.value=""+r}else e.value!==""+r&&(e.value=""+r);t.hasOwnProperty("value")?zt(e,t.type,r):t.hasOwnProperty("defaultValue")&&zt(e,t.type,Wt(t.defaultValue));null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Bt(e,t){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue"))""===e.value&&(e.value=""+e._wrapperState.initialValue),e.defaultValue=""+e._wrapperState.initialValue;t=e.name;""!==t&&(e.name="");e.defaultChecked=!e.defaultChecked;e.defaultChecked=!e.defaultChecked;""!==t&&(e.name=t)}function zt(e,t,r){if("number"!==t||e.ownerDocument.activeElement!==e)null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r)}function Wt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}var Ht={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function qt(e,t,r){e=Re.getPooled(Ht.change,e,t,r);e.type="change";Qe(r);re(e);return e}var Yt=null,Qt=null;function $t(e){F(e,!1)}function Gt(e){var t=Y(e);if(lt(t))return e}function Kt(e,t){if("change"===e)return t}var Xt=!1;o.canUseDOM&&(Xt=ot("input")&&(!document.documentMode||9<document.documentMode));function Zt(){Yt&&(Yt.detachEvent("onpropertychange",Jt),Qt=Yt=null)}function Jt(e){"value"===e.propertyName&&Gt(Qt)&&(e=qt(Qt,e,it(e)),tt($t,e))}function er(e,t,r){"focus"===e?(Zt(),Yt=t,Qt=r,Yt.attachEvent("onpropertychange",Jt)):"blur"===e&&Zt()}function tr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gt(Qt)}function rr(e,t){if("click"===e)return Gt(t)}function nr(e,t){if("input"===e||"change"===e)return Gt(t)}var ir={eventTypes:Ht,_isInputEventSupported:Xt,extractEvents:function(e,t,r,n){var i=t?Y(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();"select"===s||"input"===s&&"file"===i.type?o=Kt:nt(i)?Xt?o=nr:(o=tr,a=er):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=rr);if(o&&(o=o(e,t)))return qt(o,r,n);a&&a(e,i,t);"blur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&zt(i,"number",i.value)}},or=Re.extend({view:null,detail:null}),ar={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ar[e])?!!t[e]:!1}function ur(){return sr}var lr=or.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ur,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),cr=lr.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),dr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},fr={eventTypes:dr,extractEvents:function(e,t,r,n){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(r.relatedTarget||r.fromElement)||!o&&!i)return null;i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window;o?(o=t,t=(t=r.relatedTarget||r.toElement)?q(t):null):o=null;if(o===t)return null;var a=void 0,s=void 0,u=void 0,l=void 0;if("mouseout"===e||"mouseover"===e)a=lr,s=dr.mouseLeave,u=dr.mouseEnter,l="mouse";else if("pointerout"===e||"pointerover"===e)a=cr,s=dr.pointerLeave,u=dr.pointerEnter,l="pointer";e=null==o?i:Y(o);i=null==t?i:Y(t);s=a.getPooled(s,o,r,n);s.type=l+"leave";s.target=e;s.relatedTarget=i;r=a.getPooled(u,t,r,n);r.type=l+"enter";r.target=i;r.relatedTarget=e;ne(s,r,o,t);return[s,r]}};function pr(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(t.effectTag&2))return 1;for(;t.return;)if(t=t.return,0!==(t.effectTag&2))return 1}return 3===t.tag?2:3}function hr(e){2!==pr(e)?f("188"):void 0}function mr(e){var t=e.alternate;if(!t)return t=pr(e),3===t?f("188"):void 0,1===t?null:e;for(var r=e,n=t;;){var i=r.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===r)return hr(i),e;if(a===n)return hr(i),t;a=a.sibling}f("188")}if(r.return!==n.return)r=i,n=o;else{a=!1;for(var s=i.child;s;){if(s===r){a=!0;r=i;n=o;break}if(s===n){a=!0;n=i;r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0;r=o;n=i;break}if(s===n){a=!0;n=o;r=i;break}s=s.sibling}a?void 0:f("189")}}r.alternate!==n?f("190"):void 0}3!==r.tag?f("188"):void 0;return r.stateNode.current===r?e:t}function vr(e){e=mr(e);if(!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return;t=t.sibling}}return null}function Er(e){e=mr(e);if(!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return;t=t.sibling}}return null}var yr=Re.extend({animationName:null,elapsedTime:null,pseudoElement:null}),gr=Re.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_r=or.extend({relatedTarget:null});function Ar(e){var t=e.keyCode;"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t;10===e&&(e=13);return 32<=e||13===e?e:0}var Rr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},br={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tr=or.extend({key:function(e){if(e.key){var t=Rr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=Ar(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?br[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ur,charCode:function(e){return"keypress"===e.type?Ar(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ar(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pr=lr.extend({dataTransfer:null}),wr=or.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ur}),Or=Re.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Sr=lr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Ir=[["abort","abort"],[ce,"animationEnd"],[de,"animationIteration"],[fe,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[pe,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Cr={},Nr={};function Dr(e,t){var r=e[0];e=e[1];var n="on"+(e[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r],isInteractive:t};Cr[e]=t;Nr[r]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Dr(e,!0)});Ir.forEach(function(e){Dr(e,!1)});var kr={eventTypes:Cr,isInteractiveTopLevelEventType:function(e){e=Nr[e];return void 0!==e&&!0===e.isInteractive},extractEvents:function(e,t,r,n){var i=Nr[e];if(!i)return null;switch(e){case"keypress":if(0===Ar(r))return null;case"keydown":case"keyup":e=Tr;break;case"blur":case"focus":e=_r;break;case"click":if(2===r.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=wr;break;case ce:case de:case fe:e=yr;break;case pe:e=Or;break;case"scroll":e=or;break;case"wheel":e=Sr;break;case"copy":case"cut":case"paste":e=gr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=cr;break;default:e=Re}t=e.getPooled(i,t,r,n);re(t);return t}},Ur=kr.isInteractiveTopLevelEventType,xr=[];function Lr(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var r;for(r=t;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo;if(!r)break;e.ancestors.push(t);t=q(r)}while(t);for(r=0;r<e.ancestors.length;r++)t=e.ancestors[r],j(e.topLevelType,t,e.nativeEvent,it(e.nativeEvent))}var Mr=!0;function Vr(e){Mr=!!e}function Fr(e,t){if(!t)return null;var r=(Ur(e)?Br:zr).bind(null,e);t.addEventListener(e,r,!1)}function jr(e,t){if(!t)return null;var r=(Ur(e)?Br:zr).bind(null,e);t.addEventListener(e,r,!0)}function Br(e,t){Ze(zr,e,t)}function zr(e,t){if(Mr){var r=it(t);r=q(r);null===r||"number"!==typeof r.tag||2===pr(r)||(r=null);if(xr.length){var n=xr.pop();n.topLevelType=e;n.nativeEvent=t;n.targetInst=r;e=n}else e={topLevelType:e,nativeEvent:t,targetInst:r,ancestors:[]};try{tt(Lr,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>xr.length&&xr.push(e)}}}var Wr={get _enabled(){return Mr},setEnabled:Vr,isEnabled:function(){return Mr},trapBubbledEvent:Fr,trapCapturedEvent:jr,dispatchEvent:zr},Hr={},qr=0,Yr="_reactListenersID"+(""+Math.random()).slice(2);function Qr(e){Object.prototype.hasOwnProperty.call(e,Yr)||(e[Yr]=qr++,Hr[e[Yr]]={});return Hr[e[Yr]]}function $r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gr(e,t){var r=$r(e);e=0;for(var n;r;){if(3===r.nodeType){n=e+r.textContent.length;if(e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$r(r)}}function Kr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}var Xr=o.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Zr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Jr=null,en=null,tn=null,rn=!1;function nn(e,t){if(rn||null==Jr||Jr!==u())return null;var r=Jr;"selectionStart"in r&&Kr(r)?r={start:r.selectionStart,end:r.selectionEnd}:window.getSelection?(r=window.getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}):r=void 0;return tn&&l(tn,r)?null:(tn=r,e=Re.getPooled(Zr.select,en,e,t),e.type="select",e.target=Jr,re(e),e)}var on={eventTypes:Zr,extractEvents:function(e,t,r,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument,o;if(!(o=!i)){e:{i=Qr(i);o=b.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break e}}i=!0}o=!i}if(o)return null;i=t?Y(t):window;switch(e){case"focus":if(nt(i)||"true"===i.contentEditable)Jr=i,en=t,tn=null;break;case"blur":tn=en=Jr=null;break;case"mousedown":rn=!0;break;case"contextmenu":case"mouseup":return rn=!1,nn(r,n);case"selectionchange":if(Xr)break;case"keydown":case"keyup":return nn(r,n)}return null}};M.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));O=$.getFiberCurrentPropsFromNode;S=$.getInstanceFromNode;I=$.getNodeFromInstance;M.injectEventPluginsByName({SimpleEventPlugin:kr,EnterLeaveEventPlugin:fr,ChangeEventPlugin:ir,SelectEventPlugin:on,BeforeInputEventPlugin:Be});var an=void 0;an="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()};var sn=void 0,un=void 0;if(o.canUseDOM){var ln=[],cn=0,dn={},fn=-1,pn=!1,hn=!1,mn=0,vn=33,En=33,yn={didTimeout:!1,timeRemaining:function(){var e=mn-an();return 0<e?e:0}},gn=function(e,t){if(dn[t])try{e(yn)}finally{delete dn[t]}},_n="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===_n&&(pn=!1,0!==ln.length)){if(0!==ln.length&&(e=an(),!(-1===fn||fn>e))){fn=-1;yn.didTimeout=!0;for(var t=0,r=ln.length;t<r;t++){var n=ln[t],i=n.timeoutTime;-1!==i&&i<=e?gn(n.scheduledCallback,n.callbackId):-1!==i&&(-1===fn||i<fn)&&(fn=i)}}for(e=an();0<mn-e&&0<ln.length;)e=ln.shift(),yn.didTimeout=!1,gn(e.scheduledCallback,e.callbackId),e=an();0<ln.length&&!hn&&(hn=!0,requestAnimationFrame(An))}},!1);var An=function(e){hn=!1;var t=e-mn+En;t<En&&vn<En?(8>t&&(t=8),En=t<vn?vn:t):vn=t;mn=e+En;pn||(pn=!0,window.postMessage(_n,"*"))};sn=function(e,t){var r=-1;null!=t&&"number"===typeof t.timeout&&(r=an()+t.timeout);if(-1===fn||-1!==r&&r<fn)fn=r;cn++;t=cn;ln.push({scheduledCallback:e,callbackId:t,timeoutTime:r});dn[t]=!0;hn||(hn=!0,requestAnimationFrame(An));return t};un=function(e){delete dn[e]}}else{var Rn=0,bn={};sn=function(e){var t=Rn++,r=setTimeout(function(){e({timeRemaining:function(){return Infinity},didTimeout:!1})});bn[t]=r;return t};un=function(e){var t=bn[e];delete bn[e];clearTimeout(t)}}function Tn(e){var t="";i.Children.forEach(e,function(e){null==e||"string"!==typeof e&&"number"!==typeof e||(t+=e)});return t}function Pn(e,t){e=a({children:void 0},t);if(t=Tn(t.children))e.children=t;return e}function wn(e,t,r,n){e=e.options;if(t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{r=""+r;t=null;for(i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0;n&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function On(e,t){var r=t.value;e._wrapperState={initialValue:null!=r?r:t.defaultValue,wasMultiple:!!t.multiple}}function Sn(e,t){null!=t.dangerouslySetInnerHTML?f("91"):void 0;return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function In(e,t){var r=t.value;null==r&&(r=t.defaultValue,t=t.children,null!=t&&(null!=r?f("92"):void 0,Array.isArray(t)&&(1>=t.length?void 0:f("93"),t=t[0]),r=""+t),null==r&&(r=""));e._wrapperState={initialValue:""+r}}function Cn(e,t){var r=t.value;null!=r&&(r=""+r,r!==e.value&&(e.value=r),null==t.defaultValue&&(e.defaultValue=r));null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Nn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}var Dn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function kn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Un(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?kn(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var xn=void 0,Ln=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==Dn.svg||"innerHTML"in e)e.innerHTML=t;else{xn=xn||document.createElement("div");xn.innerHTML="<svg>"+t+"</svg>";for(t=xn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType){r.nodeValue=t;return}}e.textContent=t}var Vn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fn=["Webkit","ms","Moz","O"];Object.keys(Vn).forEach(function(e){Fn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1);Vn[t]=Vn[e]})});function jn(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--");var i=r;var o=t[r];i=null==o||"boolean"===typeof o||""===o?"":n||"number"!==typeof o||0===o||Vn.hasOwnProperty(i)&&Vn[i]?(""+o).trim():o+"px";"float"===r&&(r="cssFloat");n?e.setProperty(r,i):e[r]=i}}var Bn=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zn(e,t,r){t&&(Bn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?f("137",e,r()):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?f("60"):void 0,"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML?void 0:f("61")),null!=t.style&&"object"!==typeof t.style?f("62",r()):void 0)}function Wn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hn=s.thatReturns("");function qn(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var r=Qr(e);t=b[t];for(var n=0;n<t.length;n++){var i=t[n];if(!r.hasOwnProperty(i)||!r[i]){switch(i){case"scroll":jr("scroll",e);break;case"focus":case"blur":jr("focus",e);jr("blur",e);r.blur=!0;r.focus=!0;break;case"cancel":case"close":ot(i,!0)&&jr(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===he.indexOf(i)&&Fr(i,e)}r[i]=!0}}}function Yn(e,t,r,n){r=9===r.nodeType?r:r.ownerDocument;n===Dn.html&&(n=kn(e));n===Dn.html?"script"===e?(e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"===typeof t.is?r.createElement(e,{is:t.is}):r.createElement(e):e=r.createElementNS(n,e);return e}function Qn(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function $n(e,t,r,n){var i=Wn(t,r);switch(t){case"iframe":case"object":Fr("load",e);var o=r;break;case"video":case"audio":for(o=0;o<he.length;o++)Fr(he[o],e);o=r;break;case"source":Fr("error",e);o=r;break;case"img":case"image":case"link":Fr("error",e);Fr("load",e);o=r;break;case"form":Fr("reset",e);Fr("submit",e);o=r;break;case"details":Fr("toggle",e);o=r;break;case"input":Vt(e,r);o=Mt(e,r);Fr("invalid",e);qn(n,"onChange");break;case"option":o=Pn(e,r);break;case"select":On(e,r);o=a({},r,{value:void 0});Fr("invalid",e);qn(n,"onChange");break;case"textarea":In(e,r);o=Sn(e,r);Fr("invalid",e);qn(n,"onChange");break;default:o=r}zn(t,o,Hn);var u=o,l;for(l in u)if(u.hasOwnProperty(l)){var c=u[l];"style"===l?jn(e,c,Hn):"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,null!=c&&Ln(e,c)):"children"===l?"string"===typeof c?("textarea"!==t||""!==c)&&Mn(e,c):"number"===typeof c&&Mn(e,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(R.hasOwnProperty(l)?null!=c&&qn(n,l):null!=c&&Lt(e,l,c,i))}switch(t){case"input":ut(e);Bt(e,r);break;case"textarea":ut(e);Nn(e,r);break;case"option":null!=r.value&&e.setAttribute("value",r.value);break;case"select":e.multiple=!!r.multiple;t=r.value;null!=t?wn(e,!!r.multiple,t,!1):null!=r.defaultValue&&wn(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=s)}}function Gn(e,t,r,n,i){var o=null;switch(t){case"input":r=Mt(e,r);n=Mt(e,n);o=[];break;case"option":r=Pn(e,r);n=Pn(e,n);o=[];break;case"select":r=a({},r,{value:void 0});n=a({},n,{value:void 0});o=[];break;case"textarea":r=Sn(e,r);n=Sn(e,n);o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(e.onclick=s)}zn(t,n,Hn);t=e=void 0;var u=null;for(e in r)if(!n.hasOwnProperty(e)&&r.hasOwnProperty(e)&&null!=r[e])if("style"===e){var l=r[e];for(t in l)l.hasOwnProperty(t)&&(u||(u={}),u[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(R.hasOwnProperty(e)?o||(o=[]):(o=o||[]).push(e,null));for(e in n){var c=n[e];l=null!=r?r[e]:void 0;if(n.hasOwnProperty(e)&&c!==l&&(null!=c||null!=l))if("style"===e)if(l){for(t in l)!l.hasOwnProperty(t)||c&&c.hasOwnProperty(t)||(u||(u={}),u[t]="");for(t in c)c.hasOwnProperty(t)&&l[t]!==c[t]&&(u||(u={}),u[t]=c[t])}else u||(o||(o=[]),o.push(e,u)),u=c;else"dangerouslySetInnerHTML"===e?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(e,""+c)):"children"===e?l===c||"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(e,""+c):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(R.hasOwnProperty(e)?(null!=c&&qn(i,e),o||l===c||(o=[])):(o=o||[]).push(e,c))}u&&(o=o||[]).push("style",u);return o}function Kn(e,t,r,n,i){"input"===r&&"radio"===i.type&&null!=i.name&&Ft(e,i);Wn(r,n);n=Wn(r,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?jn(e,s,Hn):"dangerouslySetInnerHTML"===a?Ln(e,s):"children"===a?Mn(e,s):Lt(e,a,s,n)}switch(r){case"input":jt(e,i);break;case"textarea":Cn(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,r=i.value,null!=r?wn(e,!!i.multiple,r,!1):t!==!!i.multiple&&(null!=i.defaultValue?wn(e,!!i.multiple,i.defaultValue,!0):wn(e,!!i.multiple,i.multiple?[]:"",!1))}}function Xn(e,t,r,n,i){switch(t){case"iframe":case"object":Fr("load",e);break;case"video":case"audio":for(n=0;n<he.length;n++)Fr(he[n],e);break;case"source":Fr("error",e);break;case"img":case"image":case"link":Fr("error",e);Fr("load",e);break;case"form":Fr("reset",e);Fr("submit",e);break;case"details":Fr("toggle",e);break;case"input":Vt(e,r);Fr("invalid",e);qn(i,"onChange");break;case"select":On(e,r);Fr("invalid",e);qn(i,"onChange");break;case"textarea":In(e,r),Fr("invalid",e),qn(i,"onChange")}zn(t,r,Hn);n=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];"children"===o?"string"===typeof a?e.textContent!==a&&(n=["children",a]):"number"===typeof a&&e.textContent!==""+a&&(n=["children",""+a]):R.hasOwnProperty(o)&&null!=a&&qn(i,o)}switch(t){case"input":ut(e);Bt(e,r);break;case"textarea":ut(e);Nn(e,r);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(e.onclick=s)}return n}function Zn(e,t){return e.nodeValue!==t}var Jn={createElement:Yn,createTextNode:Qn,setInitialProperties:$n,diffProperties:Gn,updateProperties:Kn,diffHydratedProperties:Xn,diffHydratedText:Zn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,r){switch(t){case"input":jt(e,r);t=r.name;if("radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]');for(t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Q(n);i?void 0:f("90");lt(n);jt(n,i)}}}break;case"textarea":Cn(e,r);break;case"select":t=r.value,null!=t&&wn(e,!!r.multiple,t,!1)}}},ei=null,ti=null;function ri(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ni(e,t){return"textarea"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"===typeof t.dangerouslySetInnerHTML.__html}var ii=an,oi=sn,ai=un;function si(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function ui(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var li=[],ci=-1;function di(e){return{current:e}}function fi(e){0>ci||(e.current=li[ci],li[ci]=null,ci--)}function pi(e,t){ci++;li[ci]=e.current;e.current=t}var hi=di(d),mi=di(!1),vi=d;function Ei(e){return gi(e)?vi:hi.current}function yi(e,t){var r=e.type.contextTypes;if(!r)return d;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i);return i}function gi(e){return 2===e.tag&&null!=e.type.childContextTypes}function _i(e){gi(e)&&(fi(mi,e),fi(hi,e))}function Ai(e){fi(mi,e);fi(hi,e)}function Ri(e,t,r){hi.current!==d?f("168"):void 0;pi(hi,t,e);pi(mi,r,e)}function bi(e,t){var r=e.stateNode,n=e.type.childContextTypes;if("function"!==typeof r.getChildContext)return t;r=r.getChildContext();for(var i in r)i in n?void 0:f("108",Tt(e)||"Unknown",i);return a({},t,r)}function Ti(e){if(!gi(e))return!1;var t=e.stateNode;t=t&&t.__reactInternalMemoizedMergedChildContext||d;vi=hi.current;pi(hi,t,e);pi(mi,mi.current,e);return!0}function Pi(e,t){var r=e.stateNode;r?void 0:f("169");if(t){var n=bi(e,vi);r.__reactInternalMemoizedMergedChildContext=n;fi(mi,e);fi(hi,e);pi(hi,n,e)}else fi(mi,e);pi(mi,t,e)}function wi(e,t,r,n){this.tag=e;this.key=r;this.sibling=this.child=this.return=this.stateNode=this.type=null;this.index=0;this.ref=null;this.pendingProps=t;this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=n;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.expirationTime=0;this.alternate=null}function Oi(e,t,r){var n=e.alternate;null===n?(n=new wi(e.tag,t,e.key,e.mode),n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null);n.expirationTime=r;n.child=e.child;n.memoizedProps=e.memoizedProps;n.memoizedState=e.memoizedState;n.updateQueue=e.updateQueue;n.sibling=e.sibling;n.index=e.index;n.ref=e.ref;return n}function Si(e,t,r){var n=e.type,i=e.key;e=e.props;if("function"===typeof n)var o=n.prototype&&n.prototype.isReactComponent?2:0;else if("string"===typeof n)o=5;else switch(n){case ht:return Ii(e.children,t,r,i);case gt:o=11;t|=3;break;case mt:o=11;t|=2;break;case vt:return n=new wi(15,e,i,t|4),n.type=vt,n.expirationTime=r,n;case At:o=16;t|=2;break;default:e:{switch("object"===typeof n&&null!==n?n.$$typeof:null){case Et:o=13;break e;case yt:o=12;break e;case _t:o=14;break e;default:f("130",null==n?n:typeof n,"")}o=void 0}}t=new wi(o,e,i,t);t.type=n;t.expirationTime=r;return t}function Ii(e,t,r,n){e=new wi(10,e,n,t);e.expirationTime=r;return e}function Ci(e,t,r){e=new wi(6,e,null,t);e.expirationTime=r;return e}function Ni(e,t,r){t=new wi(4,null!==e.children?e.children:[],e.key,t);t.expirationTime=r;t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation};return t}function Di(e,t,r){t=new wi(3,null,null,t?3:0);e={current:t,containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:r,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null};return t.stateNode=e}var ki=null,Ui=null;function xi(e){return function(t){try{return e(t)}catch(e){}}}function Li(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);ki=xi(function(e){return t.onCommitFiberRoot(r,e)});Ui=xi(function(e){return t.onCommitFiberUnmount(r,e)})}catch(e){}return!0}function Mi(e){"function"===typeof ki&&ki(e)}function Vi(e){"function"===typeof Ui&&Ui(e)}var Fi=!1;function ji(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Bi(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function zi(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Wi(e,t,r){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t);if(0===e.expirationTime||e.expirationTime>r)e.expirationTime=r}function Hi(e,t,r){var n=e.alternate;if(null===n){var i=e.updateQueue;var o=null;null===i&&(i=e.updateQueue=ji(e.memoizedState))}else i=e.updateQueue,o=n.updateQueue,null===i?null===o?(i=e.updateQueue=ji(e.memoizedState),o=n.updateQueue=ji(n.memoizedState)):i=e.updateQueue=Bi(o):null===o&&(o=n.updateQueue=Bi(i));null===o||i===o?Wi(i,t,r):null===i.lastUpdate||null===o.lastUpdate?(Wi(i,t,r),Wi(o,t,r)):(Wi(i,t,r),o.lastUpdate=t)}function qi(e,t,r){var n=e.updateQueue;n=null===n?e.updateQueue=ji(e.memoizedState):Yi(e,n);null===n.lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t);if(0===n.expirationTime||n.expirationTime>r)n.expirationTime=r}function Yi(e,t){var r=e.alternate;null!==r&&t===r.updateQueue&&(t=e.updateQueue=Bi(t));return t}function Qi(e,t,r,n,i,o){switch(r.tag){case 1:return e=r.payload,"function"===typeof e?e.call(o,n,i):e;case 3:e.effectTag=e.effectTag&-1025|64;case 0:e=r.payload;i="function"===typeof e?e.call(o,n,i):e;if(null===i||void 0===i)break;return a({},n,i);case 2:Fi=!0}return n}function $i(e,t,r,n,i){Fi=!1;if(!(0===t.expirationTime||t.expirationTime>i)){t=Yi(e,t);for(var o=t.baseState,a=null,s=0,u=t.firstUpdate,l=o;null!==u;){var c=u.expirationTime;if(c>i){if(null===a&&(a=u,o=l),0===s||s>c)s=c}else l=Qi(e,t,u,l,r,n),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u));u=u.next}c=null;for(u=t.firstCapturedUpdate;null!==u;){var d=u.expirationTime;if(d>i){if(null===c&&(c=u,null===a&&(o=l)),0===s||s>d)s=d}else l=Qi(e,t,u,l,r,n),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u));u=u.next}null===a&&(t.lastUpdate=null);null===c?t.lastCapturedUpdate=null:e.effectTag|=32;null===a&&null===c&&(o=l);t.baseState=o;t.firstUpdate=a;t.firstCapturedUpdate=c;t.expirationTime=s;e.memoizedState=l}}function Gi(e,t){"function"!==typeof e?f("191",e):void 0;e.call(t)}function Ki(e,t,r){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null);e=t.firstEffect;for(t.firstEffect=t.lastEffect=null;null!==e;){var n=e.callback;null!==n&&(e.callback=null,Gi(n,r));e=e.nextEffect}e=t.firstCapturedEffect;for(t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)t=e.callback,null!==t&&(e.callback=null,Gi(t,r)),e=e.nextEffect}function Xi(e,t){return{value:e,source:t,stack:Pt(t)}}var Zi=di(null),Ji=di(null),eo=di(0);function to(e){var t=e.type._context;pi(eo,t._changedBits,e);pi(Ji,t._currentValue,e);pi(Zi,e,e);t._currentValue=e.pendingProps.value;t._changedBits=e.stateNode}function ro(e){var t=eo.current,r=Ji.current;fi(Zi,e);fi(Ji,e);fi(eo,e);e=e.type._context;e._currentValue=r;e._changedBits=t}var no={},io=di(no),oo=di(no),ao=di(no);function so(e){e===no?f("174"):void 0;return e}function uo(e,t){pi(ao,t,e);pi(oo,e,e);pi(io,no,e);var r=t.nodeType;switch(r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Un(null,"");break;default:r=8===r?t.parentNode:t,t=r.namespaceURI||null,r=r.tagName,t=Un(t,r)}fi(io,e);pi(io,t,e)}function lo(e){fi(io,e);fi(oo,e);fi(ao,e)}function co(e){oo.current===e&&(fi(io,e),fi(oo,e))}function fo(e,t,r){var n=e.memoizedState;t=t(r,n);n=null===t||void 0===t?n:a({},n,t);e.memoizedState=n;e=e.updateQueue;null!==e&&0===e.expirationTime&&(e.baseState=n)}var po={isMounted:function(e){return(e=e._reactInternalFiber)?2===pr(e):!1},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=wa();n=Ta(n,e);var i=zi(n);i.payload=t;void 0!==r&&null!==r&&(i.callback=r);Hi(e,i,n);Pa(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=wa();n=Ta(n,e);var i=zi(n);i.tag=1;i.payload=t;void 0!==r&&null!==r&&(i.callback=r);Hi(e,i,n);Pa(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=wa();r=Ta(r,e);var n=zi(r);n.tag=2;void 0!==t&&null!==t&&(n.callback=t);Hi(e,n,r);Pa(e,r)}};function ho(e,t,r,n,i,o){var a=e.stateNode;e=e.type;return"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!l(t,r)||!l(n,i):!0}function mo(e,t,r,n){e=t.state;"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n);"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n);t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function vo(e,t){var r=e.type,n=e.stateNode,i=e.pendingProps,o=Ei(e);n.props=i;n.state=e.memoizedState;n.refs=d;n.context=yi(e,o);o=e.updateQueue;null!==o&&($i(e,o,i,n,t),n.state=e.memoizedState);o=e.type.getDerivedStateFromProps;"function"===typeof o&&(fo(e,o,i),n.state=e.memoizedState);"function"===typeof r.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(r=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),r!==n.state&&po.enqueueReplaceState(n,n.state,null),o=e.updateQueue,null!==o&&($i(e,o,i,n,t),n.state=e.memoizedState));"function"===typeof n.componentDidMount&&(e.effectTag|=4)}var Eo=Array.isArray;function yo(e,t,r){e=r.ref;if(null!==e&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){r=r._owner;var n=void 0;r&&(2!==r.tag?f("110"):void 0,n=r.stateNode);n?void 0:f("147",e);var i=""+e;if(null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i)return t.ref;t=function(e){var t=n.refs===d?n.refs={}:n.refs;null===e?delete t[i]:t[i]=e};t._stringRef=i;return t}"string"!==typeof e?f("148"):void 0;r._owner?void 0:f("254",e)}return e}function go(e,t){"textarea"!==e.type&&f("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function _o(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r;r.nextEffect=null;r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,r){e=Oi(e,t,r);e.index=0;e.sibling=null;return e}function o(t,r,n){t.index=n;if(!e)return r;n=t.alternate;if(null!==n)return n=n.index,n<r?(t.effectTag=2,r):n;t.effectTag=2;return r}function a(t){e&&null===t.alternate&&(t.effectTag=2);return t}function s(e,t,r,n){if(null===t||6!==t.tag)return t=Ci(r,e.mode,n),t.return=e,t;t=i(t,r,n);t.return=e;return t}function u(e,t,r,n){if(null!==t&&t.type===r.type)return n=i(t,r.props,n),n.ref=yo(e,t,r),n.return=e,n;n=Si(r,e.mode,n);n.ref=yo(e,t,r);n.return=e;return n}function l(e,t,r,n){if(null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation)return t=Ni(r,e.mode,n),t.return=e,t;t=i(t,r.children||[],n);t.return=e;return t}function c(e,t,r,n,o){if(null===t||10!==t.tag)return t=Ii(r,e.mode,n,o),t.return=e,t;t=i(t,r,n);t.return=e;return t}function d(e,t,r){if("string"===typeof t||"number"===typeof t)return t=Ci(""+t,e.mode,r),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ft:return r=Si(t,e.mode,r),r.ref=yo(e,null,t),r.return=e,r;case pt:return t=Ni(t,e.mode,r),t.return=e,t}if(Eo(t)||bt(t))return t=Ii(t,e.mode,r,null),t.return=e,t;go(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:s(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ft:return r.key===i?r.type===ht?c(e,t,r.props.children,n,i):u(e,t,r,n):null;case pt:return r.key===i?l(e,t,r,n):null}if(Eo(r)||bt(r))return null!==i?null:c(e,t,r,n,null);go(e,r)}return null}function h(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return e=e.get(r)||null,s(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ft:return e=e.get(null===n.key?r:n.key)||null,n.type===ht?c(t,e,n.props.children,i,n.key):u(t,e,n,i);case pt:return e=e.get(null===n.key?r:n.key)||null,l(t,e,n,i)}if(Eo(n)||bt(n))return e=e.get(r)||null,c(t,e,n,i,null);go(t,n)}return null}function m(i,a,s,u){for(var l=null,c=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var E=p(i,f,s[m],u);if(null===E){null===f&&(f=v);break}e&&f&&null===E.alternate&&t(i,f);a=o(E,a,m);null===c?l=E:c.sibling=E;c=E;f=v}if(m===s.length)return r(i,f),l;if(null===f){for(;m<s.length;m++)if(f=d(i,s[m],u))a=o(f,a,m),null===c?l=f:c.sibling=f,c=f;return l}for(f=n(i,f);m<s.length;m++)if(v=h(f,i,m,s[m],u))e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v;e&&f.forEach(function(e){return t(i,e)});return l}function v(i,a,s,u){var l=bt(s);"function"!==typeof l?f("150"):void 0;s=l.call(s);null==s?f("151"):void 0;for(var c=l=null,m=a,v=a=0,E=null,y=s.next();null!==m&&!y.done;v++,y=s.next()){m.index>v?(E=m,m=null):E=m.sibling;var g=p(i,m,y.value,u);if(null===g){m||(m=E);break}e&&m&&null===g.alternate&&t(i,m);a=o(g,a,v);null===c?l=g:c.sibling=g;c=g;m=E}if(y.done)return r(i,m),l;if(null===m){for(;!y.done;v++,y=s.next())y=d(i,y.value,u),null!==y&&(a=o(y,a,v),null===c?l=y:c.sibling=y,c=y);return l}for(m=n(i,m);!y.done;v++,y=s.next())y=h(m,i,v,y.value,u),null!==y&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y);e&&m.forEach(function(e){return t(i,e)});return l}return function(e,n,o,s){"object"===typeof o&&null!==o&&o.type===ht&&null===o.key&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case ft:e:{var l=o.key;for(u=n;null!==u;){if(u.key===l)if(10===u.tag?o.type===ht:u.type===o.type){r(e,u.sibling);n=i(u,o.type===ht?o.props.children:o.props,s);n.ref=yo(e,u,o);n.return=e;e=n;break e}else{r(e,u);break}else t(e,u);u=u.sibling}o.type===ht?(n=Ii(o.props.children,e.mode,s,o.key),n.return=e,e=n):(s=Si(o,e.mode,s),s.ref=yo(e,n,o),s.return=e,e=s)}return a(e);case pt:e:{for(u=o.key;null!==n;){if(n.key===u)if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling);n=i(n,o.children||[],s);n.return=e;e=n;break e}else{r(e,n);break}else t(e,n);n=n.sibling}n=Ni(o,e.mode,s);n.return=e;e=n}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),n=i(n,o,s),n.return=e,e=n):(r(e,n),n=Ci(o,e.mode,s),n.return=e,e=n),a(e);if(Eo(o))return m(e,n,o,s);if(bt(o))return v(e,n,o,s);u&&go(e,o);if("undefined"===typeof o)switch(e.tag){case 2:case 1:s=e.type,f("152",s.displayName||s.name||"Component")}return r(e,n)}}var Ao=_o(!0),Ro=_o(!1),bo=null,To=null,Po=!1;function wo(e,t){var r=new wi(5,null,null,0);r.type="DELETED";r.stateNode=t;r.return=e;r.effectTag=8;null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Oo(e,t){switch(e.tag){case 5:var r=e.type;t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t;return null!==t?(e.stateNode=t,!0):!1;case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t?(e.stateNode=t,!0):!1;default:return!1}}function So(e){if(Po){var t=To;if(t){var r=t;if(!Oo(e,t)){t=si(r);if(!t||!Oo(e,t)){e.effectTag|=2;Po=!1;bo=e;return}wo(bo,r)}bo=e;To=ui(t)}else e.effectTag|=2,Po=!1,bo=e}}function Io(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;bo=e}function Co(e){if(e!==bo)return!1;if(!Po)return Io(e),Po=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!ni(t,e.memoizedProps))for(t=To;t;)wo(e,t),t=si(t);Io(e);To=bo?si(e.stateNode):null;return!0}function No(){To=bo=null;Po=!1}function Do(e,t,r){ko(e,t,r,t.expirationTime)}function ko(e,t,r,n){t.child=null===e?Ro(t,null,r,n):Ao(t,e.child,r,n)}function Uo(e,t){var r=t.ref;if(null===e&&null!==r||null!==e&&e.ref!==r)t.effectTag|=128}function xo(e,t,r,n,i){Uo(e,t);var o=0!==(t.effectTag&64);if(!r&&!o)return n&&Pi(t,!1),Fo(e,t);r=t.stateNode;ct.current=t;var a=o?null:r.render();t.effectTag|=1;o&&(ko(e,t,null,i),t.child=null);ko(e,t,a,i);t.memoizedState=r.state;t.memoizedProps=r.props;n&&Pi(t,!0);return t.child}function Lo(e){var t=e.stateNode;t.pendingContext?Ri(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(e,t.context,!1);uo(e,t.containerInfo)}function Mo(e,t,r,n){var i=e.child;null!==i&&(i.return=e);for(;null!==i;){switch(i.tag){case 12:var o=i.stateNode|0;if(i.type===t&&0!==(o&r)){for(o=i;null!==o;){var a=o.alternate;if(0===o.expirationTime||o.expirationTime>n)o.expirationTime=n,null!==a&&(0===a.expirationTime||a.expirationTime>n)&&(a.expirationTime=n);else if(null!==a&&(0===a.expirationTime||a.expirationTime>n))a.expirationTime=n;else break;o=o.return}o=null}else o=i.child;break;case 13:o=i.type===e.type?null:i.child;break;default:o=i.child}if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}i=o.sibling;if(null!==i){i.return=o.return;o=i;break}o=o.return}i=o}}function Vo(e,t,r){var n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=!0;if(mi.current)a=!1;else if(o===i)return t.stateNode=0,to(t),Fo(e,t);var s=i.value;t.memoizedProps=i;if(null===o)s=1073741823;else if(o.value===i.value){if(o.children===i.children&&a)return t.stateNode=0,to(t),Fo(e,t);s=0}else{var u=o.value;if(u===s&&(0!==u||1/u===1/s)||u!==u&&s!==s){if(o.children===i.children&&a)return t.stateNode=0,to(t),Fo(e,t);s=0}else if(s="function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,s):1073741823,s|=0,0===s){if(o.children===i.children&&a)return t.stateNode=0,to(t),Fo(e,t)}else Mo(t,n,s,r)}t.stateNode=s;to(t);Do(e,t,i.children);return t.child}function Fo(e,t){null!==e&&t.child!==e.child?f("153"):void 0;if(null!==t.child){e=t.child;var r=Oi(e,e.pendingProps,e.expirationTime);t.child=r;for(r.return=t;null!==e.sibling;)e=e.sibling,r=r.sibling=Oi(e,e.pendingProps,e.expirationTime),r.return=t;r.sibling=null}return t.child}function jo(e,t,r){if(0===t.expirationTime||t.expirationTime>r){switch(t.tag){case 3:Lo(t);break;case 2:Ti(t);break;case 4:uo(t,t.stateNode.containerInfo);break;case 13:to(t)}return null}switch(t.tag){case 0:null!==e?f("155"):void 0;var n=t.type,i=t.pendingProps,o=Ei(t);o=yi(t,o);n=n(i,o);t.effectTag|=1;"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(o=t.type,t.tag=2,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,o=o.getDerivedStateFromProps,"function"===typeof o&&fo(t,o,i),i=Ti(t),n.updater=po,t.stateNode=n,n._reactInternalFiber=t,vo(t,r),e=xo(e,t,!0,i,r)):(t.tag=1,Do(e,t,n),t.memoizedProps=i,e=t.child);return e;case 1:return i=t.type,r=t.pendingProps,mi.current||t.memoizedProps!==r?(n=Ei(t),n=yi(t,n),i=i(r,n),t.effectTag|=1,Do(e,t,i),t.memoizedProps=r,e=t.child):e=Fo(e,t),e;case 2:i=Ti(t);if(null===e)if(null===t.stateNode){var a=t.pendingProps,s=t.type;n=Ei(t);var u=2===t.tag&&null!=t.type.contextTypes;o=u?yi(t,n):d;a=new s(a,o);t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;a.updater=po;t.stateNode=a;a._reactInternalFiber=t;u&&(u=t.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=n,u.__reactInternalMemoizedMaskedChildContext=o);vo(t,r);n=!0}else{s=t.type;n=t.stateNode;u=t.memoizedProps;o=t.pendingProps;n.props=u;var l=n.context;a=Ei(t);a=yi(t,a);var c=s.getDerivedStateFromProps;(s="function"===typeof c||"function"===typeof n.getSnapshotBeforeUpdate)||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(u!==o||l!==a)&&mo(t,n,o,a);Fi=!1;var p=t.memoizedState;l=n.state=p;var h=t.updateQueue;null!==h&&($i(t,h,o,n,r),l=t.memoizedState);u!==o||p!==l||mi.current||Fi?("function"===typeof c&&(fo(t,c,o),l=t.memoizedState),(u=Fi||ho(t,u,o,p,l,a))?(s||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||("function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount()),"function"===typeof n.componentDidMount&&(t.effectTag|=4)):("function"===typeof n.componentDidMount&&(t.effectTag|=4),t.memoizedProps=o,t.memoizedState=l),n.props=o,n.state=l,n.context=a,n=u):("function"===typeof n.componentDidMount&&(t.effectTag|=4),n=!1)}else s=t.type,n=t.stateNode,o=t.memoizedProps,u=t.pendingProps,n.props=o,l=n.context,a=Ei(t),a=yi(t,a),c=s.getDerivedStateFromProps,(s="function"===typeof c||"function"===typeof n.getSnapshotBeforeUpdate)||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(o!==u||l!==a)&&mo(t,n,u,a),Fi=!1,l=t.memoizedState,p=n.state=l,h=t.updateQueue,null!==h&&($i(t,h,u,n,r),p=t.memoizedState),o!==u||l!==p||mi.current||Fi?("function"===typeof c&&(fo(t,c,u),p=t.memoizedState),(c=Fi||ho(t,o,u,l,p,a))?(s||"function"!==typeof n.UNSAFE_componentWillUpdate&&"function"!==typeof n.componentWillUpdate||("function"===typeof n.componentWillUpdate&&n.componentWillUpdate(u,p,a),"function"===typeof n.UNSAFE_componentWillUpdate&&n.UNSAFE_componentWillUpdate(u,p,a)),"function"===typeof n.componentDidUpdate&&(t.effectTag|=4),"function"===typeof n.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof n.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof n.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=u,t.memoizedState=p),n.props=u,n.state=p,n.context=a,n=c):("function"!==typeof n.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof n.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return xo(e,t,n,i,r);case 3:Lo(t);i=t.updateQueue;if(null!==i)if(n=t.memoizedState,n=null!==n?n.element:null,$i(t,i,t.pendingProps,null,r),i=t.memoizedState.element,i===n)No(),e=Fo(e,t);else{n=t.stateNode;if(n=(null===e||null===e.child)&&n.hydrate)To=ui(t.stateNode.containerInfo),bo=t,n=Po=!0;n?(t.effectTag|=2,t.child=Ro(t,null,i,r)):(No(),Do(e,t,i));e=t.child}else No(),e=Fo(e,t);return e;case 5:e:{so(ao.current);i=so(io.current);n=Un(i,t.type);i!==n&&(pi(oo,t,t),pi(io,n,t));null===e&&So(t);i=t.type;u=t.memoizedProps;n=t.pendingProps;o=null!==e?e.memoizedProps:null;if(!mi.current&&u===n){if(u=t.mode&1&&!!n.hidden)t.expirationTime=1073741823;if(!u||1073741823!==r){e=Fo(e,t);break e}}u=n.children;ni(i,n)?u=null:o&&ni(i,o)&&(t.effectTag|=16);Uo(e,t);1073741823!==r&&t.mode&1&&n.hidden?(t.expirationTime=1073741823,t.memoizedProps=n,e=null):(Do(e,t,u),t.memoizedProps=n,e=t.child)}return e;case 6:return null===e&&So(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return uo(t,t.stateNode.containerInfo),i=t.pendingProps,mi.current||t.memoizedProps!==i?(null===e?t.child=Ao(t,null,i,r):Do(e,t,i),t.memoizedProps=i,e=t.child):e=Fo(e,t),e;case 14:return i=t.type.render,r=t.pendingProps,n=t.ref,mi.current||t.memoizedProps!==r||n!==(null!==e?e.ref:null)?(i=i(r,n),Do(e,t,i),t.memoizedProps=r,e=t.child):e=Fo(e,t),e;case 10:return r=t.pendingProps,mi.current||t.memoizedProps!==r?(Do(e,t,r),t.memoizedProps=r,e=t.child):e=Fo(e,t),e;case 11:return r=t.pendingProps.children,mi.current||null!==r&&t.memoizedProps!==r?(Do(e,t,r),t.memoizedProps=r,e=t.child):e=Fo(e,t),e;case 15:return r=t.pendingProps,t.memoizedProps===r?e=Fo(e,t):(Do(e,t,r.children),t.memoizedProps=r,e=t.child),e;case 13:return Vo(e,t,r);case 12:e:if(n=t.type,o=t.pendingProps,u=t.memoizedProps,i=n._currentValue,a=n._changedBits,mi.current||0!==a||u!==o){t.memoizedProps=o;s=o.unstable_observedBits;if(void 0===s||null===s)s=1073741823;t.stateNode=s;if(0!==(a&s))Mo(t,n,a,r);else if(u===o){e=Fo(e,t);break e}r=o.children;r=r(i);t.effectTag|=1;Do(e,t,r);e=t.child}else e=Fo(e,t);return e;default:f("156")}}function Bo(e){e.effectTag|=4}var zo=void 0,Wo=void 0,Ho=void 0;zo=function(){};Wo=function(e,t,r){(t.updateQueue=r)&&Bo(t)};Ho=function(e,t,r,n){r!==n&&Bo(t)};function qo(e,t){var r=t.pendingProps;switch(t.tag){case 1:return null;case 2:return _i(t),null;case 3:lo(t);Ai(t);var n=t.stateNode;n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null);if(null===e||null===e.child)Co(t),t.effectTag&=-3;zo(t);return null;case 5:co(t);n=so(ao.current);var i=t.type;if(null!==e&&null!=t.stateNode){var o=e.memoizedProps,a=t.stateNode,s=so(io.current);a=Gn(a,i,o,r,n);Wo(e,t,a,i,o,r,n,s);e.ref!==t.ref&&(t.effectTag|=128)}else{if(!r)return null===t.stateNode?f("166"):void 0,null;e=so(io.current);if(Co(t))r=t.stateNode,i=t.type,o=t.memoizedProps,r[W]=t,r[H]=o,n=Xn(r,i,o,e,n),t.updateQueue=n,null!==n&&Bo(t);else{e=Yn(i,r,n,e);e[W]=t;e[H]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o;o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return;o=o.sibling}$n(e,i,r,n);ri(i,r)&&Bo(t);t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ho(e,t,e.memoizedProps,r);else{if("string"!==typeof r)return null===t.stateNode?f("166"):void 0,null;n=so(ao.current);so(io.current);Co(t)?(n=t.stateNode,r=t.memoizedProps,n[W]=t,Zn(n,r)&&Bo(t)):(n=Qn(r,n),n[W]=t,t.stateNode=n)}return null;case 14:return null;case 16:return null;case 10:return null;case 11:return null;case 15:return null;case 4:return lo(t),zo(t),null;case 13:return ro(t),null;case 12:return null;case 0:f("167");default:f("156")}}function Yo(e,t){var r=t.source;null===t.stack&&null!==r&&Pt(r);null!==r&&Tt(r);t=t.value;null!==e&&2===e.tag&&Tt(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function Qo(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){Ra(e,t)}else t.current=null}function $o(e){"function"===typeof Vi&&Vi(e);switch(e.tag){case 2:Qo(e);var t=e.stateNode;if("function"===typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ra(e,t)}break;case 5:Qo(e);break;case 4:Xo(e)}}function Go(e){return 5===e.tag||3===e.tag||4===e.tag}function Ko(e){e:{for(var t=e.return;null!==t;){if(Go(t)){var r=t;break e}t=t.return}f("160");r=void 0}var n=t=void 0;switch(r.tag){case 5:t=r.stateNode;n=!1;break;case 3:t=r.stateNode.containerInfo;n=!0;break;case 4:t=r.stateNode.containerInfo;n=!0;break;default:f("161")}r.effectTag&16&&(Mn(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||Go(r.return)){r=null;break e}r=r.return}r.sibling.return=r.return;for(r=r.sibling;5!==r.tag&&6!==r.tag;){if(r.effectTag&2)continue t;if(null===r.child||4===r.tag)continue t;else r.child.return=r,r=r.child}if(!(r.effectTag&2)){r=r.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(r)if(n){var o=t,a=i.stateNode,s=r;8===o.nodeType?o.parentNode.insertBefore(a,s):o.insertBefore(a,s)}else t.insertBefore(i.stateNode,r);else n?(o=t,a=i.stateNode,8===o.nodeType?o.parentNode.insertBefore(a,o):o.appendChild(a)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i;i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return;i=i.sibling}}function Xo(e){for(var t=e,r=!1,n=void 0,i=void 0;;){if(!r){r=t.return;e:for(;;){null===r?f("160"):void 0;switch(r.tag){case 5:n=r.stateNode;i=!1;break e;case 3:n=r.stateNode.containerInfo;i=!0;break e;case 4:n=r.stateNode.containerInfo;i=!0;break e}r=r.return}r=!0}if(5===t.tag||6===t.tag){e:for(var o=t,a=o;;)if($o(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break e;a=a.return}a.sibling.return=a.return;a=a.sibling}i?(o=n,a=t.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):n.removeChild(t.stateNode)}else if(4===t.tag?n=t.stateNode.containerInfo:$o(t),null!==t.child){t.child.return=t;t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return;4===t.tag&&(r=!1)}t.sibling.return=t.return;t=t.sibling}}function Zo(e,t){switch(t.tag){case 2:break;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var i=t.type,o=t.updateQueue;t.updateQueue=null;null!==o&&(r[H]=n,Kn(r,o,i,e,n))}break;case 6:null===t.stateNode?f("162"):void 0;t.stateNode.nodeValue=t.memoizedProps;break;case 3:break;case 15:break;case 16:break;default:f("163")}}function Jo(e,t,r){r=zi(r);r.tag=3;r.payload={element:null};var n=t.value;r.callback=function(){os(n);Yo(e,t)};return r}function ea(e,t,r){r=zi(r);r.tag=3;var n=e.stateNode;null!==n&&"function"===typeof n.componentDidCatch&&(r.callback=function(){null===Ea?Ea=new Set([this]):Ea.add(this);var r=t.value,n=t.stack;Yo(e,t);this.componentDidCatch(r,{componentStack:null!==n?n:""})});return r}function ta(e,t,r,n,i,o){r.effectTag|=512;r.firstEffect=r.lastEffect=null;n=Xi(n,r);e=t;do{switch(e.tag){case 3:e.effectTag|=1024;n=Jo(e,n,o);qi(e,n,o);return;case 2:if(t=n,r=e.stateNode,0===(e.effectTag&64)&&null!==r&&"function"===typeof r.componentDidCatch&&(null===Ea||!Ea.has(r))){e.effectTag|=1024;n=ea(e,t,o);qi(e,n,o);return}}e=e.return}while(null!==e)}function ra(e){switch(e.tag){case 2:_i(e);var t=e.effectTag;return t&1024?(e.effectTag=t&-1025|64,e):null;case 3:return lo(e),Ai(e),t=e.effectTag,t&1024?(e.effectTag=t&-1025|64,e):null;case 5:return co(e),null;case 16:return t=e.effectTag,t&1024?(e.effectTag=t&-1025|64,e):null;case 4:return lo(e),null;case 13:return ro(e),null;default:return null}}var na=ii(),ia=2,oa=na,aa=0,sa=0,ua=!1,la=null,ca=null,da=0,fa=-1,pa=!1,ha=null,ma=!1,va=!1,Ea=null;function ya(){if(null!==la)for(var e=la.return;null!==e;){var t=e;switch(t.tag){case 2:_i(t);break;case 3:lo(t);Ai(t);break;case 5:co(t);break;case 4:lo(t);break;case 13:ro(t)}e=e.return}ca=null;da=0;fa=-1;pa=!1;la=null;va=!1}function ga(e){for(;;){var t=e.alternate,r=e.return,n=e.sibling;if(0===(e.effectTag&512)){t=qo(t,e,da);var i=e;if(1073741823===da||1073741823!==i.expirationTime){var o=0;switch(i.tag){case 3:case 2:var a=i.updateQueue;null!==a&&(o=a.expirationTime)}for(a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==t)return t;null!==r&&0===(r.effectTag&512)&&(null===r.firstEffect&&(r.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect),1<e.effectTag&&(null!==r.lastEffect?r.lastEffect.nextEffect=e:r.firstEffect=e,r.lastEffect=e));if(null!==n)return n;if(null!==r)e=r;else{va=!0;break}}else{e=ra(e,pa,da);if(null!==e)return e.effectTag&=511,e;null!==r&&(r.firstEffect=r.lastEffect=null,r.effectTag|=512);if(null!==n)return n;if(null!==r)e=r;else break}}return null}function _a(e){var t=jo(e.alternate,e,da);null===t&&(t=ga(e));ct.current=null;return t}function Aa(e,t,r){ua?f("243"):void 0;ua=!0;if(t!==da||e!==ca||null===la)ya(),ca=e,da=t,fa=-1,la=Oi(ca.current,null,da),e.pendingCommitExpirationTime=0;var n=!1;pa=!r||da<=ia;do{try{if(r)for(;null!==la&&!is();)la=_a(la);else for(;null!==la;)la=_a(la)}catch(t){if(null===la)n=!0,os(t);else{null===la?f("271"):void 0;r=la;var i=r.return;if(null===i){n=!0;os(t);break}ta(e,i,r,t,pa,da,oa);la=ga(r)}}break}while(1);ua=!1;if(n)return null;if(null===la){if(va)return e.pendingCommitExpirationTime=t,e.current.alternate;pa?f("262"):void 0;0<=fa&&setTimeout(function(){var t=e.current.expirationTime;0!==t&&(0===e.remainingExpirationTime||e.remainingExpirationTime<t)&&Ga(e,t)},fa);as(e.current.expirationTime)}return null}function Ra(e,t){var r;e:{ua&&!ma?f("263"):void 0;for(r=e.return;null!==r;){switch(r.tag){case 2:var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromCatch||"function"===typeof n.componentDidCatch&&(null===Ea||!Ea.has(n))){e=Xi(t,e);e=ea(r,e,1);Hi(r,e,1);Pa(r,1);r=void 0;break e}break;case 3:e=Xi(t,e);e=Jo(r,e,1);Hi(r,e,1);Pa(r,1);r=void 0;break e}r=r.return}3===e.tag&&(r=Xi(t,e),r=Jo(e,r,1),Hi(e,r,1),Pa(e,1));r=void 0}return r}function ba(){var e=2+25*(((wa()-2+500)/25|0)+1);e<=aa&&(e=aa+1);return aa=e}function Ta(e,t){e=0!==sa?sa:ua?ma?1:da:t.mode&1?Wa?2+10*(((e-2+15)/10|0)+1):2+25*(((e-2+500)/25|0)+1):1;Wa&&(0===La||e>La)&&(La=e);return e}function Pa(e,t){for(;null!==e;){if(0===e.expirationTime||e.expirationTime>t)e.expirationTime=t;null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t);if(null===e.return)if(3===e.tag){var r=e.stateNode;!ua&&0!==da&&t<da&&ya();var n=r.current.expirationTime;ua&&!ma&&ca===r||Ga(r,n);Ya>qa&&f("185")}else break;e=e.return}}function wa(){oa=ii()-na;return ia=(oa/10|0)+2}function Oa(e){var t=sa;sa=2+25*(((wa()-2+500)/25|0)+1);try{return e()}finally{sa=t}}function Sa(e,t,r,n,i){var o=sa;sa=1;try{return e(t,r,n,i)}finally{sa=o}}var Ia=null,Ca=null,Na=0,Da=-1,ka=!1,Ua=null,xa=0,La=0,Ma=!1,Va=!1,Fa=null,ja=null,Ba=!1,za=!1,Wa=!1,Ha=null,qa=1e3,Ya=0,Qa=1;function $a(e){if(0!==Na){if(e>Na)return;ai(Da)}var t=ii()-na;Na=e;Da=oi(Xa,{timeout:10*(e-2)-t})}function Ga(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===Ca?(Ia=Ca=e,e.nextScheduledRoot=e):(Ca=Ca.nextScheduledRoot=e,Ca.nextScheduledRoot=Ia);else{var r=e.remainingExpirationTime;if(0===r||t<r)e.remainingExpirationTime=t}ka||(Ba?za&&(Ua=e,xa=1,rs(e,1,!1)):1===t?Za():$a(t))}function Ka(){var e=0,t=null;if(null!==Ca)for(var r=Ca,n=Ia;null!==n;){var i=n.remainingExpirationTime;if(0===i){null===r||null===Ca?f("244"):void 0;if(n===n.nextScheduledRoot){Ia=Ca=n.nextScheduledRoot=null;break}else if(n===Ia)Ia=i=n.nextScheduledRoot,Ca.nextScheduledRoot=i,n.nextScheduledRoot=null;else if(n===Ca){Ca=r;Ca.nextScheduledRoot=Ia;n.nextScheduledRoot=null;break}else r.nextScheduledRoot=n.nextScheduledRoot,n.nextScheduledRoot=null;n=r.nextScheduledRoot}else{if(0===e||i<e)e=i,t=n;if(n===Ca)break;r=n;n=n.nextScheduledRoot}}r=Ua;null!==r&&r===t&&1===e?Ya++:Ya=0;Ua=t;xa=e}function Xa(e){Ja(0,!0,e)}function Za(){Ja(1,!1,null)}function Ja(e,t,r){ja=r;Ka();if(t)for(;null!==Ua&&0!==xa&&(0===e||e>=xa)&&(!Ma||wa()>=xa);)wa(),rs(Ua,xa,!Ma),Ka();else for(;null!==Ua&&0!==xa&&(0===e||e>=xa);)rs(Ua,xa,!1),Ka();null!==ja&&(Na=0,Da=-1);0!==xa&&$a(xa);ja=null;Ma=!1;ts()}function es(e,t){ka?f("253"):void 0;Ua=e;xa=t;rs(e,t,!1);Za();ts()}function ts(){Ya=0;if(null!==Ha){var e=Ha;Ha=null;for(var t=0;t<e.length;t++){var r=e[t];try{r._onComplete()}catch(e){Va||(Va=!0,Fa=e)}}}if(Va)throw e=Fa,Fa=null,Va=!1,e}function rs(e,t,r){ka?f("245"):void 0;ka=!0;r?(r=e.finishedWork,null!==r?ns(e,r,t):(e.finishedWork=null,r=Aa(e,t,!0),null!==r&&(is()?e.finishedWork=r:ns(e,r,t)))):(r=e.finishedWork,null!==r?ns(e,r,t):(e.finishedWork=null,r=Aa(e,t,!1),null!==r&&ns(e,r,t)));ka=!1}function ns(e,t,r){var n=e.firstBatch;if(null!==n&&n._expirationTime<=r&&(null===Ha?Ha=[n]:Ha.push(n),n._defer)){e.finishedWork=t;e.remainingExpirationTime=0;return}e.finishedWork=null;ma=ua=!0;r=t.stateNode;r.current===t?f("177"):void 0;n=r.pendingCommitExpirationTime;0===n?f("261"):void 0;r.pendingCommitExpirationTime=0;wa();ct.current=null;if(1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var i=t.firstEffect}else i=t;else i=t.firstEffect;ei=Mr;var o=u();if(Kr(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{var s=window.getSelection&&window.getSelection();if(s&&0!==s.rangeCount){a=s.anchorNode;var l=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{a.nodeType,d.nodeType}catch(e){a=null;break e}var p=0,h=-1,m=-1,v=0,E=0,y=o,g=null;t:for(;;){for(var _;;){y!==a||0!==l&&3!==y.nodeType||(h=p+l);y!==d||0!==s&&3!==y.nodeType||(m=p+s);3===y.nodeType&&(p+=y.nodeValue.length);if(null===(_=y.firstChild))break;g=y;y=_}for(;;){if(y===o)break t;g===a&&++v===l&&(h=p);g===d&&++E===s&&(m=p);if(null!==(_=y.nextSibling))break;y=g;g=y.parentNode}y=_}a=-1===h||-1===m?null:{start:h,end:m}}else a=null}a=a||{start:0,end:0}}else a=null;ti={focusedElem:o,selectionRange:a};Vr(!1);for(ha=i;null!==ha;){o=!1;a=void 0;try{for(;null!==ha;){if(ha.effectTag&256){var A=ha.alternate;l=ha;switch(l.tag){case 2:if(l.effectTag&256&&null!==A){var R=A.memoizedProps,b=A.memoizedState,T=l.stateNode;T.props=l.memoizedProps;T.state=l.memoizedState;var P=T.getSnapshotBeforeUpdate(R,b);T.__reactInternalSnapshotBeforeUpdate=P}break;case 3:case 5:case 6:case 4:break;default:f("163")}}ha=ha.nextEffect}}catch(e){o=!0,a=e}o&&(null===ha?f("178"):void 0,Ra(ha,a),null!==ha&&(ha=ha.nextEffect))}for(ha=i;null!==ha;){A=!1;R=void 0;try{for(;null!==ha;){var w=ha.effectTag;w&16&&Mn(ha.stateNode,"");if(w&128){var O=ha.alternate;if(null!==O){var S=O.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(w&14){case 2:Ko(ha);ha.effectTag&=-3;break;case 6:Ko(ha);ha.effectTag&=-3;Zo(ha.alternate,ha);break;case 4:Zo(ha.alternate,ha);break;case 8:b=ha,Xo(b),b.return=null,b.child=null,b.alternate&&(b.alternate.child=null,b.alternate.return=null)}ha=ha.nextEffect}}catch(e){A=!0,R=e}A&&(null===ha?f("178"):void 0,Ra(ha,R),null!==ha&&(ha=ha.nextEffect))}S=ti;O=u();w=S.focusedElem;A=S.selectionRange;if(O!==w&&c(document.documentElement,w)){Kr(w)&&(O=A.start,S=A.end,void 0===S&&(S=O),"selectionStart"in w?(w.selectionStart=O,w.selectionEnd=Math.min(S,w.value.length)):window.getSelection&&(O=window.getSelection(),R=w[ve()].length,S=Math.min(A.start,R),A=void 0===A.end?S:Math.min(A.end,R),!O.extend&&S>A&&(R=A,A=S,S=R),R=Gr(w,S),b=Gr(w,A),R&&b&&(1!==O.rangeCount||O.anchorNode!==R.node||O.anchorOffset!==R.offset||O.focusNode!==b.node||O.focusOffset!==b.offset)&&(T=document.createRange(),T.setStart(R.node,R.offset),O.removeAllRanges(),S>A?(O.addRange(T),O.extend(b.node,b.offset)):(T.setEnd(b.node,b.offset),O.addRange(T)))));O=[];for(S=w;S=S.parentNode;)1===S.nodeType&&O.push({element:S,left:S.scrollLeft,top:S.scrollTop});w.focus();for(w=0;w<O.length;w++)S=O[w],S.element.scrollLeft=S.left,S.element.scrollTop=S.top}ti=null;Vr(ei);ei=null;r.current=t;for(ha=i;null!==ha;){i=!1;w=void 0;try{for(O=n;null!==ha;){var I=ha.effectTag;if(I&36){var C=ha.alternate;S=ha;A=O;switch(S.tag){case 2:var N=S.stateNode;if(S.effectTag&4)if(null===C)N.props=S.memoizedProps,N.state=S.memoizedState,N.componentDidMount();else{var D=C.memoizedProps,k=C.memoizedState;N.props=S.memoizedProps;N.state=S.memoizedState;N.componentDidUpdate(D,k,N.__reactInternalSnapshotBeforeUpdate)}var U=S.updateQueue;null!==U&&(N.props=S.memoizedProps,N.state=S.memoizedState,Ki(S,U,N,A));break;case 3:var x=S.updateQueue;if(null!==x){R=null;if(null!==S.child)switch(S.child.tag){case 5:R=S.child.stateNode;break;case 2:R=S.child.stateNode}Ki(S,x,R,A)}break;case 5:var L=S.stateNode;null===C&&S.effectTag&4&&ri(S.type,S.memoizedProps)&&L.focus();break;case 6:break;case 4:break;case 15:break;case 16:break;default:f("163")}}if(I&128){S=void 0;var M=ha.ref;if(null!==M){var V=ha.stateNode;switch(ha.tag){case 5:S=V;break;default:S=V}"function"===typeof M?M(S):M.current=S}}var F=ha.nextEffect;ha.nextEffect=null;ha=F}}catch(e){i=!0,w=e}i&&(null===ha?f("178"):void 0,Ra(ha,w),null!==ha&&(ha=ha.nextEffect))}ua=ma=!1;"function"===typeof Mi&&Mi(t.stateNode);t=r.current.expirationTime;0===t&&(Ea=null);e.remainingExpirationTime=t}function is(){return null===ja||ja.timeRemaining()>Qa?!1:Ma=!0}function os(e){null===Ua?f("246"):void 0;Ua.remainingExpirationTime=0;Va||(Va=!0,Fa=e)}function as(e){null===Ua?f("246"):void 0;Ua.remainingExpirationTime=e}function ss(e,t){var r=Ba;Ba=!0;try{return e(t)}finally{(Ba=r)||ka||Za()}}function us(e,t){if(Ba&&!za){za=!0;try{return e(t)}finally{za=!1}}return e(t)}function ls(e,t){ka?f("187"):void 0;var r=Ba;Ba=!0;try{return Sa(e,t)}finally{Ba=r,Za()}}function cs(e){var t=Ba;Ba=!0;try{Sa(e)}finally{(Ba=t)||ka||Ja(1,!1,null)}}function ds(e,t,r,n,i){var o=t.current;if(r){r=r._reactInternalFiber;var a;e:{2===pr(r)&&2===r.tag?void 0:f("170");for(a=r;3!==a.tag;){if(gi(a)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}(a=a.return)?void 0:f("171")}a=a.stateNode.context}r=gi(r)?bi(r,a):a}else r=d;null===t.context?t.context=r:t.pendingContext=r;t=i;i=zi(n);i.payload={element:e};t=void 0===t?null:t;null!==t&&(i.callback=t);Hi(o,i,n);Pa(o,n);return n}function fs(e){var t=e._reactInternalFiber;void 0===t&&("function"===typeof e.render?f("188"):f("268",Object.keys(e)));e=vr(t);return null===e?null:e.stateNode}function ps(e,t,r,n){var i=t.current,o=wa();i=Ta(o,i);return ds(e,t,r,i,n)}function hs(e){e=e.current;if(!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ms(e){var t=e.findFiberByHostInstance;return Li(a({},e,{findHostInstanceByFiber:function(e){e=vr(e);return null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}var vs={updateContainerAtExpirationTime:ds,createContainer:function(e,t,r){return Di(e,t,r)},updateContainer:ps,flushRoot:es,requestWork:Ga,computeUniqueAsyncExpiration:ba,batchedUpdates:ss,unbatchedUpdates:us,deferredUpdates:Oa,syncUpdates:Sa,interactiveUpdates:function(e,t,r){if(Wa)return e(t,r);Ba||ka||0===La||(Ja(La,!1,null),La=0);var n=Wa,i=Ba;Ba=Wa=!0;try{return e(t,r)}finally{Wa=n,(Ba=i)||ka||Za()}},flushInteractiveUpdates:function(){ka||0===La||(Ja(La,!1,null),La=0)},flushControlled:cs,flushSync:ls,getPublicRootInstance:hs,findHostInstance:fs,findHostInstanceWithNoPortals:function(e){e=Er(e);return null===e?null:e.stateNode},injectIntoDevTools:ms};function Es(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:pt,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}We.injectFiberControlledHostComponent(Jn);function ys(e){this._expirationTime=ba();this._root=e;this._callbacks=this._next=null;this._hasChildren=this._didComplete=!1;this._children=null;this._defer=!0}ys.prototype.render=function(e){this._defer?void 0:f("250");this._hasChildren=!0;this._children=e;var t=this._root._internalRoot,r=this._expirationTime,n=new gs;ds(e,t,null,r,n._onCommit);return n};ys.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]);t.push(e)}};ys.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;this._defer&&null!==t?void 0:f("251");if(this._hasChildren){var r=this._expirationTime;if(t!==this){this._hasChildren&&(r=this._expirationTime=t._expirationTime,this.render(this._children));for(var n=null,i=t;i!==this;)n=i,i=i._next;null===n?f("251"):void 0;n._next=i._next;this._next=t;e.firstBatch=this}this._defer=!1;es(e,r);t=this._next;this._next=null;t=e.firstBatch=t;null!==t&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1};ys.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}};function gs(){this._callbacks=null;this._didCommit=!1;this._onCommit=this._onCommit.bind(this)}gs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]);t.push(e)}};gs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var r=e[t];"function"!==typeof r?f("191",r):void 0;r()}}};function _s(e,t,r){this._internalRoot=Di(e,t,r)}_s.prototype.render=function(e,t){var r=this._internalRoot,n=new gs;t=void 0===t?null:t;null!==t&&n.then(t);ps(e,r,null,n._onCommit);return n};_s.prototype.unmount=function(e){var t=this._internalRoot,r=new gs;e=void 0===e?null:e;null!==e&&r.then(e);ps(null,t,null,r._onCommit);return r};_s.prototype.legacy_renderSubtreeIntoContainer=function(e,t,r){var n=this._internalRoot,i=new gs;r=void 0===r?null:r;null!==r&&i.then(r);ps(t,n,e,i._onCommit);return i};_s.prototype.createBatch=function(){var e=new ys(this),t=e._expirationTime,r=this._internalRoot,n=r.firstBatch;if(null===n)r.firstBatch=e,e._next=null;else{for(r=null;null!==n&&n._expirationTime<=t;)r=n,n=n._next;e._next=n;null!==r&&(r._next=e)}return e};function As(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}Xe=vs.batchedUpdates;Ze=vs.interactiveUpdates;Je=vs.flushInteractiveUpdates;function Rs(e,t){t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot")));if(!t)for(var r;r=e.lastChild;)e.removeChild(r);return new _s(e,!1,t)}function bs(e,t,r,n,i){As(r)?void 0:f("200");var o=r._reactRootContainer;if(o){if("function"===typeof i){var a=i;i=function(){var e=hs(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{o=r._reactRootContainer=Rs(r,n);if("function"===typeof i){var s=i;i=function(){var e=hs(o._internalRoot);s.call(e)}}us(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return hs(o._internalRoot)}function Ts(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;As(t)?void 0:f("200");return Es(e,t,null,r)}var Ps={createPortal:Ts,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:fs(e)},hydrate:function(e,t,r){return bs(null,e,t,!0,r)},render:function(e,t,r){return bs(null,e,t,!1,r)},unstable_renderSubtreeIntoContainer:function(e,t,r,n){null==e||void 0===e._reactInternalFiber?f("38"):void 0;return bs(e,t,r,!1,n)},unmountComponentAtNode:function(e){As(e)?void 0:f("40");return e._reactRootContainer?(us(function(){bs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0):!1},unstable_createPortal:function(){return Ts.apply(void 0,arguments)},unstable_batchedUpdates:ss,unstable_deferredUpdates:Oa,flushSync:ls,unstable_flushControlled:cs,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:B,EventPluginRegistry:w,EventPropagators:ie,ReactControlledComponent:Ke,ReactDOMComponentTree:$,ReactDOMEventListener:Wr},unstable_createRoot:function(e,t){return new _s(e,!0,null!=t&&!0===t.hydrate)}};ms({findFiberByHostInstance:q,bundleType:0,version:"16.4.0",rendererPackageName:"react-dom"});var ws={default:Ps},Os=ws&&Ps||ws;e.exports=Os.default?Os.default:Os},function(e,t,r){"use strict";var n=function e(t){};if(false){}function i(e,t,r,i,o,a,s,u){n(t);if(!e){var l;if(t===undefined){l=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var c=[r,i,o,a,s,u];var d=0;l=new Error(t.replace(/%s/g,function(){return c[d++]}));l.name="Invariant Violation"}l.framesToPop=1;throw l}}e.exports=i},function(e,t,r){"use strict";var n=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);var i={canUseDOM:n,canUseWorkers:typeof Worker!=="undefined",canUseEventListeners:n&&!!(window.addEventListener||window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=i},function(e,t,r){"use strict";function n(e){return function(){return e}}var i=function e(){};i.thatReturns=n;i.thatReturnsFalse=n(false);i.thatReturnsTrue=n(true);i.thatReturnsNull=n(null);i.thatReturnsThis=function(){return this};i.thatReturnsArgument=function(e){return e};e.exports=i},function(e,t,r){"use strict";function n(e){e=e||(typeof document!=="undefined"?document:undefined);if(typeof e==="undefined"){return null}try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=n},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function i(e,t){if(e===t){return e!==0||t!==0||1/e===1/t}else{return e!==e&&t!==t}}function o(e,t){if(i(e,t)){return true}if(typeof e!=="object"||e===null||typeof t!=="object"||t===null){return false}var r=Object.keys(e);var o=Object.keys(t);if(r.length!==o.length){return false}for(var a=0;a<r.length;a++){if(!n.call(t,r[a])||!i(e[r[a]],t[r[a]])){return false}}return true}e.exports=o},function(e,t,r){"use strict";var n=r(198);function i(e,t){if(!e||!t){return false}else if(e===t){return true}else if(n(e)){return false}else if(n(t)){return i(e,t.parentNode)}else if("contains"in e){return e.contains(t)}else if(e.compareDocumentPosition){return!!(e.compareDocumentPosition(t)&16)}else{return false}}e.exports=i},function(e,t,r){"use strict";var n=r(199);function i(e){return n(e)&&e.nodeType==3}e.exports=i},function(e,t,r){"use strict";function n(e){var t=e?e.ownerDocument||e:document;var r=t.defaultView||window;return!!(e&&(typeof r.Node==="function"?e instanceof r.Node:typeof e==="object"&&typeof e.nodeType==="number"&&typeof e.nodeName==="string"))}e.exports=n},function(e,t,r){"use strict";var n={};if(false){}e.exports=n},function(e,t,r){"use strict";var n=r(202);function i(){}function o(){}o.resetWarningCache=i;e.exports=function(){function e(e,t,r,i,o,a){if(a===n){return}var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types");s.name="Invariant Violation";throw s}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};r.PropTypes=r;return r}},function(e,t,r){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);if(!t.children)t.children=[];Object.defineProperty(t,"loaded",{enumerable:true,get:function(){return t.l}});Object.defineProperty(t,"id",{enumerable:true,get:function(){return t.i}});Object.defineProperty(t,"exports",{enumerable:true});t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";r.r(t);function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){if(typeof i==="function"){return i(r,n,e)}return t(i)}}}}var i=n();i.withExtraArgument=n;t["default"]=i},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const o=n(r(0));const a=i(r(206));class s extends o.Component{constructor(e){super(e)}render(){return o.createElement("div",{className:"App"},o.createElement(a.default,Object.assign({},this.props)))}}t.App=s},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})};var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const o=i(r(3));const a=i(r(0));const s=r(62);const u=r(18);const l=r(35);const c=r(207);const d=r(208);const f=r(211);const p=r(17);const h=r(85);const m=r(212);class v extends a.default.Component{constructor(){super(...arguments);this.audioRef=a.default.createRef();this.videoRef=a.default.createRef();this.isAudio=this.props.mediaType===p.MediaType.AUDIO_MP3;this.mediaRef=this.isAudio?this.audioRef:this.videoRef;this.handleAdWaiting=(()=>{this.props.trackingHandler.trackWaiting()});this.handleAdLoadedData=(e=>{const t=e.target.duration||0;this.props.trackingHandler.trackLoadedData(t)});this.handleAdPlay=(()=>{this.props.trackingHandler.trackPlay()});this.handleAdFullscreenChange=(()=>{this.props.trackingHandler.trackFullscreenChange(!this.props.fullscreen)});this.handleAdPause=(e=>{this.props.trackingHandler.trackPause()});this.handleAdVolumeChange=(e=>{this.props.trackingHandler.trackVolumeChange()});this.handleAdClick=(()=>{this.props.trackingHandler.trackClick()});this.handleAdEnded=(()=>{this.props.trackingHandler.trackEnded()});this.handleAdError=(e=>{console.warn(e.target.error);this.props.trackingHandler.trackError(e.target.error)});this.handleAdProgress=(e=>{const t=e.target.currentTime;this.props.trackingHandler.trackProgress(t)});this.setPlayerStateOnComponentMount=(()=>{const{volume:e,fullscreen:t}=this.props;this.setVolume(e);if(!this.isAudio){this.setFullscreen(t)}});this.setPlayerStateOnComponentUpdate=(e=>{const{paused:t,volume:r,fullscreen:n}=this.props;const i=t!==e.paused;const o=r!==e.volume;const a=n!==e.fullscreen;if(i){this.setPaused(t)}if(o){this.setVolume(r)}if(a){this.setFullscreen(n)}});this.setPaused=(e=>{if(e){this.mediaRef.current.pause()}else{this.mediaRef.current.play()}});this.setVolume=(e=>{this.mediaRef.current.volume=e});this.setFullscreen=(e=>{if(e){const e=m.fullscreenApiKeys.requestFullscreen;this.videoRef.current[e]()}else{const e=m.fullscreenApiKeys.exitFullscreen;this.videoRef.current[e]()}})}render(){const e={backgroundColor:"black",height:"100%",position:"absolute",width:"100%"};if(this.isAudio){return a.default.createElement(c.AudioPlayer,{audioRef:this.audioRef,muted:this.props.muted,mediaFileUrl:this.props.mediaFileUrl,handleAdWaiting:this.handleAdWaiting,handleAdVolumeChange:this.handleAdVolumeChange,handleAdLoadedData:this.handleAdLoadedData,handleAdEnded:this.handleAdEnded,handleAdError:this.handleAdError,handleAdPause:this.handleAdPause,handleAdProgress:this.handleAdProgress,handleAdPlay:this.handleAdPlay})}else{return a.default.createElement("div",{style:e},this.props.buffering&&a.default.createElement(d.Spinner,{color:this.props.bufferingSpinnerColor}),a.default.createElement(f.VideoPlayer,{videoRef:this.videoRef,muted:this.props.muted,mediaFileUrl:this.props.mediaFileUrl,handleAdWaiting:this.handleAdWaiting,handleAdVolumeChange:this.handleAdVolumeChange,handleAdLoadedData:this.handleAdLoadedData,handleAdClick:this.handleAdClick,handleAdEnded:this.handleAdEnded,handleAdError:this.handleAdError,handleAdFullscreenChange:this.handleAdFullscreenChange,handleAdPause:this.handleAdPause,handleAdProgress:this.handleAdProgress,handleAdPlay:this.handleAdPlay}))}}componentDidMount(){return n(this,void 0,void 0,function*(){this.setPlayerStateOnComponentMount();document.addEventListener(m.fullscreenApiKeys.fullscreenchange,this.handleAdFullscreenChange)})}componentWillUnmount(){document.removeEventListener(m.fullscreenApiKeys.fullscreenchange,this.handleAdFullscreenChange)}componentDidUpdate(e){const t=e.muted!==this.props.muted&&!this.props.playStarted;const r=e.loadedData!==this.props.loadedData&&this.props.loadedData;const n=t||r;if(n){setTimeout(()=>{this.startAd()})}this.setPlayerStateOnComponentUpdate(e)}startAd(){return n(this,void 0,void 0,function*(){this.props.setPlayRequested(true);try{yield this.mediaRef.current.play();this.props.setPlayStarted(true)}catch(e){if(this.props.muted){this.props.setPlayStarted(false);const e=o.default(this.mediaRef,"current.error");this.props.trackingHandler.trackError(e);return}if(e.name===h.BrowserError.NOT_ALLOWED_ERROR){}this.props.setMuted(true)}})}}t.PlayerContainer=v;const E=(e,t)=>Object.assign({},e.player,t,{mediaFileUrl:e.ads.currentMediaFile.fileURL,mediaType:e.ads.currentMediaFile.mimeType});const y=e=>{return u.bindActionCreators({setBuffering:l.setBuffering,setFullscreen:l.setFullscreen,setLoadedData:l.setLoadedData,setInitialized:l.setInitialized,setMuted:l.setMuted,setPlayRequested:l.setPlayRequested,setPlayStarted:l.setPlayStarted,setPaused:l.setPaused,setProgress:l.setProgress,setDurationAudible:l.setDurationAudible,setVolume:l.setVolume},e)};t.default=s.connect(E,y)(v)},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(0));class o extends i.Component{constructor(e){super(e)}render(){return i.createElement("audio",{muted:this.props.muted,onLoadedData:this.props.handleAdLoadedData,onVolumeChange:this.props.handleAdVolumeChange,onWaiting:this.props.handleAdWaiting,onError:this.props.handleAdError,onPlay:this.props.handleAdPlay,onPause:this.props.handleAdPause,onEnded:this.props.handleAdEnded,onTimeUpdate:this.props.handleAdProgress,ref:this.props.audioRef,src:this.props.mediaFileUrl})}}t.AudioPlayer=o},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const o=n(r(209));const a=n(r(3));const s=i(r(0));class u extends s.Component{constructor(e){super(e);this.containerRef=s.createRef();this.calculateSize=(()=>{const e=a.default(this.containerRef,"current");if(e){const t=e.clientHeight>e.clientWidth?e.clientWidth:e.clientHeight;this.setState({size:t})}});this.state={size:0}}componentWillUnmount(){window.removeEventListener("resize",this.debouncedCalculateSize)}componentDidMount(){this.debouncedCalculateSize=o.default(this.calculateSize,100);window.addEventListener("resize",this.debouncedCalculateSize);this.debouncedCalculateSize()}render(){const e={position:"absolute",top:"0px",right:"0px",bottom:"0px",left:"0px",margin:"auto"};const t=Object.assign({},e,{height:"10%",width:"15%"});const r=Object.assign({},e,{border:"2.5px solid transparent",borderRadius:"50%",borderTop:`2.5px solid ${this.props.color}`,borderRight:`2.5px solid ${this.props.color}`,borderBottom:`2.5px solid ${this.props.color}`,boxSizing:"border-box",animation:"spin 2s linear infinite",height:this.state.size,width:this.state.size});return s.createElement("div",{style:t,ref:this.containerRef},this.state.size>0?s.createElement("div",{style:r}):null)}}t.Spinner=u},function(e,t,r){var n=r(2),i=r(210),o=r(83);var a="Expected a function";var s=Math.max,u=Math.min;function l(e,t,r){var l,c,d,f,p,h,m=0,v=false,E=false,y=true;if(typeof e!="function"){throw new TypeError(a)}t=o(t)||0;if(n(r)){v=!!r.leading;E="maxWait"in r;d=E?s(o(r.maxWait)||0,t):d;y="trailing"in r?!!r.trailing:y}function g(t){var r=l,n=c;l=c=undefined;m=t;f=e.apply(n,r);return f}function _(e){m=e;p=setTimeout(b,t);return v?g(e):f}function A(e){var r=e-h,n=e-m,i=t-r;return E?u(i,d-n):i}function R(e){var r=e-h,n=e-m;return h===undefined||r>=t||r<0||E&&n>=d}function b(){var e=i();if(R(e)){return T(e)}p=setTimeout(b,A(e))}function T(e){p=undefined;if(y&&l){return g(e)}l=c=undefined;return f}function P(){if(p!==undefined){clearTimeout(p)}m=0;l=h=c=p=undefined}function w(){return p===undefined?f:T(i())}function O(){var e=i(),r=R(e);l=arguments;c=this;h=e;if(r){if(p===undefined){return _(h)}if(E){p=setTimeout(b,t);return g(h)}}if(p===undefined){p=setTimeout(b,t)}return f}O.cancel=P;O.flush=w;return O}e.exports=l},function(e,t){function r(){return Date.now()}e.exports=r},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(0));class o extends i.Component{constructor(e){super(e)}render(){const e={height:"100%",width:"100%"};return i.createElement("video",{style:e,muted:this.props.muted,onLoadedData:this.props.handleAdLoadedData,onVolumeChange:this.props.handleAdVolumeChange,onWaiting:this.props.handleAdWaiting,onError:this.props.handleAdError,onPlay:this.props.handleAdPlay,onPause:this.props.handleAdPause,onEnded:this.props.handleAdEnded,onClick:this.props.handleAdClick,onTimeUpdate:this.props.handleAdProgress,ref:this.props.videoRef,src:this.props.mediaFileUrl})}}t.VideoPlayer=o},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(37));const o={exitFullscreen:"exitFullscreen",fullscreenElement:"fullscreenElement",fullscreenEnabled:"fullscreenEnabled",fullscreenchange:"fullscreenchange",fullscreenerror:"fullscreenerror",requestFullscreen:"requestFullscreen"};const a={exitFullscreen:"webkitExitFullscreen",fullscreenElement:"webkitFullscreenElement",fullscreenEnabled:"webkitFullscreenEnabled",fullscreenchange:"webkitfullscreenchange",fullscreenerror:"webkitfullscreenerror",requestFullscreen:"webkitRequestFullscreen"};const s={exitFullscreen:"mozCancelFullScreen",fullscreenElement:"mozFullScreenElement",fullscreenEnabled:"mozFullScreenEnabled",fullscreenchange:"mozfullscreenchange",fullscreenerror:"mozfullscreenerror",requestFullscreen:"mozRequestFullScreen"};const u={exitFullscreen:"msExitFullscreen",fullscreenElement:"msFullscreenElement",fullscreenEnabled:"msFullscreenEnabled",fullscreenchange:"MSFullscreenChange",fullscreenerror:"MSFullscreenError",requestFullscreen:"msRequestFullscreen"};function l(){const e=i.default([a.fullscreenEnabled,s.fullscreenEnabled,u.fullscreenEnabled,o.fullscreenEnabled],e=>document[e]);return i.default([o,a,s,u],t=>t.fullscreenEnabled===e)||{}}t.fullscreenApiKeys=l()},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(0));const o=r(214);class a extends i.Component{constructor(e){super(e)}render(){return i.createElement("div",{className:"App"},i.createElement(o.Companion,Object.assign({},this.props)))}}t.CompanionApp=a},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(3));const o=n(r(0));const a=r(62);const s=r(18);const u=r(4);const l=r(215);class c extends o.default.Component{constructor(e){super(e);this.handleAdClick=(()=>{this.props.trackingHandler.trackCompanionClick()});this.handleLoadedData=(()=>{this.props.trackingHandler.trackCompanionLoadedData();this.trackCompanionView();this.setState({loaded:true})});this.handleAdError=(()=>{const e=new u.AmazonVideoAdsError(u.ErrorType.AD_LOAD,u.AmazonErrorCode.COMPANION_ADS_GENERAL_ERROR,`General companion ads error`);this.props.trackingHandler.trackCompanionError(e)});this.trackCompanionView=(()=>{if(!this.state.viewed&&this.props.tabVisible){this.props.trackingHandler.trackCompanionView();this.setState({viewed:true})}});this.state={previousImageUrl:e.imageUrl,viewed:false,loaded:false}}static getDerivedStateFromProps(e,t){if(e.imageUrl!==t.previousImageUrl){return{previousImageUrl:e.imageUrl,viewed:false,loaded:false}}return null}render(){if(!this.props.imageUrl){return null}const e={backgroundColor:"black",height:"100%",width:"100%"};return o.default.createElement("div",{style:e},o.default.createElement("img",{width:"100%",height:"100%",src:this.props.imageUrl||"",alt:this.props.altText||"",onClick:this.handleAdClick,onLoad:this.handleLoadedData,onError:this.handleAdError}))}componentDidUpdate(e){if(this.props.imageUrl&&this.state.loaded&&!this.state.viewed&&e.tabVisible!==this.props.tabVisible){this.trackCompanionView()}}componentWillUnmount(){}}t.CompanionComponent=c;const d=(e,t)=>Object.assign({},t,{imageUrl:i.default(e,"ads.currentStaticResource.staticResource")||"",altText:i.default(e,"ads.currentStaticResource.altText")||""});t.Companion=s.compose(l.withVisibilityDetection(),a.connect(d))(c)},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(0));const o=["moz","ms","o","webkit",undefined];function a(){return e=>{return t=class t extends i.Component{constructor(e){super(e);this.browserPrefix=c();this.hiddenPropertyName=u(this.browserPrefix);this.visibilityEventName=l(this.browserPrefix);this.documentListeners={[this.visibilityEventName]:[e=>this.handleVisibilityChange(e)],blur:[()=>this.handleVisibilityChange(false)],focus:[()=>this.handleVisibilityChange(true)]};this.windowListeners={blur:[()=>this.handleVisibilityChange(false)],focus:[()=>this.handleVisibilityChange(true)]};this.state={tabVisible:false}}componentDidMount(){Object.keys(this.documentListeners).forEach(e=>{this.documentListeners[e].forEach(t=>{document.addEventListener(e,t,false)})});Object.keys(this.windowListeners).forEach(e=>{this.windowListeners[e].forEach(t=>{window.addEventListener(e,t,false)})});this.handleVisibilityChange()}componentWillUnmount(){Object.keys(this.documentListeners).forEach(e=>{this.documentListeners[e].forEach(t=>{document.removeEventListener(e,t,false)})});Object.keys(this.windowListeners).forEach(e=>{this.windowListeners[e].forEach(t=>{window.removeEventListener(e,t,false)})})}render(){return i.createElement(e,Object.assign({},this.props,this.state))}onVisible(){if(this.state.tabVisible){return}this.setState({tabVisible:true})}onHidden(){if(!this.state.tabVisible){return}this.setState({tabVisible:false})}handleVisibilityChange(e){if(typeof e==="boolean"){if(e){return this.onVisible()}return this.onHidden()}if(document[this.hiddenPropertyName]){return this.onHidden()}return this.onVisible()}},t.displayName=s(t.name,e),t;var t}}t.withVisibilityDetection=a;function s(e,t){return`${e}(${t.displayName||t.name||"Component"})`}const u=e=>{return e?e+"Hidden":"hidden"};const l=e=>{return(e?e:"")+"visibilitychange"};const c=()=>{const e=o.find(e=>{return u(e)in document});return e||null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(18);const i=r(217);const o=r(222);const a=r(223);const s=r(224);t.reducers=n.combineReducers({ads:i.AdsReducer,networkStatistics:o.NetworkStatisticsReducer,player:a.PlayerReducer,vast:s.VASTReducer})},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(37));const o=n(r(3));const a=n(r(218));const s=n(r(38));const u=n(r(49));const l=n(r(15));const c=n(r(219));const d=r(16);const f=r(17);t.initialState=(()=>({currentAd:null,currentLinearCreative:null,currentMediaFile:null,currentCompanionCreative:null,currentStaticResource:null,duration:0,nextAdIndex:0,quartiles:null}));const p=(e=[],t)=>{e=e.sort((e,t)=>e.bitrate-t.bitrate);const r=u.default(t);if(!r){return e[e.length-1]}const n=l.default(e,(e,r)=>{const n=r.mimeType;if(s.default(e[n])||r.bitrate<=t){e=Object.assign({},e,{[n]:r})}return e},{});const i=n[f.MediaType.AUDIO_MP3]||n[f.MediaType.VIDEO_MP4]||a.default(c.default(n));return i};const h=(e=[],t)=>{e=e.filter(e=>e.type.startsWith("image/"));e=e.sort((e,t)=>e.width-t.width);const r=u.default(t);if(!r){return e[e.length-1]}return e.find(e=>e.width>=t)};const m=e=>{if(s.default(e)){return{}}return{firstQuartile:25*e/100,midpoint:50*e/100,thirdQuartile:75*e/100}};t.AdsReducer=((e=t.initialState(),r)=>{switch(r.type){case d.AdActionTypes.PLAY_NEXT_AD:const n=o.default(e,"nextAdIndex");const a=o.default(r,`payload.vastBody.ads[${n}]`);const u=o.default(a,"creatives");const l=i.default(u,e=>!s.default(o.default(e,"mediaFiles")))||{};const c=i.default(u,e=>{return o.default(e,"type")==="companion"&&!s.default(o.default(e,"variations"))})||{};const f=o.default(r,"payload.bitrate");const v=o.default(l,"mediaFiles");const E=o.default(c,"variations");const y=p(v,f);const g=h(E);return Object.assign({},e,{currentAd:a,currentLinearCreative:l,currentMediaFile:y,currentCompanionCreative:c,currentStaticResource:g,duration:l.duration,nextAdIndex:e.nextAdIndex+1,quartiles:m(l.duration)});case d.AdActionTypes.PREPARE_FOR_AD_BREAK:return t.initialState();case d.AdActionTypes.SET_AD_DURATION:const _=r;return Object.assign({},e,{duration:_.payload.duration,quartiles:m(_.payload.duration)});default:return e}})},function(e,t){function r(e){return e&&e.length?e[0]:undefined}e.exports=r},function(e,t,r){var n=r(220),i=r(7);function o(e){return e?n(e,i(e)):[]}e.exports=o},function(e,t,r){var n=r(221);function i(e,t){return n(t,function(t){return e[t]})}e.exports=i},function(e,t){function r(e,t){var r=-1,n=e?e.length:0,i=Array(n);while(++r<n){i[r]=t(e[r],r,e)}return i}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(86);const i=()=>({bitrate:null});t.NetworkStatisticsReducer=((e=i(),t)=>{switch(t.type){case n.NetworkStatisticsActionTypes.UPDATE_BITRATE:return Object.assign({},e,{bitrate:t.payload.bitrate});default:return e}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(16);const i=r(35);t.initialState=(()=>({initialized:false,buffering:false,fullscreen:false,loadedData:false,muted:false,playRequested:false,playStarted:false,paused:false,progress:0,durationAudible:0,volume:1}));t.PlayerReducer=((e=t.initialState(),r)=>{switch(r.type){case i.PlayerActionTypes.RESET_PLAYER_LIFECYCLE:return Object.assign({},e,{buffering:false,loadedData:false,playRequested:false,playStarted:false,progress:0,durationAudible:0});case i.PlayerActionTypes.SET_BUFFERING:const o=r;return Object.assign({},e,{buffering:o.payload.buffering});case i.PlayerActionTypes.SET_MUTED:const a=r;return Object.assign({},e,{muted:a.payload.muted});case i.PlayerActionTypes.SET_VOLUME:const s=r;if(s.payload.volume<0||s.payload.volume>1){return e}return Object.assign({},e,{muted:e.volume!==s.payload.volume?s.payload.volume<=0:e.muted,volume:s.payload.volume});case i.PlayerActionTypes.SET_PAUSED:const u=r;return Object.assign({},e,{paused:u.payload.paused});case i.PlayerActionTypes.SET_PROGRESS:const l=r;return Object.assign({},e,{progress:l.payload.progress});case i.PlayerActionTypes.SET_DURATION_AUDIBLE:const c=r;return Object.assign({},e,{durationAudible:c.payload.duration});case i.PlayerActionTypes.SET_FULLSCREEN:const d=r;return Object.assign({},e,{fullscreen:d.payload.fullscreen});case i.PlayerActionTypes.SET_PLAY_STARTED:const f=r;return Object.assign({},e,{playStarted:f.payload.playStarted,paused:!f.payload.playStarted});case i.PlayerActionTypes.SET_PLAY_REQUESTED:const p=r;return Object.assign({},e,{playRequested:p.payload.playRequested});case i.PlayerActionTypes.MIRROR_PUBLISHER_PLAYER_STATE:const h=r;const{fullscreen:m,muted:v,volume:E}=h.payload;return Object.assign({},e,{fullscreen:m,muted:v,volume:E});case i.PlayerActionTypes.SET_LOADED_DATA:const y=r;return Object.assign({},e,{loadedData:y.payload.loadedData});case i.PlayerActionTypes.SET_INITIALIZED:const g=r;return Object.assign({},e,{initialized:g.payload.initialized});case n.AdActionTypes.PREPARE_FOR_AD_BREAK:return t.initialState();default:return e}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(16);const i=r(81);t.initialState=(()=>({adRequestDuration:null,error:null,loading:false,vastBody:null}));t.VASTReducer=((e=t.initialState(),r)=>{switch(r.type){case i.VASTActionTypes.FETCH_VAST_REQUEST:return Object.assign({},t.initialState(),{loading:true});case i.VASTActionTypes.FETCH_VAST_SUCCESS:const o=r;return{adRequestDuration:o.payload.adRequestDuration,error:null,loading:false,vastBody:o.payload.vast};case i.VASTActionTypes.FETCH_VAST_FAILURE:const a=r;return Object.assign({},e,{adRequestDuration:a.payload.adRequestDuration,error:a.error,loading:false});case n.AdActionTypes.PREPARE_FOR_AD_BREAK:return t.initialState();default:return e}})},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(37));const o=n(r(3));const a=n(r(226));const s=r(258);const u=r(17);const l=r(82);const c=r(39);const d=r(36);const f=r(57);const p=r(56);const h=r(40);const m=false;const v=2;var E;(function(e){e[e["FIRST_QUARTILE"]=0]="FIRST_QUARTILE";e[e["MIDPOINT"]=1]="MIDPOINT";e[e["THIRD_QUARTILE"]=2]="THIRD_QUARTILE";e[e["COMPLETE"]=3]="COMPLETE"})(E||(E={}));var y;(function(e){e["LinearCreative"]="linear";e["CompanionCreative"]="companion"})(y=t.CreativeType||(t.CreativeType={}));class g{constructor(e){this.store=c.store;const t=this.store.getState();this.muted=o.default(t,"player.muted");this.paused=o.default(t,"player.paused");this.fullscreen=o.default(t,"player.fullscreen");this.volume=o.default(t,"player.volume");this.progress=0;this.impressed=false;this.audioAdCreativeViewed=false;this.messageBridge=e;this.state=E.FIRST_QUARTILE}setStore(e){this.store=e}reportProgress(e,t,r){const n=[];const i=!r||r&&(!m||t>0);if(!this.impressed&&i){this.reportImpression()}const a=m?t:e;const s=r&&a>=v;if(!this.audioAdCreativeViewed&&s){this.reportCreativeView();this.audioAdCreativeViewed=true}if(e>0){const t=this.store.getState();const r=o.default(t,"ads.quartiles");const i=o.default(t,"ads.duration");const a=Math.round(e/i*100);const s=this.getAdEvent();n.push(`${l.TrackingEvent.PROGRESS}${a}%`);n.push(`${l.TrackingEvent.PROGRESS}${Math.round(e)}`);this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.PROGRESS,values:s});switch(this.state){case E.FIRST_QUARTILE:if(e>r.firstQuartile){n.push(l.TrackingEvent.FIRST_QUARTILE);this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.FIRST_QUARTILE,values:s});this.state=E.MIDPOINT}break;case E.MIDPOINT:if(e>r.midpoint){n.push(l.TrackingEvent.MIDPOINT);this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.MIDPOINT,values:s});this.state=E.THIRD_QUARTILE}break;case E.THIRD_QUARTILE:if(e>r.thirdQuartile){n.push(l.TrackingEvent.THIRD_QUARTILE);this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.THIRD_QUARTILE,values:s});this.state=E.COMPLETE}break;case E.COMPLETE:break}}if(e<this.progress){n.push(l.TrackingEvent.REWIND)}n.forEach(e=>{const t=this.getTrackingURLs(e);this.trackURLs(t,{},{eventName:e})});this.progress=e}reportLoad(){const e=this.getAdEvent();this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.LOADED,values:e})}reportVolumeChange(e,t){if(this.volume!==e||this.muted!==t){const t=this.getAdEvent();this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.VOLUME_CHANGE,values:t});this.volume=e}}reportMute(){if(this.muted===false){const e=this.getAdEvent();const t=this.getTrackingURLs(l.TrackingEvent.MUTE);this.trackURLs(t,{},{eventName:l.TrackingEvent.MUTE});this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.MUTED,values:e})}this.muted=true}reportUnmute(){if(this.muted===true){const e=this.getAdEvent();const t=this.getTrackingURLs(l.TrackingEvent.UNMUTE);this.trackURLs(t,{},{eventName:l.TrackingEvent.UNMUTE});this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.UNMUTED,values:e})}this.muted=false}reportPause(){if(this.paused===false){const e=this.getAdEvent();const t=this.getTrackingURLs(l.TrackingEvent.PAUSE);this.trackURLs(t,{},{eventName:l.TrackingEvent.PAUSE});this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.PAUSED,values:e})}this.paused=true}reportResume(){if(this.paused===true){const e=this.getAdEvent();const t=this.getTrackingURLs(l.TrackingEvent.RESUME);this.trackURLs(t,{},{eventName:l.TrackingEvent.RESUME});this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.RESUMED,values:e})}this.paused=false}reportFullscreen(){if(this.fullscreen===false){const e=this.getAdEvent();const t=this.getTrackingURLs(l.TrackingEvent.FULLSCREEN);this.trackURLs(t,{},{eventName:l.TrackingEvent.FULLSCREEN});this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.FULLSCREEN,values:e})}this.fullscreen=true}reportExitFullscreen(){if(this.fullscreen===true){const e=this.getAdEvent();const t=this.getTrackingURLs(l.TrackingEvent.EXIT_FULLSCREEN);this.trackURLs(t,{},{eventName:l.TrackingEvent.EXIT_FULLSCREEN});this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.EXIT_FULLSCREEN,values:e})}this.fullscreen=false}reportError(e){const t=this.store.getState();const r=e.getVastErrorCode();const n={ERRORCODE:r};const i={eventName:l.TrackingEvent.ERROR};const a=o.default(t,"ads.currentAd.errorURLTemplates",{});this.trackURLs(a,n,i);this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.ERRORED,values:e})}reportStart(){const e=this.getAdEvent();const t=this.getTrackingURLs(l.TrackingEvent.START);this.trackURLs(t,{},{eventName:l.TrackingEvent.START});this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.STARTED,values:e})}reportCreativeView(e){const t=this.getAdEvent(e);const r=this.getTrackingURLs(l.TrackingEvent.CREATIVE_VIEW,e);this.trackURLs(r,{},{eventName:l.TrackingEvent.CREATIVE_VIEW},e);this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.CREATIVE_VIEWED,values:t})}reportComplete(){const e=this.getAdEvent();const t=this.getTrackingURLs(l.TrackingEvent.COMPLETE);this.trackURLs(t,{},{eventName:l.TrackingEvent.COMPLETE});this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.COMPLETED,values:e})}reportClick(e){const t=this.store.getState();const r=this.getAdEvent(e);let n;if(e===y.CompanionCreative){n=o.default(t,"ads.currentStaticResource.companionClickTrackingURLTemplates",{})}else{n=o.default(t,"ads.currentLinearCreative.videoClickTrackingURLTemplates",{})}this.trackURLs(n,{},{eventName:l.TrackingEvent.CLICK_THROUGH},e);this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.CLICKED,values:r})}reportCreativeError(e,t){const r=this.store.getState();const n=e.getVastErrorCode();const i={ERRORCODE:n};const a=o.default(r,"ads.currentAd.errorURLTemplates",{});this.trackURLs(a,i,{eventName:l.TrackingEvent.CREATIVE_ERROR},t);this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.CREATIVE_ERROR,values:e})}resetState(){this.progress=0;this.impressed=false;this.audioAdCreativeViewed=false;this.state=E.FIRST_QUARTILE}reportImpression(){const e=this.getAdEvent();const t=this.store.getState();const r=o.default(t,"ads.currentAd.impressionURLTemplates",{});this.impressed=true;this.trackURLs(r,{},{eventName:l.TrackingEvent.IMPRESSION});this.messageBridge.postMessage({eventName:h.AdVideoPlayerEvents.IMPRESSION,values:e})}getAdMetadata(){const e=this.store.getState();const t=o.default(e,"vast");const r=o.default(e,"ads.currentAd");const n=o.default(r,"advertiser");const a=o.default(e,"ads.currentLinearCreative");const l=o.default(e,"ads.currentMediaFile");const c=o.default(l,"mimeType");const f=o.default(e,"ads.currentStaticResource");const p=o.default(r,"adVerifications");const h=o.default(r,"transparencyInfo");const m=o.default(e,"player.progress");const v=o.default(e,"player.durationAudible");const E=o.default(r,"id");const y=o.default(a,"id");const g=o.default(a,"adId");const _=o.default(r,"title");const A=o.default(r,"system.value");const R=o.default(a,"duration");const b=o.default(e,"ads.nextAdIndex");const T=o.default(e,"player.muted");const P=o.default(e,"player.volume");const w=o.default(t,"vastBody.ads",[]).length;const O=c===u.MediaType.AUDIO_MP3?s.AmazonAdFormat.AUDIO:s.AmazonAdFormat.VIDEO;const S="";const I=i.default(a.extensions,["name",d.ViewabilityExtensions.LINE_ITEM_ID]);const C=i.default(a.extensions,["name",d.ViewabilityExtensions.ADVERTISER_ID]);const N=i.default(a.extensions,["name",d.ViewabilityExtensions.ORDER_ID]);const D=i.default(a.extensions,["name",d.ViewabilityExtensions.CREATIVE_ID]);const k={adPosition:b,totalAds:w};const U={id:E,podInfo:k,title:_,wrapperIds:S,system:A,currentAdVerifications:p,currentTransparencyInfo:h,adFormat:O,advertiser:n};const x={id:y,duration:R,progress:m,durationAudible:v,adId:g};const L={url:o.default(l,"fileURL"),mimeType:o.default(l,"mimeType"),height:o.default(l,"height"),width:o.default(l,"width"),bitrate:o.default(l,"bitrate")};const M={url:o.default(f,"staticResource"),type:o.default(f,"type"),height:o.default(f,"height"),width:o.default(f,"width"),altText:o.default(f,"altText"),clickThroughUrl:o.default(f,"companionClickThroughURLTemplate"),clickTrackingUrls:o.default(f,"companionClickTrackingURLTemplates")};const V={adCfId:o.default(I,"value"),advertiserCfId:o.default(C,"value"),campaignCfId:o.default(N,"value"),creativeCfId:o.default(D,"value")};const F={muted:T,volume:P};return{ad:U,creative:x,mediaFile:L,viewability:V,audibility:F,companionAd:M}}getAdEvent(e){const t=this.getAdMetadata();return{target:e||y.LinearCreative,adMetadata:t}}trackURLs(e,t={},r={},n=y.LinearCreative){const i=a.default({},t);const s=a.default({},r);const u=this.store.getState();let l;if(n===y.CompanionCreative){l=o.default(u,"ads.currentStaticResource.staticResource")}else{l=o.default(u,"ads.currentMediaFile.fileURL")}if(l){i.ASSETURI=l}i.CONTENTPLAYHEAD=f.formatSeconds(this.progress);p.track(e,i,s)}getTrackingURLs(e,t){const r=this.store.getState();let n;if(t===y.CompanionCreative){n=o.default(r,"ads.currentStaticResource.trackingEvents",{})}else{n=o.default(r,"ads.currentLinearCreative.trackingEvents",{})}return n[e]}}t.VASTTracker=g},function(e,t,r){var n=r(227),i=r(254);var o=i(function(e,t,r){n(e,t,r)});e.exports=o},function(e,t,r){var n=r(34),i=r(54),o=r(89),a=r(228),s=r(1),u=r(2),l=r(53),c=r(93);function d(e,t,r,f,p){if(e===t){return}if(!(s(t)||l(t))){var h=c(t)}i(h||t,function(i,s){if(h){s=i;i=t[s]}if(u(i)){p||(p=new n);a(e,t,s,r,d,f,p)}else{var l=f?f(e[s],i,s+"",e,t,p):undefined;if(l===undefined){l=i}o(e,s,l)}})}e.exports=d},function(e,t,r){var n=r(89),i=r(229),o=r(91),a=r(22),s=r(1),u=r(65),l=r(13),c=r(2),d=r(249),f=r(53),p=r(250);function h(e,t,r,h,m,v,E){var y=e[r],g=t[r],_=E.get(g);if(_){n(e,r,_);return}var A=v?v(y,g,r+"",e,t,E):undefined;var R=A===undefined;if(R){A=g;if(s(g)||f(g)){if(s(y)){A=y}else if(u(y)){A=o(y)}else{R=false;A=i(g,true)}}else if(d(g)||a(g)){if(a(y)){A=p(y)}else if(!c(y)||h&&l(y)){R=false;A=i(g,true)}else{A=y}}else{R=false}}if(R){E.set(g,A);m(A,g,h,v,E);E["delete"](g)}n(e,r,A)}e.exports=h},function(e,t,r){var n=r(34),i=r(54),o=r(90),a=r(230),s=r(231),u=r(91),l=r(232),c=r(234),d=r(42),f=r(237),p=r(238),h=r(247),m=r(1),v=r(67),E=r(21),y=r(2),g=r(7);var _="[object Arguments]",A="[object Array]",R="[object Boolean]",b="[object Date]",T="[object Error]",P="[object Function]",w="[object GeneratorFunction]",O="[object Map]",S="[object Number]",I="[object Object]",C="[object RegExp]",N="[object Set]",D="[object String]",k="[object Symbol]",U="[object WeakMap]";var x="[object ArrayBuffer]",L="[object DataView]",M="[object Float32Array]",V="[object Float64Array]",F="[object Int8Array]",j="[object Int16Array]",B="[object Int32Array]",z="[object Uint8Array]",W="[object Uint8ClampedArray]",H="[object Uint16Array]",q="[object Uint32Array]";var Y={};Y[_]=Y[A]=Y[x]=Y[L]=Y[R]=Y[b]=Y[M]=Y[V]=Y[F]=Y[j]=Y[B]=Y[O]=Y[S]=Y[I]=Y[C]=Y[N]=Y[D]=Y[k]=Y[z]=Y[W]=Y[H]=Y[q]=true;Y[T]=Y[P]=Y[U]=false;function Q(e,t,r,A,R,b,T){var O;if(A){O=b?A(e,R,b,T):A(e)}if(O!==undefined){return O}if(!y(e)){return e}var S=m(e);if(S){O=f(e);if(!t){return u(e,O)}}else{var C=d(e),N=C==P||C==w;if(v(e)){return s(e,t)}if(C==I||C==_||N&&!b){if(E(e)){return b?e:{}}O=h(N?{}:e);if(!t){return l(e,a(O,e))}}else{if(!Y[C]){return b?e:{}}O=p(e,C,Q,t)}}T||(T=new n);var D=T.get(e);if(D){return D}T.set(e,O);if(!S){var k=r?c(e):g(e)}i(k||e,function(n,i){if(k){i=n;n=e[i]}o(O,i,Q(n,t,r,A,i,e,T))});if(!r){T["delete"](e)}return O}e.exports=Q},function(e,t,r){var n=r(60),i=r(7);function o(e,t){return e&&n(t,i(t),e)}e.exports=o},function(e,t){function r(e,t){if(t){return e.slice()}var r=new e.constructor(e.length);e.copy(r);return r}e.exports=r},function(e,t,r){var n=r(60),i=r(92);function o(e,t){return n(e,i(e),t)}e.exports=o},function(e,t){function r(){return[]}e.exports=r},function(e,t,r){var n=r(235),i=r(92),o=r(7);function a(e){return n(e,o,i)}e.exports=a},function(e,t,r){var n=r(236),i=r(1);function o(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}e.exports=o},function(e,t){function r(e,t){var r=-1,n=t.length,i=e.length;while(++r<n){e[i+r]=t[r]}return e}e.exports=r},function(e,t){var r=Object.prototype;var n=r.hasOwnProperty;function i(e){var t=e.length,r=e.constructor(t);if(t&&typeof e[0]=="string"&&n.call(e,"index")){r.index=e.index;r.input=e.input}return r}e.exports=i},function(e,t,r){var n=r(61),i=r(239),o=r(240),a=r(242),s=r(243),u=r(245),l=r(246);var c="[object Boolean]",d="[object Date]",f="[object Map]",p="[object Number]",h="[object RegExp]",m="[object Set]",v="[object String]",E="[object Symbol]";var y="[object ArrayBuffer]",g="[object DataView]",_="[object Float32Array]",A="[object Float64Array]",R="[object Int8Array]",b="[object Int16Array]",T="[object Int32Array]",P="[object Uint8Array]",w="[object Uint8ClampedArray]",O="[object Uint16Array]",S="[object Uint32Array]";function I(e,t,r,I){var C=e.constructor;switch(t){case y:return n(e);case c:case d:return new C(+e);case g:return i(e,I);case _:case A:case R:case b:case T:case P:case w:case O:case S:return l(e,I);case f:return o(e,I,r);case p:case v:return new C(e);case h:return a(e);case m:return s(e,I,r);case E:return u(e)}}e.exports=I},function(e,t,r){var n=r(61);function i(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}e.exports=i},function(e,t,r){var n=r(241),i=r(52),o=r(76);function a(e,t,r){var a=t?r(o(e),true):o(e);return i(a,n,new e.constructor)}e.exports=a},function(e,t){function r(e,t){e.set(t[0],t[1]);return e}e.exports=r},function(e,t){var r=/\w*$/;function n(e){var t=new e.constructor(e.source,r.exec(e));t.lastIndex=e.lastIndex;return t}e.exports=n},function(e,t,r){var n=r(244),i=r(52),o=r(77);function a(e,t,r){var a=t?r(o(e),true):o(e);return i(a,n,new e.constructor)}e.exports=a},function(e,t){function r(e,t){e.add(t);return e}e.exports=r},function(e,t,r){var n=r(51);var i=n?n.prototype:undefined,o=i?i.valueOf:undefined;function a(e){return o?Object(o.call(e)):{}}e.exports=a},function(e,t,r){var n=r(61);function i(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}e.exports=i},function(e,t,r){var n=r(248),i=r(46),o=r(48);function a(e){return typeof e.constructor=="function"&&!o(e)?n(i(e)):{}}e.exports=a},function(e,t,r){var n=r(2);var i=Object.create;function o(e){return n(e)?i(e):{}}e.exports=o},function(e,t,r){var n=r(46),i=r(21),o=r(8);var a="[object Object]";var s=Object.prototype;var u=Function.prototype.toString;var l=s.hasOwnProperty;var c=u.call(Object);var d=s.toString;function f(e){if(!o(e)||d.call(e)!=a||i(e)){return false}var t=n(e);if(t===null){return true}var r=l.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&u.call(r)==c}e.exports=f},function(e,t,r){var n=r(60),i=r(93);function o(e){return n(e,i(e))}e.exports=o},function(e,t,r){var n=r(252),i=r(253);var o=Object.prototype;var a=n?n.enumerate:undefined,s=o.propertyIsEnumerable;function u(e){e=e==null?e:Object(e);var t=[];for(var r in e){t.push(r)}return t}if(a&&!s.call({valueOf:1},"valueOf")){u=function(e){return i(a(e))}}e.exports=u},function(e,t,r){var n=r(5);var i=n.Reflect;e.exports=i},function(e,t){function r(e){var t,r=[];while(!(t=e.next()).done){r.push(t.value)}return r}e.exports=r},function(e,t,r){var n=r(255),i=r(257);function o(e){return n(function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:undefined,s=o>2?r[2]:undefined;a=e.length>3&&typeof a=="function"?(o--,a):undefined;if(s&&i(r[0],r[1],s)){a=o<3?undefined:a;o=1}t=Object(t);while(++n<o){var u=r[n];if(u){e(t,u,n,a)}}return t})}e.exports=o},function(e,t,r){var n=r(256);var i=Math.max;function o(e,t){t=i(t===undefined?e.length-1:t,0);return function(){var r=arguments,o=-1,a=i(r.length-t,0),s=Array(a);while(++o<a){s[o]=r[t+o]}o=-1;var u=Array(t+1);while(++o<t){u[o]=r[o]}u[t]=s;return n(e,this,u)}}e.exports=o},function(e,t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}e.exports=r},function(e,t,r){var n=r(14),i=r(10),o=r(25),a=r(2);function s(e,t,r){if(!a(r)){return false}var s=typeof t;if(s=="number"?i(r)&&o(t,r.length):s=="string"&&t in r){return n(r[t],e)}return false}e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e["AUDIO"]="AUDIO";e["VIDEO"]="VIDEO"})(n=t.AmazonAdFormat||(t.AmazonAdFormat={}))},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(38));const o=n(r(15));const a=r(4);const s="https://edge.ads.twitch.tv";const u="https://vaes.amazon-adsystem.com";const l="/ads";const c="/2018-01-01/3p/ads";const d="cid";const f="aid";const p="rt";const h="dur";const m="ip";const v="geoc";const E="dcat";const y="dplat";const g="dt";const _="bndl";const A="app";const R="os";const b="dnt";const T="uagent";const P="pid";const w="cb";const O="bypassCache";const S="ws";const I="u";const C="slots";const N="pj";const D="pr";const k="gdpre";const U="gdprc";const x="gdprl";const L="pbid";const M="pbn";const V="pdid";const F="pdcn";const j="sdkv";const B="bp";const z="rating";const W="catid";const H="cat";const q="chanid";const Y="chan";const Q="chantype";const $="commid";const G="mafs";const K="mat";const X="plat";const Z="rtok";const J="tags";const ee="tcor";const te="uid";const re="vtype";const ne="btype";const ie="pext_id";const oe="pext_id_source";const ae=4;const se=3600;const ue=30;const le="vast2";const ce="vast3";const de=[le,ce];const fe=`${Math.round(Math.random()*1e12)}${Date.now()}`;const pe={PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll"};class he{constructor(){this.baseDomain=u;this.bidPath=c;this.pageLoadId=fe;this.cacheBuster=Math.round(Math.random()*1e7).toString();this.breakPositions=pe}withReturnType(e){if(de.indexOf(e)===-1){const t=JSON.stringify(de);throw new a.AmazonVideoAdsError(a.ErrorType.AD_LOAD,a.AmazonErrorCode.AD_REQUEST_INVALID_FIELD_ERROR,`Invalid return type: ${e}. Valid values are: ${t}`)}this.returnType=e;return this}withDuration(e){if(e>se){e=e/1e3}if(e>0&&e<ae){console.warn("Invalid Duration value ",e," overidden to ",ue);e=ue}this.duration=e;return this}withIPAddress(e){this.ip=e;return this}withGeocode(e){this.countryCode=e;return this}withDeviceCategory(e){this.deviceCategory=e;return this}withDevicePlatform(e){this.devicePlatform=e;return this}withDeviceType(e){this.deviceType=e;return this}withBndl(e){this.bndl=e;return this}withApp(e){this.app=e;return this}withOS(e){this.os=e;return this}withDoNotTrack(e){this.doNotTrack=e?"1":"0";return this}withUserAgent(e){this.userAgent=e;return this}withPageLoadID(e){this.pageLoadId=e;return this}withCacheBuster(e){this.cacheBuster=e;return this}withAdCacheBypassed(){this.bypassCache=true;return this}withCurrentWindowSize(){const e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;const t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;const r=e+"x"+t;return this.withWindowSize(r)}withWindowSize(e){this.windowSize=e;return this}withURL(e){this.url=e;return this}withSlot(e){this.slots=this.slots||[];this.slots.push(e);return this}withKeyValuePair(e,t){this.keyValuePairs=this.keyValuePairs||{};this.keyValuePairs[e]=t+"";return this}withRawPageReferrer(e){this.referrerUrl=e;return this}withGDPREnabled(e){this.gdprEnabled=e;return this}withGDPRConsent(e){this.gdprConsent=e;return this}withGDPRL(e){this.gdprl=e;return this}withPublisherExtendedID(e){this.publisherExtendedId=e;return this}withPublisherExtendedSource(e){this.publisherExtendedSource=e;return this}withPublisherID(e){this.publisherId=e;return this}withPublisherName(e){this.publisherName=e;return this}withProducerID(e){this.producerId=e;return this}withProducerName(e){this.producerName=e;return this}withS3TestMode(){this.baseDomain="https://d2v02itv0y9u9t.cloudfront.net";this.bidPath="test/testvast.xml";return this}withBreakPosition(e){this.breakPosition=e;return this}withRating(e){this.rating=e;return this}withCustomerID(e){this.customerId=e;return this}withDomain(e){this.baseDomain=e;return this}withCategoryId(e){this.categoryId=e;return this}withCategoryName(e){this.categoryName=e;return this}withChannelId(e){this.channelId=e;return this}withChannelName(e){this.channelName=e;return this}withChannelType(e){this.channelType=e;return this}withCommercialId(e){this.commercialId=e;return this}withMAFSDecision(e){this.mafsDecision=e;this.baseDomain=s;this.bidPath=l;return this}withIsMature(e){this.isMature=e;return this}withPlatform(e){this.platform=e;return this}withRadsToken(e){this.radsToken=e;return this}withTags(e){this.tags=e;return this}withTwitchCorrelator(e){this.twitchCorrelator=e;return this}withUserId(e){this.userId=e;return this}withVodType(e){this.vodType=e;return this}withBroadcastType(e){this.broadcastType=e;return this}withAdvertisingID(e){this.advertisingID=e;return this}buildAdTagURL(){this.validateRequest();const e={};this.addParameter(e,j,"V6SJavaScriptSDK"+"-"+"1.1.7");this.addParameter(e,d,this.customerId);this.addParameter(e,p,this.returnType);this.addParameter(e,h,this.duration);this.addParameter(e,m,this.ip);this.addParameter(e,v,this.countryCode);this.addParameter(e,E,this.deviceCategory);this.addParameter(e,y,this.devicePlatform);this.addParameter(e,g,this.deviceType);this.addParameter(e,R,this.os);this.addParameter(e,_,this.bndl);this.addParameter(e,A,this.app);this.addParameter(e,b,this.doNotTrack);this.addParameter(e,T,this.userAgent);this.addParameter(e,P,this.pageLoadId);this.addParameter(e,w,this.cacheBuster);this.addParameter(e,O,this.bypassCache?"true":undefined);this.addParameter(e,S,this.windowSize);this.addParameter(e,I,this.url);this.addParameter(e,C,JSON.stringify(this.slots));this.addParameter(e,N,JSON.stringify(this.keyValuePairs));this.addParameter(e,D,this.referrerUrl);this.addParameter(e,k,this.gdprEnabled?"1":undefined);this.addParameter(e,U,this.gdprConsent);this.addParameter(e,x,JSON.stringify(this.gdprl));this.addParameter(e,V,this.producerId);this.addParameter(e,F,this.producerName);this.addParameter(e,L,this.publisherId);this.addParameter(e,M,this.publisherName);this.addParameter(e,B,this.breakPosition);this.addParameter(e,z,this.rating);this.addParameter(e,f,this.advertisingID);this.addParameter(e,H,this.categoryName);this.addParameter(e,W,this.categoryId);this.addParameter(e,q,this.channelId);this.addParameter(e,Y,this.channelName);this.addParameter(e,Q,this.channelType);this.addParameter(e,$,this.commercialId);this.addParameter(e,G,this.mafsDecision);this.addParameter(e,K,this.isMature);this.addParameter(e,X,this.platform);this.addParameter(e,Z,this.radsToken);this.addParameter(e,J,this.tags);this.addParameter(e,ee,this.twitchCorrelator);this.addParameter(e,te,this.userId);this.addParameter(e,re,this.vodType);this.addParameter(e,ne,this.broadcastType);this.addParameter(e,ie,this.publisherExtendedId);this.addParameter(e,oe,this.publisherExtendedSource);const t=this.stringifyQueryParameters(e);const r=this.buildBidUrl()+t;return r}buildBidUrl(){if(this.baseURL){return this.baseURL}return this.baseDomain+this.bidPath+"?"}stringifyQueryParameters(e){const t=o.default(e,(e,t,r)=>{const n=encodeURIComponent(t);const i=`${r}=${n}&`;e+=i;return e},"");return t}validateRequest(){this.validateRequiredField("Return Type",this.returnType);this.validateRequiredField("Duration",this.duration);this.validateRequiredField("Geocode",this.countryCode);this.validateRequiredField("URL",this.url);this.validateRequiredField("Slots",this.slots);this.validateRequiredField("Publisher ID",this.publisherId);this.validateDomain();this.validateRangeField("Duration",this.duration,ae,se)}validateDomain(){if(typeof URL!=="function"){return}let e;try{e=new URL(this.baseDomain)}catch(e){throw new a.AmazonVideoAdsError(a.ErrorType.AD_LOAD,a.AmazonErrorCode.AD_REQUEST_INVALID_FIELD_ERROR,`Invalid url provided for Domain`)}this.baseDomain=e.origin}validateRequiredField(e,t){if(i.default(t)){throw new a.AmazonVideoAdsError(a.ErrorType.AD_LOAD,a.AmazonErrorCode.AD_REQUEST_MISSING_REQUIRED_FIELD_ERROR,`Missing required field: ${e}`)}}validateRangeField(e,t,r,n){if(t<r||t>n){throw new a.AmazonVideoAdsError(a.ErrorType.AD_LOAD,a.AmazonErrorCode.AD_REQUEST_INVALID_FIELD_ERROR,`Invalid value for ${e}. Valid Range is [${r}, ${n}]`)}}addParameter(e,t,r){if(!r){return}e[t]=r}}t.RequestBuilder=he},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(38));const o=r(4);class a{constructor(){this.keyValuePairs={}}withId(e){this.id=e;return this}withSize(e){this.size=e;return this}withMediaType(e){this.mediaType=e;return this}withAdUnit(e){this.adUnit=e;return this}withKeyValuePair(e,t){this.keyValuePairs[e]=t+"";return this}build(){this.validateRequiredField("id",this.id);this.validateRequiredField("size",this.size);this.validateRequiredField("mediaType",this.mediaType);if(this.adUnit&&this.keyValuePairs.adUnit&&this.adUnit!==this.keyValuePairs.adUnit){const e="Conflict between adUnit input ["+this.adUnit+"] and keyValuePair ["+this.keyValuePairs.adUnit+"]. Please only set one of them";throw new o.AmazonVideoAdsError(o.ErrorType.AD_LOAD,o.AmazonErrorCode.AD_REQUEST_MISSING_REQUIRED_FIELD_ERROR,e)}if(this.adUnit){this.withKeyValuePair("adUnit",this.adUnit)}return{id:this.id,mt:this.mediaType,kv:this.keyValuePairs,s:this.size}}validateRequiredField(e,t){if(i.default(t)){throw new o.AmazonVideoAdsError(o.ErrorType.AD_LOAD,o.AmazonErrorCode.AD_REQUEST_MISSING_REQUIRED_FIELD_ERROR,`Missing required field: ${e}`)}}}t.SlotBuilder=a},function(e,t,r){"use strict";(function(e){var r=typeof e=="object"&&e&&e.Object===Object&&e;t["a"]=r}).call(this,r(20))}]);
//# sourceMappingURL=v6s.js.map